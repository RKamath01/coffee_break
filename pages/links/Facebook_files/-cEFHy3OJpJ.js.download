if (self.CavalryLogger) { CavalryLogger.start_js(["U8HWh"]); }

__d("CameraFileBugButton.react",["ix","fbt","AsyncDialog","AsyncRequest","Image.react","React","ReactMenu","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("ReactMenu").Item,k="/ajax/bugs/report",l="342047509524458";function m(){var n=function n(){c("AsyncDialog").send(new(c("AsyncRequest"))().setData({product_category_id:l}).setURI(k))};return c("React").createElement(j,{onClick:n,key:"bug"},c("React").createElement(c("Image.react"),{src:h("112874")}),i._("Something isn't working"))}f.exports=m}),null);
__d("CameraPostDirectMarkSeenMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1644150182303893"};j.getQueryID=function(){"use strict";return"171816796723339"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("CameraPostLoggingEvents",[],(function a(b,c,d,e,f,g){"use strict";f.exports={SEND_REPLY_ATTEMPT:"send_direct_reply_attempted",SEND_REPLY_SUCCESS:"send_direct_reply_success",SEND_REPLY_FAILURE:"send_direct_reply_failure",THREAD_VIEWED:"view",THREAD_MARK_SEEN_ATTEMPT:"mark_thread_seen_attempted",THREAD_MARK_SEEN_SUCCESS:"mark_thread_seen_success",THREAD_MARK_SEEN_FAILURE:"mark_thread_seen_failure",DIRECT_VIEWER_CLICKOUT:"clickout"}}),null);
__d("CameraPostQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1664585166955724"};j.getQueryID=function(){"use strict";return"639272223101591"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("CameraPostRepliesQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1494166853955273"};j.getQueryID=function(){"use strict";return"1468697053209427"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("CameraPostReplyMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1459763854077111"};j.getQueryID=function(){"use strict";return"1849675045338105"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("CameraPostUserQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1652248708148952"};j.getQueryID=function(){"use strict";return"143159039576179"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("DirectMessagingTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:DirectMessagingLoggerConfig",this.$DirectMessagingTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:DirectMessagingLoggerConfig",this.$DirectMessagingTypedLogger1,c("Banzai").VITAL)};h.prototype.logImmediately=function(){c("GeneratedLoggerUtils").log("logger:DirectMessagingLoggerConfig",this.$DirectMessagingTypedLogger1,{signal:true})};h.prototype.clear=function(){this.$DirectMessagingTypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$DirectMessagingTypedLogger1)};h.prototype.updateData=function(j){this.$DirectMessagingTypedLogger1=babelHelpers["extends"]({},this.$DirectMessagingTypedLogger1,j);return this};h.prototype.setAccountstatus=function(j){this.$DirectMessagingTypedLogger1.accountstatus=j;return this};h.prototype.setActionSource=function(j){this.$DirectMessagingTypedLogger1.action_source=j;return this};h.prototype.setAppID=function(j){this.$DirectMessagingTypedLogger1.appid=j;return this};h.prototype.setAppversion=function(j){this.$DirectMessagingTypedLogger1.appversion=j;return this};h.prototype.setBackstagePostID=function(j){this.$DirectMessagingTypedLogger1.backstage_post_id=j;return this};h.prototype.setBackstageThreadID=function(j){this.$DirectMessagingTypedLogger1.backstage_thread_id=j;return this};h.prototype.setBadgingNumber=function(j){this.$DirectMessagingTypedLogger1.badging_number=j;return this};h.prototype.setBlacklistedIds=function(j){this.$DirectMessagingTypedLogger1.blacklisted_ids=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setBlacklistedStoriesUsersCount=function(j){this.$DirectMessagingTypedLogger1.blacklisted_stories_users_count=j;return this};h.prototype.setCameraPostType=function(j){this.$DirectMessagingTypedLogger1.camera_post_type=j;return this};h.prototype.setCameraStoryPromotionID=function(j){this.$DirectMessagingTypedLogger1.camera_story_promotion_id=j;return this};h.prototype.setCardID=function(j){this.$DirectMessagingTypedLogger1.card_id=j;return this};h.prototype.setClientCameraPostTrackingKey=function(j){this.$DirectMessagingTypedLogger1.client_camera_post_tracking_key=j;return this};h.prototype.setClientIsReplay=function(j){this.$DirectMessagingTypedLogger1.client_is_replay=j;return this};h.prototype.setClientMediaContentID=function(j){this.$DirectMessagingTypedLogger1.client_media_content_id=j;return this};h.prototype.setClientMediaID=function(j){this.$DirectMessagingTypedLogger1.client_media_id=j;return this};h.prototype.setClientMediaIdsStrings=function(j){this.$DirectMessagingTypedLogger1.client_media_ids_strings=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setClientSessionID=function(j){this.$DirectMessagingTypedLogger1.client_session_id=j;return this};h.prototype.setClientSessionTime=function(j){this.$DirectMessagingTypedLogger1.client_session_time=j;return this};h.prototype.setClientShareSheetID=function(j){this.$DirectMessagingTypedLogger1.client_share_sheet_id=j;return this};h.prototype.setClientViewerSessionID=function(j){this.$DirectMessagingTypedLogger1.client_viewer_session_id=j;return this};h.prototype.setClienttime=function(j){this.$DirectMessagingTypedLogger1.clienttime=j;return this};h.prototype.setContainermodule=function(j){this.$DirectMessagingTypedLogger1.containermodule=j;return this};h.prototype.setCount=function(j){this.$DirectMessagingTypedLogger1.count=j;return this};h.prototype.setCountry=function(j){this.$DirectMessagingTypedLogger1.country=j;return this};h.prototype.setDeviceid=function(j){this.$DirectMessagingTypedLogger1.deviceid=j;return this};h.prototype.setDirectDataSessionID=function(j){this.$DirectMessagingTypedLogger1.direct_data_session_id=j;return this};h.prototype.setDirectGroup=function(j){this.$DirectMessagingTypedLogger1.direct_group=j;return this};h.prototype.setDirectRecipients=function(j){this.$DirectMessagingTypedLogger1.direct_recipients=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setDirectRecipientsSize=function(j){this.$DirectMessagingTypedLogger1.direct_recipients_size=j;return this};h.prototype.setDirectSessionID=function(j){this.$DirectMessagingTypedLogger1.direct_session_id=j;return this};h.prototype.setDirectSpaces=function(j){this.$DirectMessagingTypedLogger1.direct_spaces=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setEventStoriesInTray=function(j){this.$DirectMessagingTypedLogger1.event_stories_in_tray=j;return this};h.prototype.setEventname=function(j){this.$DirectMessagingTypedLogger1.eventname=j;return this};h.prototype.setExtraClientData=function(j){this.$DirectMessagingTypedLogger1.extra_client_data=j;return this};h.prototype.setFirstView=function(j){this.$DirectMessagingTypedLogger1.first_view=j;return this};h.prototype.setFolloweeStoriesInTray=function(j){this.$DirectMessagingTypedLogger1.followee_stories_in_tray=j;return this};h.prototype.setFriendStoriesInTray=function(j){this.$DirectMessagingTypedLogger1.friend_stories_in_tray=j;return this};h.prototype.setGesture=function(j){this.$DirectMessagingTypedLogger1.gesture=j;return this};h.prototype.setGroupRecipients=function(j){this.$DirectMessagingTypedLogger1.group_recipients=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setGroupRecipientsSize=function(j){this.$DirectMessagingTypedLogger1.group_recipients_size=j;return this};h.prototype.setGroupStoriesInTray=function(j){this.$DirectMessagingTypedLogger1.group_stories_in_tray=j;return this};h.prototype.setHasMyStory=function(j){this.$DirectMessagingTypedLogger1.has_my_story=j;return this};h.prototype.setHasNewContent=function(j){this.$DirectMessagingTypedLogger1.has_new_content=j;return this};h.prototype.setHasNewReactions=function(j){this.$DirectMessagingTypedLogger1.has_new_reactions=j;return this};h.prototype.setHasNewViews=function(j){this.$DirectMessagingTypedLogger1.has_new_views=j;return this};h.prototype.setHasNuxStory=function(j){this.$DirectMessagingTypedLogger1.has_nux_story=j;return this};h.prototype.setInspirationGroupSession=function(j){this.$DirectMessagingTypedLogger1.inspiration_group_session=j;return this};h.prototype.setInstagramMediaID=function(j){this.$DirectMessagingTypedLogger1.instagram_media_id=j;return this};h.prototype.setInstagramUserID=function(j){this.$DirectMessagingTypedLogger1.instagram_user_id=j;return this};h.prototype.setInterface=function(j){this.$DirectMessagingTypedLogger1["interface"]=j;return this};h.prototype.setIsCamera=function(j){this.$DirectMessagingTypedLogger1.is_camera=j;return this};h.prototype.setIsFromStory=function(j){this.$DirectMessagingTypedLogger1.is_from_story=j;return this};h.prototype.setIsStory=function(j){this.$DirectMessagingTypedLogger1.is_story=j;return this};h.prototype.setIsemployee=function(j){this.$DirectMessagingTypedLogger1.isemployee=j;return this};h.prototype.setLiveStoriesInTray=function(j){this.$DirectMessagingTypedLogger1.live_stories_in_tray=j;return this};h.prototype.setLiveVideoID=function(j){this.$DirectMessagingTypedLogger1.live_video_id=j;return this};h.prototype.setMediaIndex=function(j){this.$DirectMessagingTypedLogger1.media_index=j;return this};h.prototype.setMediaOwner=function(j){this.$DirectMessagingTypedLogger1.media_owner=j;return this};h.prototype.setMediaOwnerTypeString=function(j){this.$DirectMessagingTypedLogger1.media_owner_type_string=j;return this};h.prototype.setMediaType=function(j){this.$DirectMessagingTypedLogger1.media_type=j;return this};h.prototype.setMessageID=function(j){this.$DirectMessagingTypedLogger1.message_id=j;return this};h.prototype.setMessageLength=function(j){this.$DirectMessagingTypedLogger1.message_length=j;return this};h.prototype.setMessageType=function(j){this.$DirectMessagingTypedLogger1.message_type=j;return this};h.prototype.setMobileNetworkType=function(j){this.$DirectMessagingTypedLogger1.mobile_network_type=j;return this};h.prototype.setMontageMessageID=function(j){this.$DirectMessagingTypedLogger1.montage_message_id=j;return this};h.prototype.setMutationID=function(j){this.$DirectMessagingTypedLogger1.mutation_id=j;return this};h.prototype.setName=function(j){this.$DirectMessagingTypedLogger1.name=j;return this};h.prototype.setNumParticipants=function(j){this.$DirectMessagingTypedLogger1.num_participants=j;return this};h.prototype.setNumberBadges=function(j){this.$DirectMessagingTypedLogger1.number_badges=j;return this};h.prototype.setNumberLiveStories=function(j){this.$DirectMessagingTypedLogger1.number_live_stories=j;return this};h.prototype.setNumberMedia=function(j){this.$DirectMessagingTypedLogger1.number_media=j;return this};h.prototype.setNumberNewRows=function(j){this.$DirectMessagingTypedLogger1.number_new_rows=j;return this};h.prototype.setNumberNewStories=function(j){this.$DirectMessagingTypedLogger1.number_new_stories=j;return this};h.prototype.setNumberReactions=function(j){this.$DirectMessagingTypedLogger1.number_reactions=j;return this};h.prototype.setNumberRows=function(j){this.$DirectMessagingTypedLogger1.number_rows=j;return this};h.prototype.setNumberStories=function(j){this.$DirectMessagingTypedLogger1.number_stories=j;return this};h.prototype.setNumberViewers=function(j){this.$DirectMessagingTypedLogger1.number_viewers=j;return this};h.prototype.setOtherParticipant=function(j){this.$DirectMessagingTypedLogger1.other_participant=j;return this};h.prototype.setOverlayTypesUsed=function(j){this.$DirectMessagingTypedLogger1.overlay_types_used=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setPageStoriesInTray=function(j){this.$DirectMessagingTypedLogger1.page_stories_in_tray=j;return this};h.prototype.setPrivacyMode=function(j){this.$DirectMessagingTypedLogger1.privacy_mode=j;return this};h.prototype.setProductMediaType=function(j){this.$DirectMessagingTypedLogger1.product_media_type=j;return this};h.prototype.setProductSurface=function(j){this.$DirectMessagingTypedLogger1.product_surface=j;return this};h.prototype.setPromotionStoriesInTray=function(j){this.$DirectMessagingTypedLogger1.promotion_stories_in_tray=j;return this};h.prototype.setRawclienttime=function(j){this.$DirectMessagingTypedLogger1.rawclienttime=j;return this};h.prototype.setReactionID=function(j){this.$DirectMessagingTypedLogger1.reaction_id=j;return this};h.prototype.setReactionType=function(j){this.$DirectMessagingTypedLogger1.reaction_type=j;return this};h.prototype.setReadStories=function(j){this.$DirectMessagingTypedLogger1.read_stories=j;return this};h.prototype.setReason=function(j){this.$DirectMessagingTypedLogger1.reason=j;return this};h.prototype.setReplaysLeft=function(j){this.$DirectMessagingTypedLogger1.replays_left=j;return this};h.prototype.setReplyCount=function(j){this.$DirectMessagingTypedLogger1.reply_count=j;return this};h.prototype.setReplyType=function(j){this.$DirectMessagingTypedLogger1.reply_type=j;return this};h.prototype.setRowIndex=function(j){this.$DirectMessagingTypedLogger1.row_index=j;return this};h.prototype.setRowStatus=function(j){this.$DirectMessagingTypedLogger1.row_status=j;return this};h.prototype.setSendKey=function(j){this.$DirectMessagingTypedLogger1.send_key=j;return this};h.prototype.setServerPostSource=function(j){this.$DirectMessagingTypedLogger1.server_post_source=j;return this};h.prototype.setServertime=function(j){this.$DirectMessagingTypedLogger1.servertime=j;return this};h.prototype.setSoftDeletedStoryThreadIds=function(j){this.$DirectMessagingTypedLogger1.soft_deleted_story_thread_ids=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setSource=function(j){this.$DirectMessagingTypedLogger1.source=j;return this};h.prototype.setSourceThreadID=function(j){this.$DirectMessagingTypedLogger1.source_thread_id=j;return this};h.prototype.setStoryIndex=function(j){this.$DirectMessagingTypedLogger1.story_index=j;return this};h.prototype.setStoryMediaIds=function(j){this.$DirectMessagingTypedLogger1.story_media_ids=c("GeneratedLoggerUtils").serializeMap(j);return this};h.prototype.setStoryOwner=function(j){this.$DirectMessagingTypedLogger1.story_owner=j;return this};h.prototype.setStoryOwnerFbids=function(j){this.$DirectMessagingTypedLogger1.story_owner_fbids=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setStoryOwnerType=function(j){this.$DirectMessagingTypedLogger1.story_owner_type=j;return this};h.prototype.setStoryRankingScores=function(j){this.$DirectMessagingTypedLogger1.story_ranking_scores=c("GeneratedLoggerUtils").serializeMap(j);return this};h.prototype.setStoryThreadIds=function(j){this.$DirectMessagingTypedLogger1.story_thread_ids=c("GeneratedLoggerUtils").serializeMap(j);return this};h.prototype.setTargetID=function(j){this.$DirectMessagingTypedLogger1.target_id=j;return this};h.prototype.setThreadCount=function(j){this.$DirectMessagingTypedLogger1.thread_count=j;return this};h.prototype.setThreadViewIdentifier=function(j){this.$DirectMessagingTypedLogger1.thread_view_identifier=j;return this};h.prototype.setTrackingString=function(j){this.$DirectMessagingTypedLogger1.tracking_string=j;return this};h.prototype.setTraySessionID=function(j){this.$DirectMessagingTypedLogger1.tray_session_id=j;return this};h.prototype.setTriggerSource=function(j){this.$DirectMessagingTypedLogger1.trigger_source=j;return this};h.prototype.setTruePromptID=function(j){this.$DirectMessagingTypedLogger1.true_prompt_id=j;return this};h.prototype.setUnifiedPrivacyMode=function(j){this.$DirectMessagingTypedLogger1.unified_privacy_mode=j;return this};h.prototype.setUnreadStories=function(j){this.$DirectMessagingTypedLogger1.unread_stories=j;return this};h.prototype.setVC=function(j){this.$DirectMessagingTypedLogger1.vc=j;return this};h.prototype.setWhitelistedIds=function(j){this.$DirectMessagingTypedLogger1.whitelisted_ids=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setWhitelistedStoriesUsersCount=function(j){this.$DirectMessagingTypedLogger1.whitelisted_stories_users_count=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$DirectMessagingTypedLogger1=babelHelpers["extends"]({},this.$DirectMessagingTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={accountstatus:true,action_source:true,appid:true,appversion:true,backstage_post_id:true,backstage_thread_id:true,badging_number:true,blacklisted_ids:true,blacklisted_stories_users_count:true,camera_post_type:true,camera_story_promotion_id:true,card_id:true,client_camera_post_tracking_key:true,client_is_replay:true,client_media_content_id:true,client_media_id:true,client_media_ids_strings:true,client_session_id:true,client_session_time:true,client_share_sheet_id:true,client_viewer_session_id:true,clienttime:true,containermodule:true,count:true,country:true,deviceid:true,direct_data_session_id:true,direct_group:true,direct_recipients:true,direct_recipients_size:true,direct_session_id:true,direct_spaces:true,event_stories_in_tray:true,eventname:true,extra_client_data:true,first_view:true,followee_stories_in_tray:true,friend_stories_in_tray:true,gesture:true,group_recipients:true,group_recipients_size:true,group_stories_in_tray:true,has_my_story:true,has_new_content:true,has_new_reactions:true,has_new_views:true,has_nux_story:true,inspiration_group_session:true,instagram_media_id:true,instagram_user_id:true,"interface":true,is_camera:true,is_from_story:true,is_story:true,isemployee:true,live_stories_in_tray:true,live_video_id:true,media_index:true,media_owner:true,media_owner_type_string:true,media_type:true,message_id:true,message_length:true,message_type:true,mobile_network_type:true,montage_message_id:true,mutation_id:true,name:true,num_participants:true,number_badges:true,number_live_stories:true,number_media:true,number_new_rows:true,number_new_stories:true,number_reactions:true,number_rows:true,number_stories:true,number_viewers:true,other_participant:true,overlay_types_used:true,page_stories_in_tray:true,privacy_mode:true,product_media_type:true,product_surface:true,promotion_stories_in_tray:true,rawclienttime:true,reaction_id:true,reaction_type:true,read_stories:true,reason:true,replays_left:true,reply_count:true,reply_type:true,row_index:true,row_status:true,send_key:true,server_post_source:true,servertime:true,soft_deleted_story_thread_ids:true,source:true,source_thread_id:true,story_index:true,story_media_ids:true,story_owner:true,story_owner_fbids:true,story_owner_type:true,story_ranking_scores:true,story_thread_ids:true,target_id:true,thread_count:true,thread_view_identifier:true,tracking_string:true,tray_session_id:true,trigger_source:true,true_prompt_id:true,unified_privacy_mode:true,unread_stories:true,vc:true,whitelisted_ids:true,whitelisted_stories_users_count:true};f.exports=h}),null);
__d("FBStoriesLoggingConstants",[],(function a(b,c,d,e,f,g){"use strict";var h={EVENT_STORY:"event",FOLLOWEE_STORY:"followee",FRIEND_STORY:"friend",GROUP_STORY:"group",MISSING_STORY_DATA:"missingStoryData",PAGE_STORY:"page",SELF_STORY:"self",STORY_PROMOTION:"promotion",ACTION_OPEN_MEDIA:"open_media",ACTION_DELETE_MEDIA:"delete_media_attempted",ACTION_SEND_REPLY_ATTEMPT:"attempt_to_send_reply",ACTION_SEND_REPLY_SUCCESS:"mark_reply_sent",ACTION_SEND_REPLY_FAILURE:"reply_sent_failure",ACTION_SEND_STICKER_ATTEMPT:"attempt_to_send_sticker",ACTION_SEND_STICKER_SUCCESS:"mark_sticker_sent",ACTION_SEND_STICKER_FAILURE:"sticker_sent_failure",ACTION_SEND_GIF_ATTEMPT:"attempt_to_send_gif",ACTION_SEND_GIF_SUCCESS:"mark_gif_sent",ACTION_SEND_GIF_FAILURE:"gif_sent_failure",ACTION_OPEN_SEEN_SUMMARY:"open_seen_summary",ACTION_OPEN_STORY:"open_story",ACTION_CLOSE_STORY:"close_story",ACTION_TRAY_LOAD:"story_tray_load",SOURCE_OPEN_FROM_STORY_HEAD:"openFromStoryHead",SOURCE_OPEN_FROM_PRIOR_STORY:"openFromPriorStory",SOURCE_CLOSE_FROM_MODAL:"closeFromClickingOnModal",SOURCE_CLOSE_FROM_MODAL_CLOSE_BUTTON:"closeFromClickingOnModalCloseButton",SOURCE_CLOSE_FROM_LAST_STORY_FINISHING:"closeFromLastStoryFinishing",INTERACTIONS:{CATEGORY_KEY:"fb_stories_tray",TOTAL_INIT:"init_agg",DATA_LOADING:"graphql_data_loading",TRAY_RENDER:"react_story_tray_render",VIEWER_OPEN:"viewer_open"}};f.exports=h}),null);
__d("CameraPostGraphQLAPI",["CameraPostDirectMarkSeenMutationWebGraphQLMutation","CameraPostLoggingEvents","CameraPostQueryWebGraphQLQuery","CameraPostRepliesQueryWebGraphQLQuery","CameraPostReplyMutationWebGraphQLMutation","CameraPostUserQueryWebGraphQLQuery","DirectMessagingTypedLogger","FBStoriesLoggingConstants","WebGraphQL","Banzai","idx","uniqueID"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(i,j,k,l,m,n){__p&&__p();var o=new(c("DirectMessagingTypedLogger"))().setCameraPostType(j).setProductSurface("www").setName(l).setCardID(i.toString());if(k.message){var p=k.message.length;o.setMessageLength(p)}if(k.sticker_id)o.addToExtraData("sticker_id",k.sticker_id);if(k.gif_url)o.addToExtraData("gif_url",k.gif_url);o.log();c("Banzai").post("stories_interaction_poseidon_logging_banzai",{name:l,thread_id:String(i)});return c("WebGraphQL").exec(new(c("CameraPostReplyMutationWebGraphQLMutation"))({input:k})).then(function(q){new(c("DirectMessagingTypedLogger"))().setCameraPostType(j).setProductSurface("www").setName(m).setCardID(i.toString()).log();return q},function(q){new(c("DirectMessagingTypedLogger"))().setCameraPostType(j).setProductSurface("www").setName(n).setCardID(i.toString()).log();return q})};f.exports={sendDirectMessageReply:function i(j,k,l,m,n){__p&&__p();var o=c("uniqueID")(),p={client_mutation_id:o,actor_id:j,thread_id:k,message:l},q=void 0,r=void 0,s=void 0;if(n){q=c("FBStoriesLoggingConstants").ACTION_SEND_REPLY_ATTEMPT;r=c("FBStoriesLoggingConstants").ACTION_SEND_REPLY_SUCCESS;s=c("FBStoriesLoggingConstants").ACTION_SEND_REPLY_FAILURE}else{q=c("CameraPostLoggingEvents").SEND_REPLY_ATTEMPT;r=c("CameraPostLoggingEvents").SEND_REPLY_SUCCESS;s=c("CameraPostLoggingEvents").SEND_REPLY_FAILURE}return h(k,m,p,q,r,s)},sendDirectStickerReply:function i(j,k,l,m){var n=c("uniqueID")(),o={client_mutation_id:n,actor_id:j,thread_id:k,sticker_id:m};return h(k,l,o,c("FBStoriesLoggingConstants").ACTION_SEND_STICKER_ATTEMPT,c("FBStoriesLoggingConstants").ACTION_SEND_STICKER_SUCCESS,c("FBStoriesLoggingConstants").ACTION_SEND_STICKER_FAILURE)},sendDirectGifReply:function i(j,k,l,m){var n=c("uniqueID")(),o={client_mutation_id:n,actor_id:j,thread_id:k,gif_url:m};return h(k,l,o,c("FBStoriesLoggingConstants").ACTION_SEND_GIF_ATTEMPT,c("FBStoriesLoggingConstants").ACTION_SEND_GIF_SUCCESS,c("FBStoriesLoggingConstants").ACTION_SEND_GIF_FAILURE)},loadThreadFullInformation:function i(j,k){return c("WebGraphQL").exec(new(c("CameraPostQueryWebGraphQLQuery"))({thread_id:k})).then(function(l){var m,n,o=(m=l)!=null?(m=m.node)!=null?m.camera_post_type:m:m,p=(n=l)!=null?(n=n.node)!=null?n.viewer_replays_left:n:n;new(c("DirectMessagingTypedLogger"))().setCameraPostType(o).setName(c("CameraPostLoggingEvents").THREAD_VIEWED).setProductSurface("www").setReplaysLeft(p).setCardID(k.toString()).log();return l},function(l){return l})},loadUserInfo:function i(){return c("WebGraphQL").exec(new(c("CameraPostUserQueryWebGraphQLQuery"))())},loadRepliesForThread:function i(j){return c("WebGraphQL").exec(new(c("CameraPostRepliesQueryWebGraphQLQuery"))({thread_id:j}))},markThreadSeen:function i(j,k,l,m,n){var o={client_mutation_id:c("uniqueID")(),actor_id:j,thread_id:k,last_message_seen_id:l},p=new(c("DirectMessagingTypedLogger"))().setCameraPostType(m).setName(c("CameraPostLoggingEvents").THREAD_MARK_SEEN_ATTEMPT).setProductSurface("www").setCardID(k.toString());if(n)p=p.setReplaysLeft(n);p.log();return c("WebGraphQL").exec(new(c("CameraPostDirectMarkSeenMutationWebGraphQLMutation"))({input:o})).then(function(q){new(c("DirectMessagingTypedLogger"))().setCameraPostType(m).setProductSurface("www").setName(c("CameraPostLoggingEvents").THREAD_MARK_SEEN_SUCCESS).setReplaysLeft(n).setCardID(k.toString()).log();return q},function(q){new(c("DirectMessagingTypedLogger"))().setCameraPostType(m).setProductSurface("www").setName(c("CameraPostLoggingEvents").THREAD_MARK_SEEN_FAILURE).setReplaysLeft(n).setCardID(k.toString()).log();return q})},_getLogger:function i(){return new(c("DirectMessagingTypedLogger"))()}}}),null);
__d("CameraPostBucketOwnerHelper",["idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={getId:function i(j){var k;return((k=j)!=null?k.id:k)||""},getName:function i(j){var k;return((k=j)!=null?k.name:k)||""},getGender:function i(j){if(!j)return"";return j.gender?j.gender:""},isEventHost:function i(j){if(!j)return false;return j.is_viewer_host?!!j.is_viewer_host:false},isViewerFriend:function i(j){if(!j)return false;return j.is_viewer_friend?!!j.is_viewer_friend:false},isEmployee:function i(j){if(!j)return false;return j.is_employee?!!j.is_employee:false},getProfilePictureUri:function i(j){if(!j||!j.profile_picture)return"";return j.profile_picture.uri||""},getCoverPhotoUri:function i(j){var k;if(!j||!j.cover_photo)return"";return((k=j)!=null?(k=k.cover_photo)!=null?(k=k.photo)!=null?(k=k.image)!=null?k.uri:k:k:k:k)||""},isViewerPageContentAdmin:function i(j){var k=h._getViewerProfilePermissions(j);return k&&k.includes("EDIT_PROFILE")||false},isViewerGroupModerator:function i(j){var k=h._getViewerAdminType(j);return k==="MODERATOR"},isViewerGroupAdmin:function i(j){var k=h._getViewerAdminType(j);return k==="ADMIN"},_getViewerProfilePermissions:function i(j){var k;if(!j||!j.viewer_profile_permissions)return null;return((k=j)!=null?k.viewer_profile_permissions:k)||null},_getViewerAdminType:function i(j){var k;if(!j||!j.viewer_admin_type)return null;return((k=j)!=null?k.viewer_admin_type:k)||null},requiresAdminApproval:function i(j){if(!j)return false;return j.story_approval_required&&!!j.story_approval_required||(j.stories_admin_approval_required_setting?j.stories_admin_approval_required_setting==="ON":false)}};f.exports=h}),null);
__d("CameraPostMediaHelper",["idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={getId:function i(j){var k;return((k=j)!=null?k.id:k)||""},getWidth:function i(j){if(!j)return 0;if(j.width)return j.width;if(j.image)return j.image.width||0;return 0},getHeight:function i(j){if(!j)return 0;if(j.height)return j.height;if(j.image)return j.image.height||0;return 0},getType:function i(j){var k;return((k=j)!=null?k.__typename:k)||""},getImageUri:function i(j){if(!j)return null;return j.image?j.image.uri:null},getBlurImageUri:function i(j){if(!j)return null;return j.image_blurred?j.image_blurred.uri:null},isImage:function i(j){return h.getType(j)==="Photo"},isVideo:function i(j){return h.getType(j)==="Video"},getPreviewImage:function i(j){if(!j)return null;return j.preview_image?j.preview_image.uri:null},makeOptimisticPhotoMedia:function i(j){return{id:null,__typename:"Photo",preview_image:{uri:j,width:null,height:null},image:{uri:j,width:null,height:null},image_blurred:{uri:j,width:null,height:null}}}};f.exports=h}),null);
__d("CameraPostThreadOwnerHelper",["idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={getId:function i(j){var k;return(k=j)!=null?k.id:k},getName:function i(j){var k;return((k=j)!=null?k.name:k)||""},getIsViewerFriend:function i(j){var k;return!!((k=j)!=null?k.is_viewer_friend:k)},getProfilePictureUri:function i(j){var k;return((k=j)!=null?(k=k.profile_picture)!=null?k.uri:k:k)||""}};f.exports=h}),null);
__d("CameraPostTypes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({DIRECT:"DIRECT",GROUP_DIRECT:"GROUP_DIRECT",DIRECT_NUX:"DIRECT_NUX",STORY:"STORY",STORY_NUX:"STORY_NUX",PAGE_STORY:"PAGE_STORY",EVENT_STORY:"EVENT_STORY",BIRTHDAY_STORY:"BIRTHDAY_STORY",GROUP_STORY:"GROUP_STORY",TOPIC_STORY:"TOPIC_STORY",LIVE_STORY:"LIVE_STORY",PROMOTION_STORY:"PROMOTION_STORY",NULL_HEADS:"NULL_HEADS"})}),null);
__d("CameraPostTypesHelper",["CameraPostTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={isEventStory:function i(j){return j===c("CameraPostTypes").EVENT_STORY},isGroupStory:function i(j){return j===c("CameraPostTypes").GROUP_STORY},isMultiAuthor:function i(j){return h.isEventStory(j)||h.isGroupStory(j)},isPageStory:function i(j){return j===c("CameraPostTypes").PAGE_STORY},isPromotionStory:function i(j){return j===c("CameraPostTypes").PROMOTION_STORY},isStory:function i(j){return j===c("CameraPostTypes").STORY},isStoryNux:function i(j){return j===c("CameraPostTypes").STORY_NUX}};f.exports=h}),null);
__d("XEventReminderImpressionLoggerAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/events/ajax/reminder/impression/",{acontext:{type:"StringToStringMap",required:true},data:{type:"StringToStringMap"}})}),null);
__d("EventReminderController",["Arbiter","AsyncRequest","DOM","DOMQuery","Event","Scroll","ScrollableArea","XEventReminderImpressionLoggerAsyncController"],(function a(b,c,d,e,f,g){__p&&__p();var h={registerReminder:function i(j,k){__p&&__p();this._firstOpen=true;var l=j.getDialog(),m=c("ScrollableArea").getInstance(c("DOMQuery").scry(l.getRoot(),".uiScrollableArea")[0]),n=null;if(m){n=c("DOM").find(m.getElement(),"div.uiScrollableAreaWrap");m.subscribe("scroll",function(){return c("Arbiter").inform("EventReminderDialog/scroll",{rect:n.getBoundingClientRect(),scrollTop:c("Scroll").getTop(n)})})}c("Event").listen(j.getRoot(),"click",function(event){event.preventDefault()});l.subscribe("show",function(){var o=c("XEventReminderImpressionLoggerAsyncController").getURIBuilder().setStringToStringMap("acontext",k).setStringToStringMap("data",{first_open:this._firstOpen}).getURI();new(c("AsyncRequest"))(o).send();this._firstOpen=false;var p={};if(n)p={rect:n.getBoundingClientRect()};c("Arbiter").inform("EventReminderDialog/show",p)}.bind(this));l.subscribe("hide",function(){return c("Arbiter").inform("EventReminderDialog/hide")})}};f.exports=h}),null);
__d("FBStoriesAudienceModeMutationCallMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1883080631763254"};j.getQueryID=function(){"use strict";return"196508534442477"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("FBStoriesBucketsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1929072827102847"};j.getQueryID=function(){"use strict";return"1629211270462180"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("FBStoriesDeleteMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1340045906066120"};j.getQueryID=function(){"use strict";return"967072946766012"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("FBStoriesMuteMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1524574307634402"};j.getQueryID=function(){"use strict";return"1944151819168048"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("FBStoriesMutedBucketOwnersQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1891920954170361"};j.getQueryID=function(){"use strict";return"294951511028390"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("FBStoriesPrivacyChangeSubscriptionWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("WebGraphQLSubscriptionHelper").getExports({docID:"1698650280180657",queryID:"358127274690781"})}),null);
__d("FBStoriesPrivacyChangeSubscription",["BaseGraphQLSubscription","FBStoriesPrivacyChangeSubscriptionWebGraphQLSubscription","uuid"],(function a(b,c,d,e,f,g){var h=babelHelpers["extends"]({},c("BaseGraphQLSubscription"),{_getTopic:function i(j){return"gqls/unified_stories_privacy_change_subscribe/owner_id_"+j},_getQueryID:function i(){return c("FBStoriesPrivacyChangeSubscriptionWebGraphQLSubscription").getDocID()},_getQueryParameters:function i(j){return{input:JSON.stringify({client_subscription_id:c("uuid")(),owner_id:j})}},_getSubscriptionCallName:function i(){return"unified_stories_privacy_change_subscribe"}});f.exports=h}),null);
__d("FBStoriesPrivacySettingsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1636640369763506"};j.getQueryID=function(){"use strict";return"153291488685319"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("FBStoriesSeenRecieptsLastSeenTimeUpdateMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1386522808128715"};j.getQueryID=function(){"use strict";return"1384057201673076"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("FBStoriesTraySubscriptionWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("WebGraphQLSubscriptionHelper").getExports({docID:"1578665825583694",queryID:"191728138282182"})}),null);
__d("FBStoriesTraySubscription",["BaseGraphQLSubscription","FBStoriesTraySubscriptionWebGraphQLSubscription","uuid"],(function a(b,c,d,e,f,g){var h=babelHelpers["extends"]({},c("BaseGraphQLSubscription"),{_getTopic:function i(j){return"gqls/stories_tray_subscribe/user_id_"+j},_getQueryID:function i(){return c("FBStoriesTraySubscriptionWebGraphQLSubscription").getDocID()},_getQueryParameters:function i(j){return{input:JSON.stringify({client_subscription_id:c("uuid")(),user_id:j})}},_getSubscriptionCallName:function i(){return"stories_tray_subscribe"}});f.exports=h}),null);
__d("FBStoriesViewerBucketViewersQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1947206885297176"};j.getQueryID=function(){"use strict";return"306146936556058"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("FBStoriesVotePollMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1942364135805651"};j.getQueryID=function(){"use strict";return"1772533953042568"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("ReportStoryCardToAdminWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1435403036581993"};j.getQueryID=function(){"use strict";return"909342722558820"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("FBStoriesGraphQLAPI",["CurrentUser","FBStoriesAudienceModeMutationCallMutationWebGraphQLMutation","FBStoriesBucketsQueryWebGraphQLQuery","FBStoriesDeleteMutationWebGraphQLMutation","FBStoriesMutedBucketOwnersQueryWebGraphQLQuery","FBStoriesMuteMutationWebGraphQLMutation","FBStoriesPrivacyChangeSubscription","FBStoriesPrivacySettingsQueryWebGraphQLQuery","FBStoriesVotePollMutationWebGraphQLMutation","FBStoriesSeenRecieptsLastSeenTimeUpdateMutationWebGraphQLMutation","FBStoriesTraySubscription","FBStoriesViewerBucketViewersQueryWebGraphQLQuery","ReportStoryCardToAdminWebGraphQLMutation","WebGraphQL","uniqueID"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports={load:function h(){return c("WebGraphQL").exec(new(c("FBStoriesBucketsQueryWebGraphQLQuery"))())},loadPrivacySettings:function h(){return c("WebGraphQL").exec(new(c("FBStoriesPrivacySettingsQueryWebGraphQLQuery"))({}))},loadViewerListForThread:function h(i){return c("WebGraphQL").exec(new(c("FBStoriesViewerBucketViewersQueryWebGraphQLQuery"))({threadId:i}))},subscribeToPrivacyChanges:function h(i){return c("FBStoriesPrivacyChangeSubscription").subscribe(c("CurrentUser").getID(),i)},subscribeToTrayChanges:function h(i){return c("FBStoriesTraySubscription").subscribe(c("CurrentUser").getID(),i)},unsubscribeFromTrayChanges:function h(i){i.unsubscribe()},updateThreadSeenReciept:function h(i){var j={client_mutation_id:c("uniqueID")(),actor_id:c("CurrentUser").getID(),thread_id:i};return c("WebGraphQL").exec(new(c("FBStoriesSeenRecieptsLastSeenTimeUpdateMutationWebGraphQLMutation"))({input:j}))},deleteStory:function h(i,j){return c("WebGraphQL").exec(new(c("FBStoriesDeleteMutationWebGraphQLMutation"))({input:{client_mutation_id:c("uniqueID")(),actor_id:i,story_thread_ids:[j]}}))},muteBucketOwner:function h(i,j,k){return c("WebGraphQL").exec(new(c("FBStoriesMuteMutationWebGraphQLMutation"))({input:{client_mutation_id:c("uniqueID")(),actor_id:i,user_id:j,should_unfollow_user_story:k}}))},loadMutedBucketOwnersList:function h(){return c("WebGraphQL").exec(new(c("FBStoriesMutedBucketOwnersQueryWebGraphQLQuery"))({}))},pollVote:function h(i,j){return c("WebGraphQL").exec(new(c("FBStoriesVotePollMutationWebGraphQLMutation"))({input:{client_mutation_id:c("uniqueID")(),story_card_poll_id:i,option:j,actor_id:c("CurrentUser").getID()}}))},reportThreadToAdmin:function h(i,j){return c("WebGraphQL").exec(new(c("ReportStoryCardToAdminWebGraphQLMutation"))({input:{client_mutation_id:c("uniqueID")(),actor_id:i,report_to_admin_action:"REPORT",story_card_id:j}}))},changeAudienceMode:function h(i,j){return c("WebGraphQL").exec(new(c("FBStoriesAudienceModeMutationCallMutationWebGraphQLMutation"))({input:{client_mutation_id:c("uniqueID")(),actor_id:i,audience_mode:j}}))}}}),null);
__d("FBStoriesComposerDialogViewer",["Arbiter","Bootloader","DOM","FeedComposerIDStore","LitestandComposer","React","ReactComposerStoriesConfig","ReactDOM","Run","SubscriptionsHandler"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="fb_stories_composer_dialog";function i(){__p&&__p();this.close=function(){if(!this.$FBStoriesComposerDialogViewer1)return;this.$FBStoriesComposerDialogViewer1=false;c("ReactDOM").unmountComponentAtNode(this.$FBStoriesComposerDialogViewer2)}.bind(this);this.$FBStoriesComposerDialogViewer1=false;this.$FBStoriesComposerDialogViewer2=c("DOM").create("div",{id:h});if(document.body)document.body.appendChild(this.$FBStoriesComposerDialogViewer2);var j=c("ReactComposerStoriesConfig").contextConfig.composerID,k=c("FeedComposerIDStore").get();if(k){c("LitestandComposer").initComposer(k);this.$FBStoriesComposerDialogViewer3=new(c("SubscriptionsHandler"))();this.$FBStoriesComposerDialogViewer3.addSubscriptions(c("Arbiter").subscribe("LitestandComposer/publish",function(l,m){if(m.composer_id===j){m.composer_id=k;c("Arbiter").inform("LitestandComposer/publish",m)}}),c("Arbiter").subscribe("LitestandComposer/publishTemp",function(l,m){if(m.composer_id===j){m.composer_id=k;c("Arbiter").inform("LitestandComposer/publishTemp",m)}}))}c("Run").onLeave(function(){if(this.$FBStoriesComposerDialogViewer3)this.$FBStoriesComposerDialogViewer3.release()}.bind(this))}i.prototype.open=function(){if(this.$FBStoriesComposerDialogViewer1)return;this.$FBStoriesComposerDialogViewer1=true;c("Bootloader").loadModules(["FBStoriesComposerDialog.react"],function(j){c("ReactDOM").render(c("React").createElement(j,{onClose:this.close}),this.$FBStoriesComposerDialogViewer2)}.bind(this),"FBStoriesComposerDialogViewer")};f.exports=new i()}),null);
__d("FBStoriesProductionActions",["FBStoriesComposerDialogViewer"],(function a(b,c,d,e,f,g){"use strict";var h={openProductionDialog:function i(){return c("FBStoriesComposerDialogViewer").open()}};f.exports=h}),null);
__d("FBStoriesThreadHelper",["CameraPostMediaHelper","CameraPostThreadOwnerHelper","CameraPostTypes","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={getId:function i(j){var k;return((k=j)!=null?k.id:k)||""},getCameraPostType:function i(j){var k;return((k=j)!=null?k.camera_post_type:k)||c("CameraPostTypes").STORY},getCameraPostSource:function i(j){var k;return((k=j)!=null?k.post_source:k)||"CAMERA_SYSTEM"},isSeenByViewer:function i(j){var k;return!!((k=j)!=null?k.is_seen_by_viewer:k)},notSeenByViewer:function i(j){return!h.isSeenByViewer(j)},setIsSeenByViewer:function i(j,k){if(!j)return;j.is_seen_by_viewer=k},getLatestMessageID:function i(j){var k;return(k=j)!=null?(k=k.latest_message)!=null?k.id:k:k},getStatus:function i(j){var k;return(k=j)!=null?k.thread_status:k},isReviewStatusPending:function i(j){var k=h._getReviewStatus(j);return k==="PENDING"||k==="DENIED"},_getReviewStatus:function i(j){var k;return(k=j)!=null?k.thread_review_status:k},getTime:function i(j){var k;return((k=j)!=null?k.time:k)||0},getExpiryTime:function i(j){var k;return((k=j)!=null?k.thread_expiry_time:k)||0},isExpired:function i(j){var k=h.getExpiryTime(j);if(!k)return false;return k<Date.now()/1e3},isUploading:function i(j){return h.getStatus(j)==="UPLOADING"},getNonFriendsSeenCount:function i(j){var k;return((k=j)!=null?k.non_friends_seen_count:k)||0},setNonFriendsSeenCount:function i(j,k){if(!j)return;j.non_friends_seen_count=k},getFriendsSeenCount:function i(j){var k;return((k=j)!=null?k.friends_seen_count:k)||0},setFriendsSeenCount:function i(j,k){if(!j)return;j.friends_seen_count=k},getSeenReceiptsLastSeenTime:function i(j){var k;return((k=j)!=null?k.seen_receipts_last_seen_time:k)||0},setSeenReceiptsLastSeenTime:function i(j,k){if(!j)return;j.seen_receipts_last_seen_time=k},getSeenReceiptsUnseenCount:function i(j){var k;return((k=j)!=null?k.seen_receipts_unseen_count:k)||0},doesThreadHasUnseenViewers:function i(j){if(!j)return false;return h.getSeenReceiptsUnseenCount(j)>0||h.getSeenReceiptsFollowersUnseenCount(j)>0},getSeenReceiptsFollowersUnseenCount:function i(j){var k;return((k=j)!=null?k.seen_receipts_followers_unseen_count:k)||0},setSeenReceiptsUnseenCount:function i(j,k){if(!j)return;j.seen_receipts_unseen_count=k},setSeenReceiptsFollowersUnseenCount:function i(j,k){if(!j)return;j.seen_receipts_followers_unseen_count=k},getOwner:function i(j){var k;return(k=j)!=null?k.camera_post_thread_owner:k},getOwnerId:function i(j){return c("CameraPostThreadOwnerHelper").getId(h.getOwner(j))},isViewerFriendOfOwner:function i(j){return c("CameraPostThreadOwnerHelper").getIsViewerFriend(h.getOwner(j))},getViewers:function i(j){var k;return((k=j)!=null?(k=k.story_thread_viewers)!=null?k.edges:k:k)||[]},setViewers:function i(j,k){if(!j)return;j.story_thread_viewers={edges:k}},getRootMessage:function i(j){var k;return(k=j)!=null?k.root_message:k},getStoryOverlays:function i(j){var k;if(!j)return[];return((k=h.getRootMessage(j))!=null?k.story_overlays:k)||[]},getPoll:function i(j){var k,l=this.getStoryOverlays(j).find(function(l){return l.__typename==="StoryOverlayPollSticker"});if(!l)return null;return(k=l)!=null?k.poll:k},getPollVoters:function i(j){__p&&__p();var k=this.getPoll(j);if(!k)return{};return(k.poll_options||[]).reduce(function(l,m){var n,o=(n=m)!=null?(n=n.voters)!=null?n.nodes:n:n;if(!o||o.length===0)return l;o.forEach(function(p){return l[p.id]=m.index});return l},{})},getMedia:function i(j){var k;return(k=h.getRootMessage(j))!=null?k.message_media:k},getMediaId:function i(j){return c("CameraPostMediaHelper").getId(h.getMedia(j))},getMediaType:function i(j){return c("CameraPostMediaHelper").getType(h.getMedia(j))},getMediaPreviewImage:function i(j){return c("CameraPostMediaHelper").getPreviewImage(h.getMedia(j))},getWWWTextFormatMetadata:function i(j){var k;return((k=h.getRootMessage(j))!=null?k.www_text_format_metadata:k)||null},getIsPlainText:function i(j){var k;return((k=h.getRootMessage(j))!=null?k.is_plain_text:k)||false},getTextFormatMetadata:function i(j){var k;return((k=h.getRootMessage(j))!=null?k.text_format_metadata:k)||null},getBackdropImage:function i(j){var k;return((k=h.getRootMessage(j))!=null?k.backdrop_image:k)||null},getMessageText:function i(j){var k;return((k=h.getRootMessage(j))!=null?k.message_text:k)||""},getActivityDescription:function i(j){if(!j)return null;return j.activity_description||null},getWithTags:function i(j){if(!j)return null;return j.with_tags||null},getExplicitLocation:function i(j){if(!j)return null;return j.explicit_place||null},getInlineActivities:function i(j){if(!j)return null;return j.inline_activities||null},getInstagramProfileURL:function i(j){var k;return((k=j)!=null?k.instagram_profile_url:k)||null},getOriginalPostStoryAttribution:function i(j){var k;if(!j)return null;return((k=h.getRootMessage(j))!=null?k.original_post_story_attribution:k)||null},getStoryViewerId:function i(j){var k;return(k=j)!=null?(k=k.node)!=null?k.id:k:k},getStoryViewerSeenTime:function i(j){var k;return((k=j)!=null?k.seen_time:k)||0},makeOptimisticPhotoThread:function i(j){var k=this._getDefaultThread(),l=c("CameraPostMediaHelper").makeOptimisticPhotoMedia(j);return babelHelpers["extends"]({},k,{is_seen_by_viewer:false,root_message:{message_media:l},thread_expiry_time:Math.floor(Date.now()/1e3+24*60*60),thread_status:"UPLOADING",time:Math.floor(Date.now()/1e3)})},_getDefaultThread:function i(){return{id:null,camera_post_type:null,post_source:null,time:null,thread_expiry_time:null,seen_receipts_last_seen_time:null,seen_receipts_unseen_count:null,seen_receipts_followers_unseen_count:null,thread_status:null,thread_review_status:null,root_message:{message_media:null},latest_message:{id:null},is_seen_by_viewer:null,is_user_story_thread_viewer:null,camera_post_thread_owner:null,friends_seen_count:null,non_friends_seen_count:null,story_thread_viewers:{edges:null},activity_description:null}}};f.exports=h}),null);
__d("FBStoriesBucketHelper",["CameraPostBucketOwnerHelper","CameraPostTypes","CameraPostTypesHelper","CurrentUser","FBStoriesLoggingConstants","FBStoriesThreadHelper","QE2Logger","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={getUnseenThread:function j(k){var l=i.getThreads(k);return l[Math.max(0,i.getUnseenThreadIndex(k))]}},i={isUserBucket:function j(k){return i.getOwnerId(k)===c("CurrentUser").getID()},getLiveVideo:function j(k){var l;return(l=k)!=null?l.live_video:l},getMediaIDForLiveBucket:function j(k){var l;return(l=k)!=null?(l=l.live_video)!=null?l.id:l:l},isLive:function j(k){var l;return!!((l=i.getLiveVideo(k))!=null?l.id:l)},setLiveVideo:function j(k,l){if(!k)return;k.live_video=l},hasData:function j(k){if(!k)return false;return this.isLive(k)||i.getThreads(k).length>0},getThreads:function j(k){var l,m=((l=k)!=null?(l=l.threads)!=null?l.nodes:l:l)||[];return m.filter(function(n){return(c("FBStoriesThreadHelper").getStatus(n)==="PUBLISHED"||c("FBStoriesThreadHelper").getStatus(n)==="UPLOADING")&&c("FBStoriesThreadHelper").getMedia(n)!==null&&!c("FBStoriesThreadHelper").isExpired(n)})},getThreadIDs:function j(k){var l=i.getThreads(k);return l.map(function(m){var n;return((n=m)!=null?n.id:n)||""})},setThreads:function j(k,l){if(!k)return;k.threads={nodes:l}},getUnseenThreadIndex:function j(k){var l=i.getThreads(k),m=i.isUserBucket(k);return m?l.findIndex(c("FBStoriesThreadHelper").doesThreadHasUnseenViewers):l.findIndex(c("FBStoriesThreadHelper").notSeenByViewer)},hasNewViewers:function j(k){if(!k)return false;var l=this.getThreads(k),m=l.filter(c("FBStoriesThreadHelper").doesThreadHasUnseenViewers);return m.length>0},hasUnseenThreads:function j(k){return this.getThreads(k).findIndex(c("FBStoriesThreadHelper").notSeenByViewer)>=0},getPreviewImage:function j(k){var l=h.getUnseenThread(k);return c("FBStoriesThreadHelper").getMediaPreviewImage(l)},shouldEnablePageStoryReply:function j(k){var l=c("CameraPostTypesHelper").isPageStory(i.getCameraPostType(k));if(l){var m=c("CurrentUser").getID();c("QE2Logger").logExposureForUser("page_story_reply_www",m);var n=i.getOwner(k);return n.is_eligible_for_story_reply==undefined?false:n.is_eligible_for_story_reply}return false},getId:function j(k){var l;return((l=k)!=null?l.id:l)||""},getCameraPostType:function j(k){var l;return((l=k)!=null?l.camera_post_type:l)||c("CameraPostTypes").STORY},getUnseenCount:function j(k){var l;return((l=k)!=null?l.unseen_count:l)||0},setUnseenCount:function j(k,l){if(!k)return;k.unseen_count=l},hasLiveVideoEnded:function j(k){var l;return!!((l=k)!=null?l.has_live_video_ended:l)},setHasLiveVideoEnded:function j(k,l){if(!k)return;k.has_live_video_ended=l},getOwner:function j(k){var l;return((l=k)!=null?l.camera_post_bucket_owner:l)||{id:null,name:null,short_name:null,gender:null,is_viewer_friend:false,profile_picture:null}},getOwnerId:function j(k){return c("CameraPostBucketOwnerHelper").getId(i.getOwner(k))},getOwnerGender:function j(k){return c("CameraPostBucketOwnerHelper").getGender(i.getOwner(k))},isOwnerEmployee:function j(k){return c("CameraPostBucketOwnerHelper").isEmployee(i.getOwner(k))},isViewerEventHost:function j(k){return c("CameraPostBucketOwnerHelper").isEventHost(i.getOwner(k))},isViewerPageContentAdmin:function j(k){return c("CameraPostBucketOwnerHelper").isViewerPageContentAdmin(i.getOwner(k))},isViewerGroupAdmin:function j(k){return c("CameraPostBucketOwnerHelper").isViewerGroupAdmin(i.getOwner(k))},isViewerGroupModerator:function j(k){return c("CameraPostBucketOwnerHelper").isViewerGroupModerator(i.getOwner(k))},isViewerFriendOfOwner:function j(k){return c("CameraPostBucketOwnerHelper").isViewerFriend(i.getOwner(k))},getOwnerProfilePictureUri:function j(k){return c("CameraPostBucketOwnerHelper").getProfilePictureUri(i.getOwner(k))},getOwnerCoverPhotoUri:function j(k){return c("CameraPostBucketOwnerHelper").getCoverPhotoUri(i.getOwner(k))},getOwnerName:function j(k){var l=arguments.length<=1||arguments[1]===undefined?false:arguments[1],m=i.getCameraPostType(k),n=i.getOwner(k);if(!l&&c("CameraPostTypesHelper").isStory(m)&&n.short_name)return n.short_name;else return n.name},getLatestThreadCreationTime:function j(k){var l;if(!k)return null;return(l=k)!=null?l.latest_thread_creation_time:l},getLoggingType:function j(k){__p&&__p();if(!k)return c("FBStoriesLoggingConstants").MISSING_STORY_DATA;if(i.isUserBucket(k))return c("FBStoriesLoggingConstants").SELF_STORY;var l=i.getCameraPostType(k);if(c("CameraPostTypesHelper").isPageStory(l))return c("FBStoriesLoggingConstants").PAGE_STORY;if(c("CameraPostTypesHelper").isGroupStory(l))return c("FBStoriesLoggingConstants").GROUP_STORY;if(c("CameraPostTypesHelper").isEventStory(l))return c("FBStoriesLoggingConstants").EVENT_STORY;if(c("CameraPostTypesHelper").isPromotionStory(l))return c("FBStoriesLoggingConstants").STORY_PROMOTION;if(!i.isViewerFriendOfOwner(k))return c("FBStoriesLoggingConstants").FOLLOWEE_STORY;return c("FBStoriesLoggingConstants").FRIEND_STORY},addThreadToBucket:function j(k,l){var m=i.getThreads(k);i.setThreads(k,m.concat(l))},getDefaultBucket:function j(){return{id:null,camera_post_type:null,unseen_count:0,ranking:null,live_video:null,camera_post_bucket_owner:null,threads:null,latest_thread_creation_time:null}},isUploading:function j(k){var l=i.getThreads(k),m=l.filter(function(n){return c("FBStoriesThreadHelper").isUploading(n)});return m.length>0}};f.exports=i}),null);
__d("BackstageMediaType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LIVE:"live",PHOTO:"photo",VIDEO:"video",WAS_LIVE:"was_live",UNKNOWN:"unknown"})}),null);
__d("FBStoriesActionTypes",[],(function a(b,c,d,e,f,g){var h=Object.freeze({LOAD:"FB_STORIES.LOAD",LOADING:"FB_STORIES.LOADING",LOADED:"FB_STORIES.LOADED",LOADED_ERROR:"FB_STORIES.LOADED_ERROR",VIEWER_LIST_LOADED_FOR_THREAD:"FB_STORIES.VIEWER_LIST_LOADED_FOR_THREAD",RESET_LOCAL_SEEN_HISTORY:"FB_STORIES.RESET_LOCAL_SEEN_HISTORY",SELECTED_BUCKET_IDX_CHANGED:"FB_STORIES.SELECTED_BUCKET_IDX_CHANGED",SET_ALL_BUCKETS_VIEWED:"FB_STORIES.SET_ALL_BUCKETS_VIEWED",SET_UNSEEN_MODE:"FB_STORIES.SET_UNSEEN_MODE",SELECTED_THREAD_IDX_CHANGED:"FB_STORIES.SELECTED_THREAD_IDX_CHANGED",SELECTED_THREAD_PERCENT_DONE:"FB_STORIES.SELECTED_THREAD_PERCENT_DONE",SUBSCRIPTION_BUCKET_UPDATE:"FB_STORIES.SUBSCRIPTION_BUCKET_UPDATE",UPDATE_THREAD_SEEN_OPTIMISTIC:"FB_STORIES.UPDATE_THREAD_SEEN_OPTIMISTIC",UPDATE_THREAD_VIEWERS_SEEN_OPTIMISTIC:"FB_STORIES.UPDATE_THREAD_VIEWERS_SEEN_OPTIMISTIC",DELETE_THREAD_FROM_BUCKET:"FB_STORIES.DELETE_THREAD_FROM_BUCKET",REMOVE_BUCKET:"FB_STORIES.REMOVE_BUCKET",SET_SATP_NATIVE_RENDER:"FB_STORIES.SET_SATP_NATIVE_RENDER",REMOVE_ENDED_LIVE_VIDEO_FROM_BUCKET:"FB_STORIES.REMOVE_ENDED_LIVE_VIDEO_FROM_BUCKET",SET_IS_COMMERCIAL_BREAK_RUNNING:"FB_STORIES.SET_IS_COMMERCIAL_BREAK_RUNNING",UNSELECT_BUCKET:"FBSTORIES.UNSELECT_BUCKET",SET_VIEWER_OPEN:"FB_STORIES.SET_VIEWER_OPEN",OPTIMISTIC_CREATE_PHOTO_STORY:"FB_STORIES.OPTIMISTIC_CREATE_PHOTO_STORY",RESET_STATE:"FB_STORIES.RESET_STATE",SET_SUBSCRIPTION_TOKEN:"FB_STORIES.SET_SUBSCRIPTION_TOKEN",OPTIMISTIC_POLL_VOTE:"FB_STORIES.OPTIMISTIC_POLL_VOTE",SET_SHOW_BUCKET_NAVIGATION:"FB_STORIES.SET_SHOW_BUCKET_NAVIGATION"});f.exports=h}),null);
__d("FBStoriesDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationReactDispatcher"));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this)}f.exports=new j({strict:true})}),null);
__d("friendsBucketSorter",["CameraPostTypesHelper","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(q){__p&&__p();return function r(s,t){__p&&__p();var u=s.live_video&&s.live_video.id,v=t.live_video&&t.live_video.id;if(u!==v)return u?-1:1;if(i(s,t))return k(s)?-1:1;if(j(s,t))return l(s)?-1:1;if(m(s,t,q))return n(s,q)?-1:1;return p(s)>=p(t)?-1:1}}function i(q,r){return o(q,r,k)}function j(q,r){return o(q,r,l)}function k(q){return q.unseen_count>0}function l(q){return c("CameraPostTypesHelper").isEventStory(q.camera_post_type)}function m(q,r,s){return n(q,s)!==n(r,s)}function n(q,r){var s,t=((s=q)!=null?(s=s.threads)!=null?s.nodes:s:s)||[];for(var u=0;u<t.length;u++){var v,w=(v=t[u])!=null?(v=v.camera_post_thread_owner)!=null?v.id:v:v;if(w===r)return true}return false}function o(q,r,s){var t=s(q),u=s(r);return t!=u}function p(q){var r;return((r=q)!=null?(r=r.ranking)!=null?r.score:r:r)||0}f.exports=h}),null);
__d("FBStoriesDataHelper",["CameraPostTypesHelper","emptyFunction","FBStoriesActionTypes","FBStoriesBucketHelper","FBStoriesDispatcher","FBStoriesGraphQLAPI","friendsBucketSorter","gkx","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={getBucketsDataFromLoadedObject:function i(j){__p&&__p();var k=h.getUserDataNodesFromLoadedObject(j),l=k[0],m=h.getUserInfoFromLoadedObject(j),n=h.getFriendsBucketDataFromLoadedObject(j);n=n.reduce(function(o,p){__p&&__p();var q=c("FBStoriesBucketHelper").getThreads(p),r=q&&q.length>0,s=c("FBStoriesBucketHelper").getCameraPostType(p),t=c("CameraPostTypesHelper").isStoryNux(s),u=c("CameraPostTypesHelper").isStory(s),v=c("CameraPostTypesHelper").isEventStory(s),w=c("CameraPostTypesHelper").isPageStory(s),x=c("CameraPostTypesHelper").isGroupStory(s),y=c("gkx")("AT7HjiDwnMVL3AIA8BSudVOFxA-IzyrieUd8NdxFJOoIjXI3kpzXujbNr99ZiCMNBY0PFFBmtxsMTVC_JOHwUWMQ_JsNoMIejCjR_HtHsnVnTA");if(y&&c("FBStoriesBucketHelper").isOwnerEmployee(p))return o;if(t)return o;if(!r){if(c("FBStoriesBucketHelper").isLive(p))return o.concat([p]);return o}if(u||w||v||x)return o.concat([p]);return o},[]);n.sort(c("friendsBucketSorter")(m.userID));return{userInfo:m,userBucketData:l,friendsBucketData:n}},getFriendsBucketDataFromLoadedObject:function i(j){var k;return((k=j)!=null?(k=k.me)!=null?(k=k.friends_stories_buckets)!=null?k.nodes:k:k:k)||[]},getUserDataNodesFromLoadedObject:function i(j){var k;return((k=j)!=null?(k=k.me)!=null?(k=k.story_bucket)!=null?k.nodes:k:k:k)||[]},getUserInfoFromLoadedObject:function i(j){var k,l,m,n;return{userName:(k=j)!=null?(k=k.me)!=null?k.name:k:k,userID:(l=j)!=null?(l=l.me)!=null?l.id:l:l,userGender:(m=j)!=null?(m=m.me)!=null?m.gender:m:m,userProfilePic:(n=j)!=null?(n=n.me)!=null?n.profile_picture:n:n}},getFriendsDataWithEndedLiveBucket:function i(j,k,l){__p&&__p();if(!k||l||!c("FBStoriesBucketHelper").isLive(k))return j;var m=c("FBStoriesBucketHelper").getId(k),n=false;j=j.reduce(function(o,p){__p&&__p();if(c("FBStoriesBucketHelper").getId(p)===m){n=true;var q=!c("FBStoriesBucketHelper").isLive(p);if(k&&q){c("FBStoriesBucketHelper").setLiveVideo(p,k.live_video);c("FBStoriesBucketHelper").setHasLiveVideoEnded(p,true)}}o.push(p);return o},[]);if(!n){c("FBStoriesBucketHelper").setHasLiveVideoEnded(k,true);j=[k].concat(j)}return j},getMutedBucketOwnersFromLoadedQuery:function i(j){var k,l=((k=j)!=null?(k=k.me)!=null?(k=k.unfollowees_for_camera_post_story)!=null?k.edges:k:k:k)||[];return l.map(function(m){var n,o,p,q,r=m.node,s=(n=r)!=null?n.id:n,t=(o=r)!=null?o.name:o,u=(p=r)!=null?(p=p.profile_picture)!=null?p.uri:p:p,v=(q=r)!=null?(q=q.cover_photo)!=null?(q=q.photo)!=null?(q=q.image)!=null?q.uri:q:q:q:q;return{id:s,name:t,profilePictureUri:v?v:u,muted:true}})},loadData:function i(){c("FBStoriesGraphQLAPI").load().done(function(j){var k=h.getBucketsDataFromLoadedObject(j);c("FBStoriesDispatcher").dispatch({type:c("FBStoriesActionTypes").LOADED,data:k})},function(j){return c("emptyFunction")})}};f.exports=h}),null);
__d("FBStoriesLiveVideoActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){var h=c("keyMirror")({SET_UI_COMPONENTS:null,REMOVE_UI_COMPONENTS:null,LIVE_BUCKET_LOADED:null,LOAD_UI_COMPONENTS_FAILED:null});f.exports=h}),null);
__d("FBStoriesMutedBucketOwnerHelper",["idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={getId:function i(j){var k;return((k=j)!=null?k.id:k)||""},getName:function i(j){var k;return((k=j)!=null?k.name:k)||""},getProfilePictureUri:function i(j){var k;return((k=j)!=null?k.profilePictureUri:k)||""},getMuted:function i(j){var k;return!!((k=j)!=null?k.muted:k)},setMuted:function i(j,k){j.muted=k}};f.exports=h}),null);
__d("FBStoriesMutedBucketOwnersActionTypes",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({LOADING:"FB_STORIES_MUTED_BUCKET_OWNERS.LOADING",LOADED:"FB_STORIES_MUTED_BUCKET_OWNERS.LOADED",LOADED_ERROR:"FB_STORIES_MUTED_BUCKET_OWNERS.LOADED_ERROR",SET_IS_CURRENTLY_MUTING:"FB_STORIES_MUTED_BUCKET_OWNERS.SET_IS_CURRENTLY_MUTING",UPDATE_MUTED_OPTIMISTIC:"FB_STORIES_MUTED_BUCKET_OWNERS.UPDATE_MUTED_OPTIMISTIC"});f.exports=h}),null);
__d("fbStoriesMutedBucketOwnersSelectors",[],(function a(b,c,d,e,f,g){"use strict";var h={isLoading:function i(j){return j.data.isLoading()},getMutedBucketOwners:function i(j){var k=j.data;return k.hasValue()?k.getValueEnforcing():[]},getCurrentlyMutingBucketOwners:function i(j){return j.currentlyMutingBucketOwners},isCurrentlyMutingBucketOwners:function i(j){return h.getCurrentlyMutingBucketOwners(j).length!==0},canReload:function i(j){return!this.isCurrentlyMutingBucketOwners(j)&&!this.isLoading(j)}};f.exports=h}),null);
__d("fbStoriesMutedBucketOwnersReducer",["FBStoriesMutedBucketOwnerHelper","FBStoriesMutedBucketOwnersActionTypes","LoadObject","fbStoriesMutedBucketOwnersSelectors"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){__p&&__p();var k;switch(j.type){case c("FBStoriesMutedBucketOwnersActionTypes").LOADING:return babelHelpers["extends"]({},i,{data:c("LoadObject").loading()});case c("FBStoriesMutedBucketOwnersActionTypes").LOADED:return babelHelpers["extends"]({},i,{data:c("LoadObject").withValue(j.data),currentlyMutingBucketOwners:[]});case c("FBStoriesMutedBucketOwnersActionTypes").LOADED_ERROR:return babelHelpers["extends"]({},i,{data:c("LoadObject").withError(new Error(j.error.errorSummary))});case c("FBStoriesMutedBucketOwnersActionTypes").SET_IS_CURRENTLY_MUTING:var l=i.currentlyMutingBucketOwners,m=i.currentlyMutingBucketOwners.indexOf(j.ownerID);if(j.value&&m===-1){l=l.slice();l.push(j.ownerID)}else if(!j.value&&m!==-1){l=l.slice();l.splice(m,1)}return babelHelpers["extends"]({},i,{currentlyMutingBucketOwners:l});case c("FBStoriesMutedBucketOwnersActionTypes").UPDATE_MUTED_OPTIMISTIC:var k=function(){__p&&__p();var n=c("fbStoriesMutedBucketOwnersSelectors").getMutedBucketOwners(i),o=j.value,p=false,q=n.map(function(r){if(c("FBStoriesMutedBucketOwnerHelper").getId(r)===j.ownerID){var s=babelHelpers["extends"]({},r);p=true;c("FBStoriesMutedBucketOwnerHelper").setMuted(s,o);return s}else return r});if(!p)q=n.concat({id:j.ownerID,name:j.ownerName,profilePictureUri:j.ownerProfilePictureUri,muted:o});return{v:babelHelpers["extends"]({},i,{data:c("LoadObject").withValue(q)})}}();if(typeof k==="object")return k.v;default:return i}}f.exports=h}),null);
__d("FBStoriesMutedBucketOwnersStore",["fbStoriesMutedBucketOwnersReducer","FBStoriesDispatcher","FluxReduceStore","LoadObject"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.__moduleID=f.id,l}j.prototype.getInitialState=function(){return{data:c("LoadObject").empty(),currentlyMutingBucketOwners:[]}};j.prototype.reduce=function(k,l){return c("fbStoriesMutedBucketOwnersReducer")(k,l)};f.exports=new j(c("FBStoriesDispatcher"))}),null);
/**
 * License: https://www.facebook.com/legal/license/bSBdTQIIPXc/
 */
__d("reselect",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();g.__esModule=true;g.defaultMemoize=j;g.createSelectorCreator=l;g.createStructuredSelector=n;function h(o,p){return o===p}function i(o,p,q){if(p===null||q===null||p.length!==q.length)return false;var r=p.length;for(var s=0;s<r;s++)if(!o(p[s],q[s]))return false;return true}function j(o){var p=arguments.length>1&&arguments[1]!==undefined?arguments[1]:h,q=null,r=null;return function(){if(!i(p,q,arguments))r=o.apply(null,arguments);q=arguments;return r}}function k(o){var p=Array.isArray(o[0])?o[0]:o;if(!p.every(function(r){return typeof r==="function"})){var q=p.map(function(r){return typeof r}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, "+("instead received the following types: ["+q+"]"))}return p}function l(o){__p&&__p();for(var p=arguments.length,q=Array(p>1?p-1:0),r=1;r<p;r++)q[r-1]=arguments[r];return function(){__p&&__p();for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];var v=0,w=t.pop(),x=k(t),y=o.apply(undefined,[function(){v++;return w.apply(null,arguments)}].concat(q)),z=j(function(){var A=[],B=x.length;for(var C=0;C<B;C++)A.push(x[C].apply(null,arguments));return y.apply(null,A)});z.resultFunc=w;z.recomputations=function(){return v};z.resetRecomputations=function(){return v=0};return z}}var m=g.createSelector=l(j);function n(o){__p&&__p();var p=arguments.length>1&&arguments[1]!==undefined?arguments[1]:m;if(typeof o!=="object")throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof o);var q=Object.keys(o);return p(q.map(function(r){return o[r]}),function(){for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return s.reduce(function(u,v,w){u[q[w]]=v;return u},{})})}}),null);
__d("fbStoriesRootSelectors",["FBStoriesBucketHelper","reselect","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("reselect").createSelector,i=function i(m,x,y){var z;return y===0?m:(z=x)!=null?z[y-1]:z},j=function j(x){return x.data},k=h([j],function(x){return x.hasValue()?x.getValueEnforcing():{friendsBucketData:[],userBucketData:c("FBStoriesBucketHelper").getDefaultBucket(),userInfo:{userName:"",userID:"",userGender:"",userProfilePic:{uri:""}}}}),l=h(j,function(j){return j.isLoading()}),m=h([k],function(k){return k.userBucketData||{}}),n=h([m],function(m){return m&&m.id}),o=h([k],function(k){return k.friendsBucketData||[]}),p=h([o],function(o){return o.map(function(x){return x.id?x.id:""})}),q=h([p,n],function(p,n){return[n].concat(p)}),r=h([k],function(k){return k.userInfo||{}}),s=function s(x){return x.selectedBucketIndex},t=h([s,m,o],function(s,m,o){return i(m,o,s)}),u=h([t],function(t){return t&&t.id}),v=h(m,function(x){return c("FBStoriesBucketHelper").isUploading(x)}),w=h([o,m],function(o,m){var x=[m].concat(o);return x.reduce(function(y,z){if(!z||!z.id)return y;if(!c("FBStoriesBucketHelper").hasData(z))return y;var A={bucketID:c("FBStoriesBucketHelper").getId(z),cameraPostType:c("FBStoriesBucketHelper").getCameraPostType(z),owner:c("FBStoriesBucketHelper").getOwner(z),previewImageUri:c("FBStoriesBucketHelper").getPreviewImage(z),profileImageUri:c("FBStoriesBucketHelper").getOwnerProfilePictureUri(z),hasUnseenThreads:c("FBStoriesBucketHelper").hasUnseenThreads(z),hasNewViewers:c("FBStoriesBucketHelper").hasNewViewers(z),ownedByViewer:c("FBStoriesBucketHelper").isUserBucket(z),isLive:c("FBStoriesBucketHelper").isLive(z),latestThreadCreationTime:c("FBStoriesBucketHelper").getLatestThreadCreationTime(z),actorName:c("FBStoriesBucketHelper").getOwnerName(z,true),actorShortName:c("FBStoriesBucketHelper").getOwnerName(z),actorGender:c("FBStoriesBucketHelper").getOwnerGender(z)};return y.concat([A])},[])});f.exports={bucketDescriptors:w,loading:l,userBucketData:m,friendsBucketData:o,friendsBucketIds:p,userInfo:r,bucketIds:q,selectedBucket:t,selectedBucketId:u,uploading:v}}),null);
__d("fbStoriesStateSelectors",["FBStoriesBucketHelper","fbStoriesRootSelectors","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("fbStoriesRootSelectors").userBucketData,i=c("fbStoriesRootSelectors").friendsBucketData,j=c("fbStoriesRootSelectors").bucketIds,k=c("fbStoriesRootSelectors").selectedBucketId,l={bucketByBucketId:function m(n,o){var p=l.bucketIndexByBucketId(n,o);return l.bucketByIndex(n,p)},bucketByIndex:function m(n,o){var p;return o===0?h(n):(p=i(n))!=null?p[o-1]:p},bucketIndexByBucketId:function m(n,o){var p=j(n);return p.indexOf(o)},isOwnBucket:function m(n,o){return(o!=undefined?o:k(n))===c("FBStoriesBucketHelper").getId(h(n))}};f.exports=l}),null);
__d("FBStoriesStore",["BackstageMediaType","CameraPostMediaHelper","CameraPostTypes","FBStoriesActionTypes","FBStoriesBucketHelper","FBStoriesDataHelper","FBStoriesDispatcher","FBStoriesLiveVideoActionTypes","FBStoriesMutedBucketOwnersStore","FBStoriesThreadHelper","FluxReduceStore","LoadObject","fbStoriesMutedBucketOwnersSelectors","fbStoriesRootSelectors","fbStoriesStateSelectors","friendsBucketSorter","gkx","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.__moduleID=f.id,l}j.prototype.getInitialState=function(){return{data:c("LoadObject").empty(),selectedBucketIndex:-1,currentThreadIndex:-1,currentThreadPercentDone:0,unseenMode:false,allBucketsViewed:false,lastViewedThreadIndexForBucket:new Map(),shouldShowBucketNavigation:false,showSATPNativeRender:c("gkx")("AT705K1zR1ms8hGNFIEY-5xZFo3oe6AEakAwqCsnWaMfjePNPEuShEq-b3haaDXIGbdPoo1uQn5S6wWL0kjmUL5i"),isCommercialBreakRunning:new Map(),isViewerOpen:false,subscriptionToken:null,viewerEntrypoint:null}};j.prototype.reduce=function(k,l){__p&&__p();var m,n=this,o,p,q,r,s,t;switch(l.type){case c("FBStoriesActionTypes").LOADING:return babelHelpers["extends"]({},k,{data:c("LoadObject").loading()});case c("FBStoriesActionTypes").LOADED:var u=l.data,v=u.userInfo,w=u.userBucketData,x=u.friendsBucketData;x=c("FBStoriesDataHelper").getFriendsDataWithEndedLiveBucket(x,this.$FBStoriesStore1(),this.isOwnBucket(this.getSelectedBucketId()));return babelHelpers["extends"]({},k,{data:c("LoadObject").withValue({userInfo:v,userBucketData:w,friendsBucketData:x})});case c("FBStoriesActionTypes").VIEWER_LIST_LOADED_FOR_THREAD:var m=function(){__p&&__p();var L=l.data.node,w=babelHelpers["extends"]({},n.getUserBucketData(),{threads:{nodes:n.$FBStoriesStore2().map(function(M){if(c("FBStoriesThreadHelper").getId(M)===l.threadID){var N=babelHelpers["extends"]({},M);c("FBStoriesThreadHelper").setFriendsSeenCount(N,c("FBStoriesThreadHelper").getFriendsSeenCount(L));c("FBStoriesThreadHelper").setNonFriendsSeenCount(N,c("FBStoriesThreadHelper").getNonFriendsSeenCount(L));c("FBStoriesThreadHelper").setViewers(N,c("FBStoriesThreadHelper").getViewers(L));return N}return M})}});return{v:babelHelpers["extends"]({},k,{data:c("LoadObject").withValue({userBucketData:w,userInfo:n.getUserInfo(),friendsBucketData:n.getFriendsBucketData()})})}}();if(typeof m==="object")return m.v;case c("FBStoriesActionTypes").SUBSCRIPTION_BUCKET_UPDATE:var o=function(){__p&&__p();var L=l.bucketData,M=c("FBStoriesBucketHelper").getOwnerId(L);if(n.isMutedBucketOwner(M))return{v:k};var N=c("FBStoriesBucketHelper").getThreads(L),O=N.length>0||n.$FBStoriesStore3(L),P=c("FBStoriesBucketHelper").getId(L),Q=c("fbStoriesRootSelectors").friendsBucketData(k),R=false,x=Q.reduce(function(S,T){if(c("FBStoriesBucketHelper").getId(T)===P){R=true;if(O)S.push(L)}else S.push(T);return S},[]);if(!R&&O)x=[L].concat(Q);x=c("FBStoriesDataHelper").getFriendsDataWithEndedLiveBucket(x,c("fbStoriesRootSelectors").selectedBucket(k),c("fbStoriesStateSelectors").isOwnBucket(k,c("fbStoriesRootSelectors").selectedBucketId(k)));x.sort(c("friendsBucketSorter")(c("fbStoriesRootSelectors").userInfo(k).userID));return{v:babelHelpers["extends"]({},k,{data:c("LoadObject").withValue({userBucketData:c("fbStoriesRootSelectors").userBucketData(k),userInfo:c("fbStoriesRootSelectors").userInfo(k),friendsBucketData:x})})}}();if(typeof o==="object")return o.v;case c("FBStoriesActionTypes").LOADED_ERROR:return babelHelpers["extends"]({},k,{data:c("LoadObject").withError(new Error(l.error.errorSummary))});case c("FBStoriesActionTypes").RESET_LOCAL_SEEN_HISTORY:return babelHelpers["extends"]({},k,{lastViewedThreadIndexForBucket:new Map()});case c("FBStoriesActionTypes").SELECTED_BUCKET_IDX_CHANGED:var y=l.bucketIndex;return y<0||y>=this.getBucketCount()?k:babelHelpers["extends"]({},k,{selectedBucketIndex:y});case c("FBStoriesActionTypes").SELECTED_THREAD_IDX_CHANGED:var z=this.getThreadCountForSelectedBucket();if(!this.isSelectedBucketLive()&&(l.index<0||l.index>=z))return k;var A=new Map(k.lastViewedThreadIndexForBucket);A.set(this.getSelectedBucketIndex(),l.index);return babelHelpers["extends"]({},k,{lastViewedThreadIndexForBucket:A,currentThreadIndex:l.index});case c("FBStoriesActionTypes").SELECTED_THREAD_PERCENT_DONE:var B=Math.min(100,Math.max(l.percentDone,0));return babelHelpers["extends"]({},k,{currentThreadPercentDone:B});case c("FBStoriesActionTypes").SET_ALL_BUCKETS_VIEWED:var C=l.value;if(C===k.allBucketsViewed)return k;return babelHelpers["extends"]({},k,{allBucketsViewed:C,unseenMode:k.unseenMode&&C?false:k.unseenMode});case c("FBStoriesActionTypes").SET_UNSEEN_MODE:return babelHelpers["extends"]({},k,{unseenMode:l.value});case c("FBStoriesActionTypes").UPDATE_THREAD_SEEN_OPTIMISTIC:var p=function(){__p&&__p();var L=n.getSelectedBucketId(),M=function(N){__p&&__p();var O,P=this;if(c("FBStoriesBucketHelper").getId(N)===L){var O=function(){__p&&__p();var Q=c("FBStoriesBucketHelper").getUnseenCount(N),R=P.$FBStoriesStore4(N).map(function(T){if(c("FBStoriesThreadHelper").getId(T)===l.threadID){if(!c("FBStoriesThreadHelper").isSeenByViewer(T))Q=Math.max(Q-1,0);var U=babelHelpers["extends"]({},T);c("FBStoriesThreadHelper").setIsSeenByViewer(U,true);return U}else return T}),S=babelHelpers["extends"]({},N);c("FBStoriesBucketHelper").setUnseenCount(S,Q);c("FBStoriesBucketHelper").setThreads(S,R);return{v:S}}();if(typeof O==="object")return O.v}else return N}.bind(n),w=n.isOwnBucket()?M(n.getUserBucketData()):n.getUserBucketData(),x=n.isOwnBucket()?n.getFriendsBucketData():n.getFriendsBucketData().map(M);return{v:babelHelpers["extends"]({},k,{data:c("LoadObject").withValue({userBucketData:w,friendsBucketData:x,userInfo:n.getUserInfo()})})}}();if(typeof p==="object")return p.v;case c("FBStoriesActionTypes").UPDATE_THREAD_VIEWERS_SEEN_OPTIMISTIC:var D=babelHelpers["extends"]({},this.getUserBucketData(),{threads:{nodes:this.$FBStoriesStore2().map(function(L){if(c("FBStoriesThreadHelper").getId(L)===l.threadID){var M=babelHelpers["extends"]({},L);c("FBStoriesThreadHelper").setSeenReceiptsLastSeenTime(M,Date.now());c("FBStoriesThreadHelper").setSeenReceiptsUnseenCount(M,0);c("FBStoriesThreadHelper").setSeenReceiptsFollowersUnseenCount(M,0);return M}else return L})}});return babelHelpers["extends"]({},k,{data:c("LoadObject").withValue({userBucketData:D,userInfo:this.getUserInfo(),friendsBucketData:this.getFriendsBucketData()})});case c("FBStoriesActionTypes").DELETE_THREAD_FROM_BUCKET:var q=function(){__p&&__p();var L=l.threadID,M=l.bucketID;if(!n.isUserManagedThread(L,M))return{v:k};var w=n.getUserBucketData(),N=null;if(M===c("FBStoriesBucketHelper").getId(w)){c("FBStoriesBucketHelper").setThreads(w,n.$FBStoriesStore4(w).filter(function(O){return c("FBStoriesThreadHelper").getId(O)!==L}));N=n.getFriendsBucketData()}else N=n.getFriendsBucketData().map(function(O){if(c("FBStoriesBucketHelper").getId(O)===M){var P=this.$FBStoriesStore4(O).filter(function(R){return c("FBStoriesThreadHelper").getId(R)!==L}),Q=babelHelpers["extends"]({},O);c("FBStoriesBucketHelper").setThreads(Q,P);return Q}else return O}.bind(n)).filter(function(O){return this.$FBStoriesStore4(O).length>0}.bind(n));var A=k.lastViewedThreadIndexForBucket;if(L===n.getCurrentThreadIDForSelectedBucket()){A=new Map(A);A.set(n.getSelectedBucketIndex(),undefined)}return{v:babelHelpers["extends"]({},k,{lastViewedThreadIndexForBucket:A,data:c("LoadObject").withValue({userBucketData:w,friendsBucketData:N,userInfo:n.getUserInfo()})})}}();if(typeof q==="object")return q.v;case c("FBStoriesActionTypes").REMOVE_BUCKET:var r=function(){var L=l.bucketID,M=n.getFriendsBucketData().filter(function(N){return c("FBStoriesBucketHelper").getId(N)!==L});return{v:babelHelpers["extends"]({},k,{data:c("LoadObject").withValue({userBucketData:n.getUserBucketData(),friendsBucketData:M,userInfo:n.getUserInfo()})})}}();if(typeof r==="object")return r.v;case c("FBStoriesActionTypes").SET_SATP_NATIVE_RENDER:return babelHelpers["extends"]({},k,{showSATPNativeRender:l.value});case c("FBStoriesLiveVideoActionTypes").LIVE_BUCKET_LOADED:var E=l.data,F=c("FBStoriesDataHelper").getFriendsBucketDataFromLoadedObject(E),G=[].concat(this.getFriendsBucketData()),H=F.reduce(function(L,M){if(this.$FBStoriesStore3(M)&&this.getBucketIndexByBucketId(c("FBStoriesBucketHelper").getId(M))===-1)L.push(M);return L}.bind(this),G);return babelHelpers["extends"]({},k,{data:c("LoadObject").withValue({userBucketData:this.getUserBucketData(),userInfo:this.getUserInfo(),friendsBucketData:H})});case c("FBStoriesActionTypes").REMOVE_ENDED_LIVE_VIDEO_FROM_BUCKET:var s=function(){var L=l.bucketID,M=n.getFriendsBucketData().map(function(N){if(c("FBStoriesBucketHelper").getId(N)===L){c("FBStoriesBucketHelper").setLiveVideo(N,null);c("FBStoriesBucketHelper").setHasLiveVideoEnded(N,false)}return N});return{v:babelHelpers["extends"]({},k,{data:c("LoadObject").withValue({userBucketData:n.getUserBucketData(),friendsBucketData:M,userInfo:n.getUserInfo()})})}}();if(typeof s==="object")return s.v;case c("FBStoriesActionTypes").SET_IS_COMMERCIAL_BREAK_RUNNING:var I=new Map(this.getState().isCommercialBreakRunning);return babelHelpers["extends"]({},k,{isCommercialBreakRunning:I.set(l.videoID,l.isCommercialBreakRunning)});case c("FBStoriesActionTypes").UNSELECT_BUCKET:return babelHelpers["extends"]({},k,{selectedBucketIndex:-1,currentThreadIndex:-1});case c("FBStoriesActionTypes").SET_VIEWER_OPEN:return babelHelpers["extends"]({},k,{isViewerOpen:l.value,viewerEntrypoint:l.entrypoint});case c("FBStoriesActionTypes").OPTIMISTIC_CREATE_PHOTO_STORY:var J=c("FBStoriesThreadHelper").makeOptimisticPhotoThread(l.imageURL),K=babelHelpers["extends"]({},this.getUserBucketData());c("FBStoriesBucketHelper").addThreadToBucket(K,J);return babelHelpers["extends"]({},k,{data:c("LoadObject").withValue({userBucketData:K,friendsBucketData:this.getFriendsBucketData(),userInfo:this.getUserInfo()})});case c("FBStoriesActionTypes").RESET_STATE:return babelHelpers["extends"]({},this.getInitialState());case c("FBStoriesActionTypes").SET_SUBSCRIPTION_TOKEN:return babelHelpers["extends"]({},k,{subscriptionToken:l.token});case c("FBStoriesActionTypes").OPTIMISTIC_POLL_VOTE:var t=function(){__p&&__p();var L=l.index,M=n.getSelectedBucketId(),N=function(O){__p&&__p();if(c("FBStoriesBucketHelper").getId(O)===M){var P=this.$FBStoriesStore4(O).map(function(R){__p&&__p();if(c("FBStoriesThreadHelper").getId(R)===this.getCurrentThreadIDForSelectedBucket()){var S,T=babelHelpers["extends"]({},R);(((S=T)!=null?(S=S.root_message)!=null?S.story_overlays:S:S)||[]).map(function(U){__p&&__p();if(U.__typename==="StoryOverlayPollSticker"){var V=U.poll,W=babelHelpers["extends"]({},V);W.viewer_vote_index=L;W.poll_options=[].concat(V.poll_options);var X=W.poll_options[L];if(X!==undefined)X.vote_count+=1;U.poll=W}return U});return T}else return R}.bind(this)),Q=babelHelpers["extends"]({},O);c("FBStoriesBucketHelper").setThreads(Q,P);return Q}else return O}.bind(n),w=n.isOwnBucket()?N(n.getUserBucketData()):n.getUserBucketData(),x=n.isOwnBucket()?n.getFriendsBucketData():n.getFriendsBucketData().map(N);return{v:babelHelpers["extends"]({},k,{data:c("LoadObject").withValue({userBucketData:w,friendsBucketData:x,userInfo:n.getUserInfo()})})}}();if(typeof t==="object")return t.v;case c("FBStoriesActionTypes").SET_SHOW_BUCKET_NAVIGATION:return babelHelpers["extends"]({},k,{shouldShowBucketNavigation:l.value});default:return k}};j.prototype.$FBStoriesStore5=function(){var k=this.getState().data;return k.hasValue()?k.getValueEnforcing():{friendsBucketData:[],userBucketData:c("FBStoriesBucketHelper").getDefaultBucket(),userInfo:{userName:"",userID:"",userGender:"",userProfilePic:{uri:""}}}};j.prototype.getUserBucketData=function(){return this.$FBStoriesStore5().userBucketData||{}};j.prototype.getUserInfo=function(){return this.$FBStoriesStore5().userInfo||{}};j.prototype.getFriendsBucketData=function(){return this.$FBStoriesStore5().friendsBucketData||[]};j.prototype.isMutedBucketOwner=function(k){var l=c("FBStoriesMutedBucketOwnersStore").getState(),m=c("fbStoriesMutedBucketOwnersSelectors").getMutedBucketOwners(l);return m.find(function(n){return n.id===k})!==undefined};j.prototype.isLoading=function(){return this.getState().data.isLoading()};j.prototype.getBucketIds=function(){var k=this.getFriendsBucketData().map(function(m){return m.id?m.id:""}),l=this.getUserBucketData().id||"";return[l].concat(k)};j.prototype.getSelectedBucketIndex=function(){return this.getState().selectedBucketIndex};j.prototype.shouldShowBucketNavigation=function(){return this.getState().shouldShowBucketNavigation};j.prototype.getSelectedBucketId=function(){return this.getBucketIds()[this.getSelectedBucketIndex()]};j.prototype.areAllBucketsViewed=function(){return this.getState().allBucketsViewed};j.prototype.getCameraPostTypeForBucketId=function(k){return c("FBStoriesBucketHelper").getCameraPostType(this.$FBStoriesStore6(k))};j.prototype.doesBucketContainThreadId=function(k,l){var m=this.$FBStoriesStore6(k),n=c("FBStoriesBucketHelper").getThreads(m);return n.find(function(o){return c("FBStoriesThreadHelper").getId(o)===l})!==undefined};j.prototype.$FBStoriesStore6=function(k){return this.getBucketByIndex(this.getBucketIndexByBucketId(k))};j.prototype.getBucketIndexByBucketId=function(k){return this.getBucketIds().indexOf(k)};j.prototype.getSelectedBucketCameraPostType=function(){return c("FBStoriesBucketHelper").getCameraPostType(this.$FBStoriesStore1())};j.prototype.getSelectedBucketOwner=function(){return c("FBStoriesBucketHelper").getOwner(this.$FBStoriesStore1())};j.prototype.getSelectedBucketOwnerID=function(){return c("FBStoriesBucketHelper").getOwnerId(this.$FBStoriesStore1())};j.prototype.getSelectedBucketUnseenCount=function(){return c("FBStoriesBucketHelper").getUnseenCount(this.$FBStoriesStore1())};j.prototype.getThreadsForSelectedBucket=function(){return this.$FBStoriesStore4(this.$FBStoriesStore1())};j.prototype.getCurrentThreadIndexForSelectedBucket=function(){return this.getState().currentThreadIndex};j.prototype.getCurrentThreadIDForSelectedBucket=function(){return c("FBStoriesThreadHelper").getId(this.getCurrentThreadForSelectedBucket())};j.prototype.getCurrentThreadStatusForSelectedBucket=function(){return c("FBStoriesThreadHelper").getStatus(this.getCurrentThreadForSelectedBucket())};j.prototype.getCurrentThreadCameraPostTypeForSelectedBucket=function(){return this.isSelectedBucketLive()?c("CameraPostTypes").STORY:c("FBStoriesThreadHelper").getCameraPostType(this.getCurrentThreadForSelectedBucket())};j.prototype.getCurrentThreadMediaTypeForSelectedBucket=function(){return this.isSelectedBucketLive()?c("BackstageMediaType").LIVE:c("FBStoriesThreadHelper").getMediaType(this.getCurrentThreadForSelectedBucket())};j.prototype.getCurrentThreadMediaIDForSelectedBucket=function(){if(this.isSelectedBucketLive()){var k=this.getThreadDataForSelectedLiveBucket();return k&&k.media.id}return c("FBStoriesThreadHelper").getMediaId(this.getCurrentThreadForSelectedBucket())};j.prototype.getCurrentThreadMediaViewerCountForSelectedBucket=function(){var k=this.getCurrentThreadForSelectedBucket();return c("FBStoriesThreadHelper").getNonFriendsSeenCount(k)+c("FBStoriesThreadHelper").getFriendsSeenCount(k)};j.prototype.getCurrentThreadForSelectedBucket=function(){return this.getThreadsForSelectedBucket()[this.getCurrentThreadIndexForSelectedBucket()]};j.prototype.getCurrentThreadData=function(){if(this.isSelectedBucketLive())return this.getThreadDataForSelectedLiveBucket();return this.$FBStoriesStore7(this.getState().currentThreadIndex)};j.prototype.shouldDisableReply=function(){var k=c("FBStoriesBucketHelper").shouldEnablePageStoryReply(this.$FBStoriesStore1());if(k==true)return false;var l=this.isOwnThread(),m=c("FBStoriesBucketHelper").isViewerFriendOfOwner(this.$FBStoriesStore1()),n=c("FBStoriesThreadHelper").isViewerFriendOfOwner(this.getCurrentThreadForSelectedBucket());return l||!m&&!n||this.isSelectedBucketLive()};j.prototype.getNonFriendsSeenCount=function(){return c("FBStoriesThreadHelper").getNonFriendsSeenCount(this.getCurrentThreadForSelectedBucket())};j.prototype.getFriendsSeenCount=function(){return c("FBStoriesThreadHelper").getFriendsSeenCount(this.getCurrentThreadForSelectedBucket())};j.prototype.isOwnBucket=function(k){return(k!=undefined?k:this.getSelectedBucketId())===c("FBStoriesBucketHelper").getId(this.getUserBucketData())};j.prototype.isOwnThread=function(){if(this.isOwnBucket())return true;var k=this.getCurrentThreadForSelectedBucket(),l=c("FBStoriesThreadHelper").getOwnerId(k);return l===this.getUserInfo().userID};j.prototype.isBucketViewerEventHost=function(){var k=this.$FBStoriesStore1();return c("FBStoriesBucketHelper").isViewerEventHost(k)};j.prototype.isCurrentThreadUserManaged=function(){return this.isUserManagedThread(this.getCurrentThreadIDForSelectedBucket()||"",this.getSelectedBucketId())};j.prototype.isCurrentBucketUserManaged=function(){return this.isUserManagedBucket(this.getSelectedBucketId())};j.prototype.isUserManagedThread=function(k,l){var m=this.$FBStoriesStore6(l);if(!m)return false;var n=this.$FBStoriesStore8(k,m),o=c("FBStoriesThreadHelper").getOwnerId(n);return n&&o===this.getUserInfo().userID||this.isUserManagedBucket(l)};j.prototype.isUserManagedBucket=function(k){var l=this.$FBStoriesStore6(k);if(!l)return false;return c("FBStoriesBucketHelper").getId(l)===c("FBStoriesBucketHelper").getId(this.getUserBucketData())||c("FBStoriesBucketHelper").isViewerEventHost(l)||c("FBStoriesBucketHelper").isViewerPageContentAdmin(l)||c("FBStoriesBucketHelper").isViewerGroupModerator(l)||c("FBStoriesBucketHelper").isViewerGroupAdmin(l)};j.prototype.isCurrentBucketGroupAdmin=function(){return this.isGroupAdminBucket(this.getSelectedBucketId())};j.prototype.isGroupAdminBucket=function(k){var l=this.$FBStoriesStore6(k);if(!l)return false;return c("FBStoriesBucketHelper").isViewerGroupModerator(l)||c("FBStoriesBucketHelper").isViewerGroupAdmin(l)};j.prototype.isCurrentThreadReviewStatusPending=function(){var k=this.getThreadsForSelectedBucket()[this.getCurrentThreadIndexForSelectedBucket()];return c("FBStoriesThreadHelper").isReviewStatusPending(k)};j.prototype.getBucketCount=function(){return this.getFriendsBucketData().length+1};j.prototype.hasDataInSelectedBucket=function(){return c("FBStoriesBucketHelper").hasData(this.$FBStoriesStore1())};j.prototype.hasOwnBucketViewers=function(){if(this.userBucketIsLive())return false;return c("FBStoriesBucketHelper").hasNewViewers(this.getUserBucketData())};j.prototype.hasOwnBucketUpdates=function(){if(this.userBucketIsLive())return false;return c("FBStoriesBucketHelper").hasUnseenThreads(this.getUserBucketData())};j.prototype.hasOwnBucketContent=function(){return this.$FBStoriesStore2().length>0||this.userBucketIsLive()};j.prototype.getCurrentThreadPercentDone=function(){return this.getState().currentThreadPercentDone};j.prototype.getThreadCountForSelectedBucket=function(){return this.getThreadsForSelectedBucket().length};j.prototype.userBucketIsLive=function(){return this.$FBStoriesStore3(this.getUserBucketData())};j.prototype.isSelectedBucketLive=function(){return this.$FBStoriesStore3(this.$FBStoriesStore1())};j.prototype.getSelectedBucketOwnerType=function(){return c("FBStoriesBucketHelper").getLoggingType(this.$FBStoriesStore1())};j.prototype.$FBStoriesStore3=function(k){return c("FBStoriesBucketHelper").isLive(k)};j.prototype.getCurrentThreadViewers=function(){__p&&__p();var k={hasNewViewers:false,hasNewFriendViewers:false,hasNewConnectionsViewers:false,friends:[],connections:[],totalCount:0,totalNew:0,nonFriendsCount:0};if(!this.isOwnThread())return k;var l=this.getCurrentThreadForSelectedBucket(),m=c("FBStoriesThreadHelper").getViewers(l),n=this.getUserInfo().userID,o=c("FBStoriesThreadHelper").getPollVoters(l);k=m.reduce(function(q,r){__p&&__p();var s=c("FBStoriesThreadHelper").getStoryViewerId(r);if(!s)return q;if(s!==n){var t,u=((t=r)!=null?(t=t.node)!=null?t.is_viewer_friend:t:t)||false,v=u?"friends":"connections",w=c("FBStoriesThreadHelper").getStoryViewerSeenTime(r),x=w>=c("FBStoriesThreadHelper").getSeenReceiptsLastSeenTime(l);q[v].push(babelHelpers["extends"]({},r.node,{seenTime:w,isNewViewer:x,votedPollOptionIndex:o[s]}));q.totalNew+=x?1:0;q.hasNewViewers=q.hasNewViewers||x;q.hasNewFriendViewers=q.hasNewFriendViewers||x&&u;q.hasNewConnectionsViewers=q.hasNewViewers||x&&!u}return q},k);var p=this.getNonFriendsSeenCount();return Object.assign(k,{totalCount:p+m.length,nonFriendsCount:p})};j.prototype.isUnseenMode=function(){return this.getState().unseenMode};j.prototype.getThreadCount=function(k){__p&&__p();var l=this.getBucketByIndex(k);if(this.$FBStoriesStore3(l))return 0;if(k===0){var m=this.$FBStoriesStore4(this.getUserBucketData());return m.length}if(k>0){var n=this.$FBStoriesStore4(l);return n.length}return-1};j.prototype.getUnseenThreadIndex=function(k){return c("FBStoriesBucketHelper").getUnseenThreadIndex(this.getBucketByIndex(k))};j.prototype.getAllowedNavigationType=function(){var k=this.getSelectedBucketIndex(),l=k===0||k==1&&!c("FBStoriesBucketHelper").hasData(this.getUserBucketData()),m=k===this.getBucketCount()-1,n=l&&this.getCurrentThreadIndexForSelectedBucket()==0,o=m&&this.getCurrentThreadIndexForSelectedBucket()===this.getThreadsForSelectedBucket().length-1;if(n)return"NEXT_ONLY";if(o)return"PREV_ONLY";return"BOTH"};j.prototype.hasSeenBucketInCurrentSession=function(k){var l=this.getState().lastViewedThreadIndexForBucket;return l.get(k)!==undefined};j.prototype.getLastSeenThreadIndexForBucket=function(k){var l=this.getState().lastViewedThreadIndexForBucket,m=l.get(k);return m==undefined?0:m};j.prototype.$FBStoriesStore2=function(){return this.$FBStoriesStore4(this.getUserBucketData())};j.prototype.$FBStoriesStore1=function(){return this.getBucketByIndex(this.getSelectedBucketIndex())};j.prototype.getBucketByIndex=function(k){var l;return k===0?this.getUserBucketData():(l=this.getFriendsBucketData())!=null?l[k-1]:l};j.prototype.$FBStoriesStore8=function(k,l){var m=this.$FBStoriesStore4(l),n=m.filter(function(o){return o.id===k});return n.length>0?n[0]:null};j.prototype.$FBStoriesStore4=function(k){return c("FBStoriesBucketHelper").getThreads(k)};j.prototype.$FBStoriesStore7=function(k){var l=this.getSelectedBucketOwner(),m=this.getThreadsForSelectedBucket()[k];if(!m)return null;var n=c("FBStoriesThreadHelper").getMedia(m),o=c("FBStoriesThreadHelper").getWWWTextFormatMetadata(m),p=c("FBStoriesThreadHelper").getTextFormatMetadata(m),q=c("FBStoriesThreadHelper").getBackdropImage(m),r=c("FBStoriesThreadHelper").getMessageText(m),s=c("FBStoriesThreadHelper").getIsPlainText(m),t=c("FBStoriesThreadHelper").getInstagramProfileURL(m),u=c("FBStoriesThreadHelper").getOriginalPostStoryAttribution(m);return{isLive:false,media:n,bucketOwner:l,threadOwner:c("FBStoriesThreadHelper").getOwner(m)||{name:null,id:null,is_viewer_friend:false,profile_picture:null},participants:[],isSeen:c("FBStoriesThreadHelper").isSeenByViewer(m),latestMessageID:c("FBStoriesThreadHelper").getLatestMessageID(m),time:c("FBStoriesThreadHelper").getTime(m),threadID:c("FBStoriesThreadHelper").getId(m),cameraPostType:c("FBStoriesThreadHelper").getCameraPostType(m),cameraPostSource:c("FBStoriesThreadHelper").getCameraPostSource(m),wwwTextFormatMetadata:o,messageText:r,textFormatMetadata:p,backdropImage:q,instagramProfileURL:t,isPlainText:s,originalPostStoryAttribution:u,activityDescription:c("FBStoriesThreadHelper").getActivityDescription(m),withTags:c("FBStoriesThreadHelper").getWithTags(m),explicitLocation:c("FBStoriesThreadHelper").getExplicitLocation(m),inlineActivities:c("FBStoriesThreadHelper").getInlineActivities(m)}};j.prototype.getThreadDataForSelectedLiveBucket=function(){var k=this.$FBStoriesStore1();return this.$FBStoriesStore9(k)};j.prototype.$FBStoriesStore9=function(k){if(!k)return null;var l=c("FBStoriesBucketHelper").getLiveVideo(k);if(!l||!this.$FBStoriesStore3(k))return null;var m=this.getSelectedBucketOwner();return{isLive:true,media:l,bucketOwner:m,isSeen:false,cameraPostType:c("FBStoriesBucketHelper").getCameraPostType(k)}};j.prototype.isSelectedBucketLiveAndEnded=function(){return this.isSelectedBucketLive()&&c("FBStoriesBucketHelper").hasLiveVideoEnded(this.$FBStoriesStore1())};j.prototype.getSATPNativeRender=function(){return this.getState().showSATPNativeRender};j.prototype.getIsCommercialBreakRunning=function(k){return!!this.getState().isCommercialBreakRunning.get(k)};j.prototype.getVideoMediaIdForBucketIndexAndThreadIndex=function(k,l){__p&&__p();var m=this.getBucketByIndex(k);if(!m)return null;if(this.$FBStoriesStore3(m)){var n,o=this.$FBStoriesStore9(m);return(n=o)!=null?(n=n.media)!=null?n.id:n:n}var p=this.$FBStoriesStore4(m);if(l<0||l>=p.length)return null;var q=c("FBStoriesThreadHelper").getMedia(p[l]);if(!q)return null;if(!c("CameraPostMediaHelper").isVideo(q))return null;return q.id};j.prototype.isViewerOpen=function(){return this.getState().isViewerOpen};j.prototype.getCurrentViewerEntrypoint=function(){return this.getState().viewerEntrypoint};j.prototype.getCurrentThreadOverlays=function(){return c("FBStoriesThreadHelper").getStoryOverlays(this.getCurrentThreadForSelectedBucket())};f.exports=new j(c("FBStoriesDispatcher"))}),null);
__d("FBStoriesPog.react",["ix","cx","fbt","React","CameraPostTypesHelper","Image.react","asset","XUISpinner.react","CameraPostTypes"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){var n=!!this.props.profileImageUri,o=n?c("React").createElement(c("Image.react"),{src:this.props.profileImageUri,className:"_26w6"}):null,p=this.$FBStoriesPog1(),q="_26w4"+(this.props.highlighted?" _26w9":"")+(this.props.live?" _26wp":"")+(n?" _26wu":"")+(this.props.size==="small"?" size-small":"")+(this.props.size==="small-48"?" size-small-48":"")+(this.props.borderOption==="hide-and-expand"?" no-border":"")+(this.props.borderOption==="hide"?" hide-border":""),r=c("React").createElement("div",{className:"_26wv"}),s=c("React").createElement("div",{className:"_26wx"},c("React").createElement(c("Image.react"),{alt:j._("LIVE"),src:h("404364")}));return c("React").createElement("div",{className:q},o,this.props.showBadge?r:null,p,c("React").createElement(c("XUISpinner.react"),{size:"large",background:n?"light":"dark",className:"_26ww"}),this.props.live?s:null)};m.prototype.$FBStoriesPog1=function(){var n=c("CameraPostTypesHelper").isEventStory(this.props.cameraPostType),o=c("CameraPostTypesHelper").isGroupStory(this.props.cameraPostType);if(!n&&!o)return null;return c("React").createElement("div",{className:"_26ws"},c("React").createElement("div",{className:(n?"_26wz":"")+(o?" _26w-":"")}))};function m(){k.apply(this,arguments)}m.defaultProps={highlighted:false,showBadge:false,live:false,size:"normal",cameraPostType:c("CameraPostTypes").STORY,borderOption:"show"};f.exports=m}),null);
__d("FBStoriesPlusPog.react",["ix","cx","React","Image.react","asset","XUISpinner.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){var m=c("React").createElement("div",{className:"_66a_"},c("React").createElement(c("Image.react"),{src:h("424422")})),n="_26w4 no-border"+(this.props.size==="small"?" size-small":"")+(this.props.size==="small-48"?" size-small-48":"");return c("React").createElement("div",{className:n},m,c("React").createElement(c("XUISpinner.react"),{size:"large",background:"light",className:"_26ww"}))};function l(){j.apply(this,arguments)}l.defaultProps={size:"normal"};f.exports=l}),null);
__d("FBStoriesTrayFullAddItem.react",["cx","fbt","FBStoriesPlusPog.react","FBStoriesPog.react","React","ShimButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";function j(k){var l=k.profileImageUri?c("React").createElement(c("FBStoriesPog.react"),{borderOption:"hide",profileImageUri:k.profileImageUri,size:"small-48"}):c("React").createElement(c("FBStoriesPlusPog.react"),{size:"small-48"});return c("React").createElement(c("ShimButton.react"),{className:"_1zp8"+(!!k.profileImageUri?" _2grz":""),onClick:k.onClick},l,c("React").createElement("div",{className:"_mx9 _mxa verbose"},c("React").createElement("span",{className:"_mxb _64xb _4u-0"},i._("Add to Your Story")),c("React").createElement("div",{className:"_31yn"},c("React").createElement("span",null,i._("Upload a photo or video")))))}f.exports=j}),null);
__d("FBStoriesTrayUploadingAnimation.react",["cssVar","cx","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=48,k=58,l=76,m=2,n=j/2,o=k/2,p=l/2,q=n-2,r=o-2,s=p-2,t=function t(u){__p&&__p();var v=void 0,w=void 0,x=void 0;switch(u.size){case"small":v=j;w=n;x=q;break;case"medium":v=k;w=o;x=r;break;case"large":default:v=l;w=p;x=s;break}return c("React").createElement("svg",{className:"_65xu"+(u.size==="small"?" size-small":"")+(u.size==="medium"?" size-medium":""),height:v,width:v},c("React").createElement("g",{className:"_65xv"},c("React").createElement("circle",{className:"_4kq4",cx:w,cy:w,fill:"none",r:x,stroke:"#4080ff",strokeWidth:m})))};f.exports=t}),null);
__d("FBStoriesTrayFullItem.react",["cx","FBStoriesTrayUploadingAnimation.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$FBStoriesTrayFullItem1=function(){if(!this.props.disabled&&!this.props.loading&&!this.props.uploading)this.props.onSelect(this.props.bucketID)}.bind(this),m}k.prototype.render=function(){if(!this.props.bucketID)return null;var l=this.props.uploading&&c("React").createElement(c("FBStoriesTrayUploadingAnimation.react"),{size:"medium"});return c("React").createElement("div",{tabIndex:0,role:"button",onClick:this.$FBStoriesTrayFullItem1,onKeyPress:this.$FBStoriesTrayFullItem1,className:"_1zp8"},l,this.props.children)};f.exports=k}),null);
__d("FBStoriesTrayItemTitle.react",["cx","fbt","React","Timestamp.react","formatDate"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){var m=this.$FBStoriesTrayItemTitle1(),n=this.$FBStoriesTrayItemTitle2();return c("React").createElement("div",{className:"_mx9"+(this.props.ownBucket?" _mxa":"")+(this.props.verbose?" verbose":"")},m,n)};l.prototype.$FBStoriesTrayItemTitle1=function(){if(this.props.ownBucket)return c("React").createElement("div",{className:"_mxb"},c("React").createElement("span",{className:"_nbt"},i._("Your Story")));return this.props.actorName?c("React").createElement("div",{dir:"auto",className:"_mxb"},c("React").createElement("span",{className:"_nbt"},this.props.actorName)):null};l.prototype.$FBStoriesTrayItemTitle2=function(){return this.props.verbose&&this.props.lastUpdateTime?c("React").createElement("div",{className:"_mxc"},c("React").createElement(c("Timestamp.react"),{key:"timestamp",autoUpdate:true,time:this.props.lastUpdateTime,text:c("formatDate")(this.props.lastUpdateTime,"M j, Y",{utc:true})})):null};function l(){j.apply(this,arguments)}l.defaultProps={ownBucket:false,verbose:false,lastUpdateTime:undefined};f.exports=l}),null);
__d("FBStoriesVerticalLayout.react",["cx","fbt","Arbiter","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=3;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={seeMore:this.props.seeMore},this.$FBStoriesVerticalLayout1=function(){return this.setState({seeMore:true},function(){return c("Arbiter").inform("netego_loaded")})}.bind(this),o}m.prototype.render=function(){var n=this.props.children,o=c("React").Children.count(n),p=!this.state.seeMore&&o>l,q=c("React").createElement("div",{key:"list",className:"_1fvt vertical-48"+(this.state.seeMore?" seeMore":"")},n),r=p&&c("React").createElement("a",{key:"link",className:"_31yr",href:"#",onClick:this.$FBStoriesVerticalLayout1},c("React").createElement("span",{className:"_jyz"}),i._("See More"));return[q,r]};f.exports=m}),null);
__d("FBStoriesTray.react",["cx","FBStoriesPog.react","FBStoriesTrayFullAddItem.react","FBStoriesTrayFullItem.react","FBStoriesTrayItemTitle.react","FBStoriesVerticalLayout.react","React","emptyFunction","FBStoriesBucketHelper","FBStoriesThreadHelper"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){__p&&__p();var l=this.props,m=l.friendsData,n=l.userBucketHasContent,o=!m||m.length===0;if(o&&!n)return null;var p=[];if(this.props.showProduction)p.push(this.$FBStoriesTray1());if(this.props.userBucketHasContent)p.push(this.$FBStoriesTray2());p=p.concat([].concat(this.$FBStoriesTray3()));return c("React").createElement(c("FBStoriesVerticalLayout.react"),{seeMore:!!this.props.isSeeMoreMode},p)};k.prototype.$FBStoriesTray4=function(l){return c("React").createElement("div",{key:l,className:"_1fvw"},c("React").createElement("div",{className:"_rqg"}))};k.prototype.$FBStoriesTray1=function(){var l=c("FBStoriesBucketHelper").getOwnerProfilePictureUri(this.props.userBucket);return c("React").createElement(c("FBStoriesTrayFullAddItem.react"),{key:"production",onClick:this.props.onAddStoryItemSelect})};k.prototype.$FBStoriesTray2=function(){var l=this.props,m=l.userBucket,n=l.userBucketHasUpdates,o=l.userBucketHasNewViewers,p=l.userBucketIsLive,q=c("FBStoriesBucketHelper").getCameraPostType(m),r=c("FBStoriesBucketHelper").isUploading(m),s=c("FBStoriesBucketHelper").getLatestThreadCreationTime(m),t=c("FBStoriesBucketHelper").getMediaIDForLiveBucket(m),u=c("FBStoriesBucketHelper").getId(m),v=c("FBStoriesBucketHelper").getOwnerProfilePictureUri(m);return c("React").createElement(c("FBStoriesTrayFullItem.react"),{key:u,bucketID:u,uploading:r,loading:this.props.loadingBucketID===u,onSelect:this.props.onItemSelect},c("React").createElement(c("FBStoriesPog.react"),{cameraPostType:q,live:p,showLoadingAnim:r,highlighted:!r&&n,showBadge:!r&&o,profileImageUri:v,size:"small-48",borderOption:r?"hide":"show"}),c("React").createElement(c("FBStoriesTrayItemTitle.react"),{verbose:true,ownBucket:true,lastUpdateTime:s}))};k.prototype.$FBStoriesTray3=function(){__p&&__p();return this.props.friendsData.map(function(l,m){var n=c("FBStoriesBucketHelper").getId(l);if(!n)return null;var o=c("FBStoriesBucketHelper").getCameraPostType(l),p=c("FBStoriesBucketHelper").getOwnerId(l),q=c("FBStoriesBucketHelper").getOwnerName(l,true);if(!p||!q)return null;var r=c("FBStoriesBucketHelper").isLive(l),s=c("FBStoriesBucketHelper").getOwnerProfilePictureUri(l),t=c("FBStoriesBucketHelper").getThreads(l),u=t.filter(function(w){return!c("FBStoriesThreadHelper").isSeenByViewer(w)}).length>0,v=c("FBStoriesBucketHelper").getLatestThreadCreationTime(l);return c("React").createElement(c("FBStoriesTrayFullItem.react"),{key:n,bucketID:n,loading:this.props.loadingBucketID===n,onSelect:this.props.onItemSelect},c("React").createElement(c("FBStoriesPog.react"),{cameraPostType:o,live:r,showLoadingAnim:false,highlighted:u,showBadge:false,profileImageUri:s,size:"small-48",borderOption:"show"}),c("React").createElement(c("FBStoriesTrayItemTitle.react"),{verbose:true,ownBucket:false,actorName:q,lastUpdateTime:v}))}.bind(this))};function k(){i.apply(this,arguments)}k.defaultProps={onAddStoryItemSelect:c("emptyFunction"),onItemHover:c("emptyFunction"),onItemHoverOut:c("emptyFunction"),loadingBucketID:null,showProduction:false,isSeeMoreMode:false};f.exports=k}),null);
__d("FBStoriesViewerEntrypoint",[],(function a(b,c,d,e,f,g){"use strict";f.exports={HOMEPAGE_TRAY:"HOMEPAGE_TRAY",GROUP_MALL:"GROUP_MALL",GROUP_PENDING_STORIES_TAB:"GROUP_PENDING_STORIES_TAB",PAGES_SURFACE:"PAGES_SURFACE"}}),null);
__d("FBStoriesTrayContainer.react",["cx","Bootloader","FBStoriesBucketHelper","FBStoriesLoggingConstants","FBStoriesProductionActions","FBStoriesStore","FBStoriesTray.react","FBStoriesTrayConfig","FBStoriesTrayHeader.react","FBStoriesViewerEntrypoint","FluxContainer","React","range"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;function k(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={friendsData:[],userBucket:c("FBStoriesBucketHelper").getDefaultBucket(),userBucketHasUpdates:false,userBucketHasNewViewers:false,userBucketHasContent:false,loading:true,bucketIdBeingLoaded:null,userBucketIsLive:false},this.$FBStoriesTrayContainer3=function(r){this.setState({bucketIdBeingLoaded:r});c("Bootloader").loadModules(["FBStoriesActions","FBStoriesLoggingHelper"],function(s,t){if(s.userSelectedBucket(r)){s.toggleViewer(true,c("FBStoriesViewerEntrypoint").HOMEPAGE_TRAY);t.storyLog(c("FBStoriesLoggingConstants").ACTION_OPEN_STORY,c("FBStoriesLoggingConstants").SOURCE_OPEN_FROM_STORY_HEAD)}this.setState({bucketIdBeingLoaded:null})}.bind(this),"FBStoriesTrayContainer.react")}.bind(this),n}k.getStores=function(){return[c("FBStoriesStore")]};k.calculateState=function(m){return{friendsData:c("FBStoriesStore").getFriendsBucketData(),userBucket:c("FBStoriesStore").getUserBucketData(),userBucketHasUpdates:c("FBStoriesStore").hasOwnBucketUpdates(),userBucketHasNewViewers:c("FBStoriesStore").hasOwnBucketViewers(),userBucketHasContent:c("FBStoriesStore").hasOwnBucketContent(),loading:c("FBStoriesStore").isLoading(),bucketIdBeingLoaded:m?m.bucketIdBeingLoaded:null,userBucketIsLive:c("FBStoriesStore").userBucketIsLive()}};k.prototype.render=function(){var m="_60kg";if(this.state.loading)return c("React").createElement("div",{className:m},c("React").createElement(c("FBStoriesTrayHeader.react"),null),c("React").createElement(l,null));if(this.$FBStoriesTrayContainer1())return c("React").createElement("div",{className:m});return c("React").createElement("div",{className:m},c("React").createElement(c("FBStoriesTrayHeader.react"),null),c("React").createElement(c("FBStoriesTray.react"),{atCenterColumn:this.props.atCenterColumn,isSeeMoreMode:this.props.isSeeMoreMode,showProduction:this.props.showProduction,friendsData:this.state.friendsData,userBucket:this.state.userBucket,userBucketHasContent:this.state.userBucketHasContent,userBucketHasNewViewers:this.state.userBucketHasNewViewers,userBucketHasUpdates:this.state.userBucketHasUpdates,loading:this.state.loading,loadingBucketID:this.state.bucketIdBeingLoaded,userBucketIsLive:this.state.userBucketIsLive,onAddStoryItemSelect:this.$FBStoriesTrayContainer2,onItemSelect:this.$FBStoriesTrayContainer3}))};k.prototype.$FBStoriesTrayContainer2=function(){c("FBStoriesProductionActions").openProductionDialog()};k.prototype.$FBStoriesTrayContainer1=function(){var m=this.state,n=m.friendsData,o=m.userBucket,p=m.loading,q=!c("FBStoriesBucketHelper").hasData(o),r=!n||n.length===0,s=q&&r;return!p&&s};k.defaultProps={showProduction:false,atCenterColumn:false,isSeeMoreMode:false};var l=function l(m){var n=function n(o){return c("React").createElement("div",{className:"_19l4",key:o},c("React").createElement("div",{className:"_19la"},c("React").createElement("div",{className:"_19lc"})),c("React").createElement("div",{className:"_19ld"}),c("React").createElement("div",{className:"_19li"}),c("React").createElement("div",{className:"_19lj"}),c("React").createElement("div",{className:"_19lk"}),c("React").createElement("div",{className:"_19ll"}),c("React").createElement("div",{className:"_19lm"}),c("React").createElement("div",{className:"_19mw"}))};return c("React").createElement("div",{className:"_19m_"+(c("FBStoriesTrayConfig").trayLayout==="vertical_48"?" vertical_48":"")},c("React").createElement("div",{className:"_19n0"},c("range")(0,3).map(n)))};f.exports=c("FluxContainer").create(k)}),null);
__d("FBStoriesTrayHeader.react",["ix","cx","fbt","CameraFileBugButton.react","ContextualLayerAutoFlip","FBStoriesMutedBucketOwnersViewer","PopoverMenu.react","React","ReactMenu","ReactXUIMenu","Image.react","TooltipLink.react","asset","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("ReactMenu").Item;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;n.prototype.$FBStoriesTrayHeader1=function(){c("FBStoriesMutedBucketOwnersViewer").getInstance().open()};n.prototype.render=function(){var o=[];o.push(c("React").createElement(m,{key:"muted_stories",onClick:this.$FBStoriesTrayHeader1},c("React").createElement(c("Image.react"),{src:h("113417")}),j._("Stories You've Muted")));o.push(c("CameraFileBugButton.react")());var p=c("React").createElement(c("ReactXUIMenu"),{className:"_2sh1"},o);return c("React").createElement("div",{className:"_42rg"},c("React").createElement(c("TooltipLink.react"),{tooltip:j._("Stories are photos and videos that are visible for 24 hours. When someone adds to a story, it'll show up here.")},c("React").createElement("span",{className:"_2ms2"},j._("Stories"))),c("React").createElement("div",{className:"_2sh5"},c("React").createElement(c("PopoverMenu.react"),{alignv:"bottom",alignh:"left","aria-label":j._("More"),layerBehaviors:[c("ContextualLayerAutoFlip")],menu:p,position:"below"},c("React").createElement(c("TooltipLink.react"),{href:"#",tooltip:j._("More")},c("React").createElement(c("Image.react"),{src:h("348130")})))))};function n(){k.apply(this,arguments)}f.exports=n}),null);
__d("FBStoriesActionsHelper",["FBStoriesStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={checkAllBucketsViewed:function i(j){var k=c("FBStoriesStore").getBucketCount();return j>=k||j<0},getNextBucketAndThreadIndex:function i(j,k){__p&&__p();var l=k?j+1:j-1,m=0;if(c("FBStoriesStore").isUnseenMode()){var n=false;while(n===false&&!h.checkAllBucketsViewed(l)){m=c("FBStoriesStore").getUnseenThreadIndex(l);n=m>=0;if(!n)l=k?l+1:l-1}if(!n&&!k){l=j-1;m=c("FBStoriesStore").getLastSeenThreadIndexForBucket(l);while(!c("FBStoriesStore").hasSeenBucketInCurrentSession(l)&&l>=0){l-=1;m=c("FBStoriesStore").getLastSeenThreadIndexForBucket(l)}}}else if(!k)m=c("FBStoriesStore").getLastSeenThreadIndexForBucket(l);return{nextBucketIndex:l,nextThreadIndex:m}}};f.exports=h}),null);
__d("FBStoriesWWWPerfTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:FBStoriesWWWPerfLoggerConfig",this.$FBStoriesWWWPerfTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:FBStoriesWWWPerfLoggerConfig",this.$FBStoriesWWWPerfTypedLogger1,c("Banzai").VITAL)};h.prototype.logImmediately=function(){c("GeneratedLoggerUtils").log("logger:FBStoriesWWWPerfLoggerConfig",this.$FBStoriesWWWPerfTypedLogger1,{signal:true})};h.prototype.clear=function(){this.$FBStoriesWWWPerfTypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$FBStoriesWWWPerfTypedLogger1)};h.prototype.updateData=function(j){this.$FBStoriesWWWPerfTypedLogger1=babelHelpers["extends"]({},this.$FBStoriesWWWPerfTypedLogger1,j);return this};h.prototype.setEventTotalTime=function(j){this.$FBStoriesWWWPerfTypedLogger1.event_total_time=j;return this};h.prototype.setEventType=function(j){this.$FBStoriesWWWPerfTypedLogger1.event_type=j;return this};h.prototype.setVC=function(j){this.$FBStoriesWWWPerfTypedLogger1.vc=j;return this};var i={event_total_time:true,event_type:true,vc:true};f.exports=h}),null);
__d("FBStoriesLoggingHelper",["BackstageMediaType","DirectMessagingTypedLogger","FBLogger","FBStoriesBucketHelper","FBStoriesLoggingConstants","FBStoriesStore","FBStoriesWWWPerfTypedLogger","Banzai","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={_eventStartTimes:{},logStoryTrayLoad:function i(j){__p&&__p();var k=j.userBucketData,l=j.friendsBucketData,m=c("FBStoriesBucketHelper").hasData(k),n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=new Map();if(c("FBStoriesBucketHelper").isLive(k))p++;l.forEach(function(x){__p&&__p();n++;if(c("FBStoriesBucketHelper").getUnseenCount(x)>0)o++;if(c("FBStoriesBucketHelper").isLive(x))p++;var y=c("FBStoriesBucketHelper").getLoggingType(x);switch(y){case c("FBStoriesLoggingConstants").PAGE_STORY:q++;break;case c("FBStoriesLoggingConstants").EVENT_STORY:r++;break;case c("FBStoriesLoggingConstants").GROUP_STORY:s++;break;case c("FBStoriesLoggingConstants").STORY_PROMOTION:t++;break;case c("FBStoriesLoggingConstants").FOLLOWEE_STORY:u++;break;case c("FBStoriesLoggingConstants").FRIEND_STORY:v++;break;default:c("FBLogger")("fbstories").mustfix("storyOwnerType not found: %s",y)}var z=c("FBStoriesBucketHelper").getOwnerId(x),A=c("FBStoriesBucketHelper").getThreadIDs(x);if(c("FBStoriesBucketHelper").isLive(x)){var B,C=(B=c("FBStoriesBucketHelper").getLiveVideo(x))!=null?B.id:B;if(C)A.push(C)}w.set(z,A)});this._getLogger().setName(c("FBStoriesLoggingConstants").ACTION_TRAY_LOAD).setHasMyStory(m).setNumberStories(n).setNumberNewStories(o).setNumberLiveStories(p).setLiveStoriesInTray(p).setPageStoriesInTray(q).setGroupStoriesInTray(s).setEventStoriesInTray(r).setFolloweeStoriesInTray(u).setFriendStoriesInTray(v).setPromotionStoriesInTray(t).setStoryThreadIds(w).log()},storyLog:function i(j,k){var l=c("FBStoriesStore").getSelectedBucketCameraPostType(),m=c("FBStoriesStore").getSelectedBucketOwnerID(),n=c("FBStoriesStore").getSelectedBucketOwnerType(),o=c("FBStoriesStore").getThreadCountForSelectedBucket(),p=c("FBStoriesStore").getSelectedBucketUnseenCount()>0,q=c("FBStoriesStore").getSelectedBucketIndex();this._getLogger().setCameraPostType(l).setName(j).setActionSource(k).setStoryOwner(m).setStoryOwnerType(n).setThreadCount(o).setHasNewContent(p).setStoryIndex(q).log();c("Banzai").post("stories_interaction_poseidon_logging_banzai",{name:j,source:k,story_owner:String(m),number_media:String(o)})},mediaLog:function i(j){__p&&__p();var k=c("FBStoriesStore").getCurrentThreadCameraPostTypeForSelectedBucket(),l=c("FBStoriesStore").getSelectedBucketOwnerID(),m=c("FBStoriesStore").getSelectedBucketOwnerType(),n=c("FBStoriesStore").getCurrentThreadMediaIDForSelectedBucket(),o=c("FBStoriesStore").getCurrentThreadMediaTypeForSelectedBucket(),p=c("FBStoriesStore").getCurrentThreadMediaViewerCountForSelectedBucket(),q=c("FBStoriesStore").getSelectedBucketIndex(),r=c("FBStoriesStore").getCurrentThreadIDForSelectedBucket(),s=c("BackstageMediaType").UNKNOWN;if(o==="Photo")s=c("BackstageMediaType").PHOTO;else if(o==="Video")s=c("BackstageMediaType").VIDEO;else if(o===c("BackstageMediaType").LIVE)s=c("BackstageMediaType").LIVE;var t="";if(r)t=r.toString();this._getLogger().setCameraPostType(k).setName(j).setStoryOwner(l).setStoryOwnerType(m).setMediaType(s).setClientMediaID(n).setNumberViewers(p).setCardID(t).setStoryIndex(q).log()},logEventStart:function i(j){if(Object.prototype.hasOwnProperty.call(this._eventStartTimes,j))return;this._eventStartTimes[j]=Date.now();this._getPerfLogger().setEventType(j).setEventTotalTime(0).log()},logEventEnd:function i(j){if(Object.prototype.hasOwnProperty.call(this._eventStartTimes,j)===false)return;var k=Object.prototype.hasOwnProperty.call(this._eventStartTimes,j)?Date.now()-this._eventStartTimes[j]:-1;this._getPerfLogger().setEventType(j).setEventTotalTime(k).log();delete this._eventStartTimes[j]},_getLogger:function i(){return new(c("DirectMessagingTypedLogger"))()},_getPerfLogger:function i(){return new(c("FBStoriesWWWPerfTypedLogger"))()},openMediaLog:function i(){c("Banzai").post("stories_www_vpv_banzai",{media_id:c("FBStoriesStore").getCurrentThreadMediaIDForSelectedBucket()});h.mediaLog(c("FBStoriesLoggingConstants").ACTION_OPEN_MEDIA)},deleteMediaLog:function i(){h.mediaLog(c("FBStoriesLoggingConstants").ACTION_DELETE_MEDIA)},openSeenSummaryLog:function i(){h.mediaLog(c("FBStoriesLoggingConstants").ACTION_OPEN_SEEN_SUMMARY)}};f.exports=h}),null);
__d("FBStoriesMutedBucketOwnersActions",["FBStoriesDispatcher","CurrentUser","FBStoriesDataHelper","FBStoriesGraphQLAPI","FBStoriesMutedBucketOwnersActionTypes","FBStoriesMutedBucketOwnersStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("FBStoriesDispatcher").dispatch;function i(){c("FBStoriesDispatcher").explicitlyRegisterStores([c("FBStoriesMutedBucketOwnersStore")])}i.prototype.loadMutedOwners=function(){h({type:c("FBStoriesMutedBucketOwnersActionTypes").LOADING});c("FBStoriesGraphQLAPI").loadMutedBucketOwnersList().done(function(j){h({type:c("FBStoriesMutedBucketOwnersActionTypes").LOADED,data:c("FBStoriesDataHelper").getMutedBucketOwnersFromLoadedQuery(j)})})};i.prototype.setBucketOwnerMuted=function(j,k,l,m){c("FBStoriesGraphQLAPI").muteBucketOwner(c("CurrentUser").getID(),j,m).done(function(){h({type:c("FBStoriesMutedBucketOwnersActionTypes").SET_IS_CURRENTLY_MUTING,ownerID:j,value:false})});h({type:c("FBStoriesMutedBucketOwnersActionTypes").SET_IS_CURRENTLY_MUTING,ownerID:j,value:true});h({type:c("FBStoriesMutedBucketOwnersActionTypes").UPDATE_MUTED_OPTIMISTIC,ownerID:j,ownerName:k,ownerProfilePictureUri:l,value:m})};f.exports=new i()}),null);
__d("FBStoriesPrefetcher",["Bootloader","FBStoriesActionsHelper","FBStoriesStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={prefetchForCurrentThreadAndBucket:function i(){this.prefetch(c("FBStoriesStore").getSelectedBucketIndex(),c("FBStoriesStore").getCurrentThreadIndexForSelectedBucket())},prefetch:function i(j,k){this._prefetchVideos(j,k)},_prefetchVideos:function i(j,k){this._prefetchThreadVideo(j,k);this._prefetchForwardVideo(j,k);this._prefetchBackwardsVideo(j,k)},_prefetchForwardVideo:function i(j,k){this._prefetchVideo(true,j,k)},_prefetchBackwardsVideo:function i(j,k){this._prefetchVideo(false,j,k)},_prefetchVideo:function i(j,k,l){__p&&__p();var m=c("FBStoriesStore").getThreadCount(k),n=j?l+1:l-1;while(n>=0&&n<m){if(this._prefetchThreadVideo(k,n))return true;n=j?n+1:n-1}var o=k;while(!c("FBStoriesActionsHelper").checkAllBucketsViewed(o)){var p=c("FBStoriesActionsHelper").getNextBucketAndThreadIndex(o,j),q=p.nextBucketIndex,r=p.nextThreadIndex;if(this._prefetchThreadVideo(q,r))return true;o=q}return false},_prefetchThreadVideo:function i(j,k){var l=c("FBStoriesStore").getVideoMediaIdForBucketIndexAndThreadIndex(j,k);if(!l)return false;c("Bootloader").loadModules(["VideoPlayerMetaData"],function(m){m.genVideoData(l,{allowDashPrefetch:true,forceHD:true})},"FBStoriesPrefetcher");return true}};f.exports=h}),null);
__d("FBStoriesActions",["FBStoriesActionTypes","CameraPostBucketOwnerHelper","CameraPostGraphQLAPI","FBStoriesDispatcher","FBStoriesActionsHelper","FBStoriesGraphQLAPI","FBStoriesLoggingConstants","FBStoriesLoggingHelper","FBStoriesMutedBucketOwnersActions","FBStoriesPrefetcher","FBStoriesStore","JSResource"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("FBStoriesDispatcher").dispatch,i={resetStore:function j(){h({type:c("FBStoriesActionTypes").RESET_STATE})},loadData:function j(k,l,m,n,o){h({type:c("FBStoriesActionTypes").LOADED,data:{userInfo:{userName:k,userID:l,userGender:null,userProfilePic:{uri:m}},userBucketData:null,friendsBucketData:o}})},nextThread:function j(k){__p&&__p();var l=c("FBStoriesStore").isSelectedBucketLive();if(l){i.nextBucket();return}var m=c("FBStoriesStore").getThreadsForSelectedBucket(),n=c("FBStoriesStore").getCurrentThreadIndexForSelectedBucket(),o=k!==undefined?k:n+1;if(m.length===0)i.nextBucket();else if(o<=m.length-1)i.currentThreadIndexChanged(o);else i.nextBucket()},prevThread:function j(k){__p&&__p();var l=c("FBStoriesStore").isSelectedBucketLive();if(l){i.prevBucket();return}var m=c("FBStoriesStore").getThreadsForSelectedBucket(),n=c("FBStoriesStore").getCurrentThreadIndexForSelectedBucket(),o=k!==undefined?k:n-1;if(m.length===0)i.prevBucket();else if(o>=0)i.currentThreadIndexChanged(o,true);else i.prevBucket()},nextBucket:function j(){return i._transitionBucket(true)},prevBucket:function j(){return i._transitionBucket(false)},setShowBucketNavigation:function j(k){h({type:c("FBStoriesActionTypes").SET_SHOW_BUCKET_NAVIGATION,value:k})},userSelectedBucket:function j(k){__p&&__p();var l=c("FBStoriesStore").getBucketIndexByBucketId(k);if(l===-1)return false;var m=c("FBStoriesStore").getUnseenThreadIndex(l),n=Math.max(0,m),o=c("FBStoriesStore").isOwnBucket(k);h({type:c("FBStoriesActionTypes").RESET_LOCAL_SEEN_HISTORY});h({type:c("FBStoriesActionTypes").SET_UNSEEN_MODE,value:!o&&m>=0});h({type:c("FBStoriesActionTypes").SET_ALL_BUCKETS_VIEWED,value:false});h({type:c("FBStoriesActionTypes").SELECTED_BUCKET_IDX_CHANGED,bucketIndex:l});i.currentThreadIndexChanged(n);return true},updateCurrentThreadPercentDone:function j(k){h({type:c("FBStoriesActionTypes").SELECTED_THREAD_PERCENT_DONE,percentDone:k})},currentThreadIndexChanged:function j(k){__p&&__p();var l,m=arguments.length<=1||arguments[1]===undefined?false:arguments[1],n=c("FBStoriesStore").getCurrentThreadData(),o=c("FBStoriesStore").isOwnBucket();if(o&&n&&!n.isLive)i.markThreadViewersSeen(n.threadID);h({type:c("FBStoriesActionTypes").SELECTED_THREAD_IDX_CHANGED,index:k});i.updateCurrentThreadPercentDone(0);var p=c("FBStoriesStore").getCurrentThreadData();if(p){if(o&&!p.isLive)(function(){var q=p.threadID;c("FBStoriesGraphQLAPI").loadViewerListForThread(q).done(function(r){return h({type:c("FBStoriesActionTypes").VIEWER_LIST_LOADED_FOR_THREAD,threadID:q,data:r})})})();i.markCurrentThreadAsSeen();c("FBStoriesPrefetcher").prefetchForCurrentThreadAndBucket()}else if(m)i.prevThread();else i.nextThread()},markCurrentThreadAsSeen:function j(){var k=c("FBStoriesStore").getUserInfo().userID,l=c("FBStoriesStore").getCurrentThreadData();if(!l||l.isLive)return;var m=l.latestMessageID,n=l.cameraPostType,o=l.threadID;h({type:c("FBStoriesActionTypes").UPDATE_THREAD_SEEN_OPTIMISTIC,threadID:o});c("CameraPostGraphQLAPI").markThreadSeen(k,o,m,n)},markThreadViewersSeen:function j(k){h({type:c("FBStoriesActionTypes").UPDATE_THREAD_VIEWERS_SEEN_OPTIMISTIC,threadID:k});c("FBStoriesGraphQLAPI").updateThreadSeenReciept(k)},_transitionBucket:function j(k,l){__p&&__p();var m=c("FBStoriesStore").getCurrentThreadData(),n=c("FBStoriesStore").isOwnBucket();if(n&&m&&!m.isLive)i.markThreadViewersSeen(m.threadID);l=l!==undefined?l:c("FBStoriesStore").getSelectedBucketIndex();var o=c("FBStoriesActionsHelper").getNextBucketAndThreadIndex(l,k),p=o.nextBucketIndex,q=o.nextThreadIndex,r=c("FBStoriesActionsHelper").checkAllBucketsViewed(p);h({type:c("FBStoriesActionTypes").SET_ALL_BUCKETS_VIEWED,value:r});if(r){if(n&&m&&!m.isLive)return i.markThreadViewersSeen(m.threadID);return undefined}i.removeEndedLiveVideo();h({type:c("FBStoriesActionTypes").SELECTED_BUCKET_IDX_CHANGED,bucketIndex:p});if(!c("FBStoriesStore").hasDataInSelectedBucket()&&!c("FBStoriesStore").isSelectedBucketLive()){if(k)return i.nextBucket();return i.prevBucket()}i.currentThreadIndexChanged(q);c("FBStoriesLoggingHelper").storyLog(c("FBStoriesLoggingConstants").ACTION_OPEN_STORY,c("FBStoriesLoggingConstants").SOURCE_OPEN_FROM_PRIOR_STORY);return undefined},deleteThreadFromBucket:function j(k,l){if(!c("FBStoriesStore").isUserManagedThread(k,l))return;c("FBStoriesGraphQLAPI").deleteStory(c("FBStoriesStore").getUserInfo().userID,k);h({type:c("FBStoriesActionTypes").DELETE_THREAD_FROM_BUCKET,threadID:k,bucketID:l});i.nextThread(c("FBStoriesStore").getCurrentThreadIndexForSelectedBucket())},muteBucketOwner:function j(k,l){c("FBStoriesMutedBucketOwnersActions").setBucketOwnerMuted(c("CameraPostBucketOwnerHelper").getId(k),c("CameraPostBucketOwnerHelper").getName(k),c("CameraPostBucketOwnerHelper").getProfilePictureUri(k),true);if(!l)return;h({type:c("FBStoriesActionTypes").REMOVE_BUCKET,bucketID:l});i._transitionBucket(true,c("FBStoriesStore").getSelectedBucketIndex()-1)},reportThreadToAdmin:function j(k){c("FBStoriesGraphQLAPI").reportThreadToAdmin(c("FBStoriesStore").getUserInfo().userID,k)},removeEndedLiveVideo:function j(){if(!c("FBStoriesStore").isSelectedBucketLiveAndEnded())return;var k=c("FBStoriesStore").getSelectedBucketId();if(c("FBStoriesStore").getThreadsForSelectedBucket().length>0)h({type:c("FBStoriesActionTypes").REMOVE_ENDED_LIVE_VIDEO_FROM_BUCKET,bucketID:k});else h({type:c("FBStoriesActionTypes").REMOVE_BUCKET,bucketID:k})},setIsCommercialBreakRunning:function j(k,l){h({type:c("FBStoriesActionTypes").SET_IS_COMMERCIAL_BREAK_RUNNING,isCommercialBreakRunning:l,videoID:k})},toggleViewer:function j(k,l){h({type:c("FBStoriesActionTypes").SET_VIEWER_OPEN,value:k,entrypoint:l});return c("JSResource")("FBStoriesViewer").__setRef("FBStoriesActions").load().then(function(m){return m.getInstance().toggle(k)})},unselectBucket:function j(){h({type:c("FBStoriesActionTypes").UNSELECT_BUCKET})},optimisticCreateStoryPhoto:function j(k){if(!k)return;h({type:c("FBStoriesActionTypes").OPTIMISTIC_CREATE_PHOTO_STORY,imageURL:k})},onPollOptionVoted:function j(k,l){h({type:c("FBStoriesActionTypes").OPTIMISTIC_POLL_VOTE,index:l});c("FBStoriesGraphQLAPI").pollVote(k,l)}};f.exports=i}),null);
__d("FBStoriesCameraDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationReactDispatcher"));i=h&&h.prototype;function j(){h.apply(this,arguments)}f.exports=new j({strict:false})}),null);
__d("FBStoriesProductionTypes",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j={CAMERA_ERROR:"CAMERA_ERROR",FILE_SIZE_EXCEED:"FILE_SIZE_EXCEED",LEAVING:"LEAVING"};h=babelHelpers.inherits(k,c("immutable").Record({hasImage:undefined,hasMediaStream:undefined,isCameraMediaOpen:undefined,imageSource:undefined,mediaNode:undefined,mediaStream:undefined,privacySettingsCustomParticipants:undefined,privacySettingsMode:undefined,videoSource:undefined}));i=h&&h.prototype;function k(){h.apply(this,arguments)}var l={CAMERA_1:"CAMERA_1",CAMERA_2:"CAMERA_2",NULL_STATE:"NULL_STATE",UPLOAD_1:"UPLOAD_1"},m={UNSET:"UNSET",PUBLIC:"PUBLIC",FRIENDS_AND_CONNECTIONS:"FRIENDS_AND_CONNECTIONS",FRIENDS:"FRIENDS",CUSTOM:"CUSTOM"};f.exports={FBStoriesCameraPopupDialogTypes:j,FBStoriesCameraState:k,FBStoriesProductionFlowStageTypes:l,UnifiedStoriesAudienceModeTypes:m}}),null);
__d("FBStoriesCameraActionTypes",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({SET_HAS_IMAGE:"SET_HAS_IMAGE",SET_HAS_MEDIASTREAM:"SET_HAS_MEDIASTREAM",SET_IMAGESOURCE:"SET_IMAGESOURCE",SET_IS_CAMERA_MEDIA_OPEN:"SET_IS_CAMERA_MEDIA_OPEN",SET_MEDIA_NODE:"SET_MEDIA_NODE",SET_MEDIASTREAM:"SET_MEDIASTREAM",SET_PRIVACY_SETTINGS_CUSTOM_PARTICIPANTS:"SET_PRIVACY_SETTINGS_CUSTOM_PARTICIPANTS",SET_PRIVACY_SETTINGS_MODE:"SET_PRIVACY_SETTINGS_MODE",SET_VIDEOSOURCE:"SET_VIDEOSOURCE"});f.exports=h}),null);
__d("fbStoriesCameraReducer",["FBStoriesCameraActionTypes","FBStoriesProductionTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("FBStoriesProductionTypes").FBStoriesCameraState;function i(j,k){__p&&__p();switch(k.type){case c("FBStoriesCameraActionTypes").SET_HAS_IMAGE:return j.set("hasImage",k.hasImage);case c("FBStoriesCameraActionTypes").SET_HAS_MEDIASTREAM:return j.set("hasMediaStream",k.hasMediaStream);case c("FBStoriesCameraActionTypes").SET_IMAGESOURCE:return j.set("imageSource",k.imageSource);case c("FBStoriesCameraActionTypes").SET_IS_CAMERA_MEDIA_OPEN:return j.set("isCameraMediaOpen",k.isCameraMediaOpen);case c("FBStoriesCameraActionTypes").SET_MEDIA_NODE:return j.set("mediaNode",k.mediaNode);case c("FBStoriesCameraActionTypes").SET_MEDIASTREAM:return j.set("mediaStream",k.mediaStream);case c("FBStoriesCameraActionTypes").SET_PRIVACY_SETTINGS_CUSTOM_PARTICIPANTS:return j.set("privacySettingsCustomParticipants",k.privacySettingsCustomParticipants);case c("FBStoriesCameraActionTypes").SET_PRIVACY_SETTINGS_MODE:return j.set("privacySettingsMode",k.privacySettingsMode);case c("FBStoriesCameraActionTypes").SET_VIDEOSOURCE:return j.set("videoSource",k.videoSource);default:return j}}f.exports=i}),null);
__d("FBStoriesCameraStore",["fbStoriesCameraReducer","FBStoriesCameraDispatcher","FluxReduceStore","FBStoriesProductionTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("FBStoriesProductionTypes").FBStoriesCameraState;h=babelHelpers.inherits(k,c("FluxReduceStore"));i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.__moduleID=f.id,m}k.prototype.getInitialState=function(){return new j()};k.prototype.reduce=function(l,m){return c("fbStoriesCameraReducer")(l,m)};f.exports=new k(c("FBStoriesCameraDispatcher"))}),null);
__d("FBStoriesVisibilityHelper",["FBStoriesDataHelper","FBStoriesStore","Visibility","throttle"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=60,i={_visibilitySubscription:null,addListenerToReloadDataOnVisible:function j(k){if(this._visibilitySubscription)return;if(k===undefined)k=this._defaultDataLoad.bind(this);this._visibilitySubscription=c("Visibility").addListener(c("Visibility").VISIBLE,c("throttle").withBlocking(function(){if(c("FBStoriesStore").isLoading()===false&&c("FBStoriesStore").isViewerOpen()===false)if(k!==undefined)k()},h*1e3))},removeListener:function j(){if(!this._visibilitySubscription)return;this._visibilitySubscription.remove();this._visibilitySubscription=null},_defaultDataLoad:function j(){c("FBStoriesDataHelper").loadData()}};f.exports=i}),null);
__d("FBStoriesTrayInit",["csx","regeneratorRuntime","Promise","CSS","DOMQuery","FBStoriesActions","FBStoriesActionTypes","FBStoriesCameraStore","FBStoriesCenterColumnTrayContainer.react","FBStoriesDataHelper","FBStoriesDispatcher","FBStoriesGraphQLAPI","FBStoriesLoggingConstants","FBStoriesLoggingHelper","FBStoriesPrefetcher","FBStoriesStore","FBStoriesTrayConfig","FBStoriesTrayContainer.react","FBStoriesViewerEntrypoint","FBStoriesVisibilityHelper","React","ReactDOM","ge","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("FBStoriesLoggingConstants").INTERACTIONS;f.exports={_shouldLoadData:false,_loadDataPromise:undefined,_reactTrayRendered:false,_listenersInitialized:false,loadData:function j(){__p&&__p();var k=arguments.length<=0||arguments[0]===undefined?false:arguments[0];return c("regeneratorRuntime").async(function l(m){__p&&__p();while(1)switch(m.prev=m.next){case 0:if(!this._loadDataPromise||k)this._loadDataPromise=new(c("Promise"))(function n(o,p){__p&&__p();var q,r,s;return c("regeneratorRuntime").async(function t(u){__p&&__p();while(1)switch(u.prev=u.next){case 0:c("FBStoriesLoggingHelper").logEventStart(i.DATA_LOADING);q=c("FBStoriesDispatcher").dispatch;q({type:c("FBStoriesActionTypes").LOADING});u.prev=3;u.next=6;return c("regeneratorRuntime").awrap(c("FBStoriesGraphQLAPI").load());case 6:r=u.sent;if(this._shouldLoadData){u.next=9;break}return u.abrupt("return");case 9:s=c("FBStoriesDataHelper").getBucketsDataFromLoadedObject(r);c("FBStoriesLoggingHelper").logStoryTrayLoad(s);q({type:c("FBStoriesActionTypes").LOADED,data:s});this._initTrayListeners();c("FBStoriesLoggingHelper").logEventEnd(i.DATA_LOADING);o(r);u.next=22;break;case 17:u.prev=17;u.t0=u["catch"](3);q({type:c("FBStoriesActionTypes").LOADED_ERROR,error:u.t0});c("FBStoriesLoggingHelper").logEventEnd(i.DATA_LOADING);p(u.t0);case 22:case"end":return u.stop()}},null,this,[[3,17]])}.bind(this));return m.abrupt("return",this._loadDataPromise);case 2:case"end":return m.stop()}},null,this)},userSelectedBucket:function j(k){c("FBStoriesActions").userSelectedBucket(k)},registerStores:function j(){c("FBStoriesDispatcher").explicitlyRegisterStores([c("FBStoriesStore"),c("FBStoriesCameraStore")])},openViewer:function j(){c("FBStoriesLoggingHelper").logEventStart(i.VIEWER_OPEN);c("FBStoriesLoggingHelper").storyLog(c("FBStoriesLoggingConstants").ACTION_OPEN_STORY,c("FBStoriesLoggingConstants").SOURCE_OPEN_FROM_STORY_HEAD);return c("FBStoriesActions").toggleViewer(true,c("FBStoriesViewerEntrypoint").HOMEPAGE_TRAY).then(function(){return c("FBStoriesLoggingHelper").logEventEnd(i.VIEWER_OPEN)})},renderReactTray:function j(){__p&&__p();if(this._reactTrayRendered)return;c("FBStoriesLoggingHelper").logEventStart(i.TRAY_RENDER);var k=c("FBStoriesTrayConfig").showProduction,l=c("FBStoriesTrayConfig").atCenterColumn;c("FBStoriesPrefetcher").prefetchForCurrentThreadAndBucket();if(l){var m=c("DOMQuery").scry(c("ge")("stories_pagelet_below_composer"),"._4-u2");if(!m||m.length===0)return;m=m[0];if(!m)return;c("ReactDOM").render(c("React").createElement(c("FBStoriesCenterColumnTrayContainer.react"),null),m)}else{var n=c("DOMQuery").scry(c("ge")("stories_pagelet_rhc"),"._4-u2");if(!n||n.length===0)return;n=n[0];if(!n)return;var o="._1fvt",p=o?c("DOMQuery").find(n,o):undefined,q=p?c("CSS").hasClass(p,"seeMore"):false;c("ReactDOM").render(c("React").createElement(c("FBStoriesTrayContainer.react"),{showProduction:k,atCenterColumn:l,isSeeMoreMode:q}),n)}c("FBStoriesLoggingHelper").logEventEnd(i.TRAY_RENDER);this._reactTrayRendered=true},_initTrayListeners:function j(){__p&&__p();if(this._listenersInitialized)return;var k=c("FBStoriesDispatcher").dispatch,l=c("FBStoriesGraphQLAPI").subscribeToTrayChanges(function(m){var n;this.renderReactTray();k({type:c("FBStoriesActionTypes").SUBSCRIPTION_BUCKET_UPDATE,bucketData:(n=m)!=null?(n=n.stories_tray_subscribe)!=null?n.bucket:n:n})}.bind(this));if(l)k({type:c("FBStoriesActionTypes").SET_SUBSCRIPTION_TOKEN,token:l});c("FBStoriesVisibilityHelper").addListenerToReloadDataOnVisible(function(){return this.loadData(true)}.bind(this));this._listenersInitialized=true},initializeOnEnter:function j(){this._shouldLoadData=true;this.registerStores()},resetOnExit:function j(){__p&&__p();this._shouldLoadData=false;this._loadDataPromise=null;var k=c("FBStoriesStore").getState().subscriptionToken;if(k){c("FBStoriesGraphQLAPI").unsubscribeFromTrayChanges(k);c("FBStoriesDispatcher").dispatch({type:c("FBStoriesActionTypes").SET_SUBSCRIPTION_TOKEN,token:null})}c("FBStoriesActions").resetStore();c("FBStoriesVisibilityHelper").removeListener();this._listenersInitialized=false;this._reactTrayRendered=false}}}),null);
__d("FBStoriesMutedBucketOwner.react",["cx","fbt","Image.react","ProfileLink.react","React","XUIButton.react","XUISpinner.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){var m=i._("Mute"),n=i._("Unmute");return c("React").createElement("div",{className:"_33zl"},c("React").createElement(c("ProfileLink.react"),{uid:this.props.id,target:"_blank"},c("React").createElement(c("Image.react"),{src:this.props.profilePictureUri,className:"_33zr"})),c("React").createElement("span",{className:"_33zo"},c("React").createElement(c("ProfileLink.react"),{uid:this.props.id,target:"_blank"},this.props.name)),c("React").createElement("span",{className:"_33zn"},this.props.mutingInProgress?c("React").createElement(c("XUISpinner.react"),{size:"large"}):c("React").createElement(c("XUIButton.react"),{label:this.props.isMuted?n:m,onClick:function(){this.props.onMuteChanged(this.props.id,this.props.name,this.props.profilePictureUri,!this.props.isMuted)}.bind(this)})))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("FBStoriesMutedBucketOwners.react",["cx","fbt","FBStoriesMutedBucketOwner.react","FBStoriesMutedBucketOwnerHelper","FBStoriesMutedBucketOwnersActions","React","ScrollableArea.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){var m=this.props.mutedBucketOwners.length===0?c("React").createElement("div",{className:"_33zk"},i._("You haven't muted any stories yet. Once you do they'll show up here.")):this.props.mutedBucketOwners.map(function(n){var o=c("FBStoriesMutedBucketOwnerHelper").getId(n),p=this.props.currentlyMutingBucketOwners.indexOf(o)!==-1,q=c("FBStoriesMutedBucketOwnerHelper").getMuted(n);return c("React").createElement(c("FBStoriesMutedBucketOwner.react"),{key:o,id:o,name:c("FBStoriesMutedBucketOwnerHelper").getName(n),profilePictureUri:c("FBStoriesMutedBucketOwnerHelper").getProfilePictureUri(n),isMuted:q,mutingInProgress:p,onMuteChanged:c("FBStoriesMutedBucketOwnersActions").setBucketOwnerMuted})}.bind(this));return c("React").createElement(c("ScrollableArea.react"),{maxHeight:this.props.maxHeight,width:this.props.width},c("React").createElement("div",{className:"_33zj"},m))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("FBStoriesMutedBucketOwnersDialog.react",["fbt","FBStoriesMutedBucketOwners.react","LayerRemoveOnHide","LoadingDialog.react","React","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=445,l=100,m=310;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.state={showLoadingDialogWhileMuting:false},this.$FBStoriesMutedBucketOwnersDialog2=function(){if(this.$FBStoriesMutedBucketOwnersDialog1())this.props.onClose()}.bind(this),p}n.prototype.componentDidMount=function(){this.setState({showLoadingDialogWhileMuting:this.props.isCurrentlyMutingBucketOwners})};n.prototype.UNSAFE_componentWillReceiveProps=function(o){if(this.state.showLoadingDialogWhileMuting&&this.props.isCurrentlyMutingBucketOwners&&!o.isCurrentlyMutingBucketOwners)this.setState({showLoadingDialogWhileMuting:false})};n.prototype.$FBStoriesMutedBucketOwnersDialog1=function(){return this.props.isLoading||this.state.showLoadingDialogWhileMuting&&this.props.isCurrentlyMutingBucketOwners};n.prototype.render=function(){return this.$FBStoriesMutedBucketOwnersDialog1()?c("React").createElement(c("LoadingDialog.react"),{onToggle:this.$FBStoriesMutedBucketOwnersDialog2}):c("React").createElement(c("XUIDialog.react"),{width:k,height:l,shown:true,onToggle:this.props.onClose,behaviors:{LayerRemoveOnHide:c("LayerRemoveOnHide")}},c("React").createElement(c("XUIDialogTitle.react"),null,h._("Stories You've Muted")),c("React").createElement(c("XUIDialogBody.react"),{useCustomPadding:true},c("React").createElement(c("FBStoriesMutedBucketOwners.react"),{maxHeight:m,width:k,mutedBucketOwners:this.props.mutedBucketOwners,currentlyMutingBucketOwners:this.props.currentlyMutingBucketOwners})))};f.exports=n}),null);
__d("FBStoriesMutedBucketOwnersDialogContainer.react",["regeneratorRuntime","FBStoriesTrayInit","fbStoriesMutedBucketOwnersSelectors","FBStoriesMutedBucketOwnersDialog.react","FBStoriesMutedBucketOwnersStore","FluxContainer","React","shallowArrayEqual"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.$FBStoriesMutedBucketOwnersDialogContainer1=false,this.$FBStoriesMutedBucketOwnersDialogContainer2=[],l}j.getStores=function(){return[c("FBStoriesMutedBucketOwnersStore")]};j.calculateState=function(k){var l=c("FBStoriesMutedBucketOwnersStore").getState();return{mutedBucketOwners:c("fbStoriesMutedBucketOwnersSelectors").getMutedBucketOwners(l),currentlyMutingBucketOwners:c("fbStoriesMutedBucketOwnersSelectors").getCurrentlyMutingBucketOwners(l),isLoading:c("fbStoriesMutedBucketOwnersSelectors").isLoading(l),isCurrentlyMutingBucketOwners:c("fbStoriesMutedBucketOwnersSelectors").isCurrentlyMutingBucketOwners(l)}};j.prototype.UNSAFE_componentWillUpdate=function(k,l){if(!this.$FBStoriesMutedBucketOwnersDialogContainer1){this.$FBStoriesMutedBucketOwnersDialogContainer2=this.$FBStoriesMutedBucketOwnersDialogContainer3(l);this.$FBStoriesMutedBucketOwnersDialogContainer1=true}};j.prototype.componentWillUnmount=function k(){__p&&__p();return c("regeneratorRuntime").async(function l(m){__p&&__p();while(1)switch(m.prev=m.next){case 0:if(c("shallowArrayEqual")(this.$FBStoriesMutedBucketOwnersDialogContainer2,this.$FBStoriesMutedBucketOwnersDialogContainer3(this.state))){m.next=4;break}m.next=3;return c("regeneratorRuntime").awrap(c("FBStoriesTrayInit").loadData(true));case 3:c("FBStoriesTrayInit").renderReactTray();case 4:case"end":return m.stop()}},null,this)};j.prototype.$FBStoriesMutedBucketOwnersDialogContainer3=function(k){return k.mutedBucketOwners.map(function(l){return l.muted})};j.prototype.render=function(){return c("React").createElement(c("FBStoriesMutedBucketOwnersDialog.react"),{onClose:this.props.onClose,mutedBucketOwners:this.state.mutedBucketOwners,currentlyMutingBucketOwners:this.state.currentlyMutingBucketOwners,isLoading:this.state.isLoading,isCurrentlyMutingBucketOwners:this.state.isCurrentlyMutingBucketOwners})};f.exports=c("FluxContainer").create(j)}),null);
__d("FBStoriesMutedBucketOwnersViewer",["fbStoriesMutedBucketOwnersSelectors","DOM","ReactDOM","React","FBStoriesDispatcher","FBStoriesMutedBucketOwnersActions","FBStoriesMutedBucketOwnersDialogContainer.react","FBStoriesMutedBucketOwnersStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="fb_stories_muted_bucket_owners";i.openInstance=function(){i.getInstance().open()};i.getInstance=function(){if(!this.$FBStoriesMutedBucketOwnersViewer3)i.$FBStoriesMutedBucketOwnersViewer3=new i();return i.$FBStoriesMutedBucketOwnersViewer3};function i(){this.close=function(){c("ReactDOM").unmountComponentAtNode(this.$FBStoriesMutedBucketOwnersViewer1)}.bind(this);this.$FBStoriesMutedBucketOwnersViewer1=c("DOM").create("div",{id:h});if(document.body)document.body.appendChild(this.$FBStoriesMutedBucketOwnersViewer1)}i.prototype.open=function(){if(c("fbStoriesMutedBucketOwnersSelectors").canReload(c("FBStoriesMutedBucketOwnersStore").getState()))c("FBStoriesMutedBucketOwnersActions").loadMutedOwners();c("ReactDOM").render(c("React").createElement(c("FBStoriesMutedBucketOwnersDialogContainer.react"),{onClose:this.close}),this.$FBStoriesMutedBucketOwnersViewer1)};f.exports=i}),null);
__d("FBStoriesPreviewPog.react",["ix","cx","fbt","React","CameraPostTypesHelper","Image.react","asset","XUISpinner.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){var n=!!this.props.profileImageUri,o=!!this.props.previewImageUri,p=o?c("React").createElement(c("Image.react"),{src:this.props.previewImageUri,className:"_26w6"}):null,q=n?c("React").createElement(c("Image.react"),{src:this.props.profileImageUri,className:"_1hw0"}):null,r=this.$FBStoriesPreviewPog1(),s="_26w4"+(this.props.highlighted?" _26w9":"")+(this.props.live?" _26wp":"")+(o?" _26wu":"")+(this.props.size==="small"?" size-small":"")+(this.props.borderOption==="hide-and-expand"?" no-border":"")+(this.props.borderOption==="hide"?" hide-border":""),t=this.props.showBadge?c("React").createElement("div",{className:"_26wv"}):null,u=this.props.live?c("React").createElement("div",{className:"_26wx"},c("React").createElement(c("Image.react"),{alt:j._("LIVE"),src:h("404364")})):null;return c("React").createElement("div",{className:s},p,t,r,c("React").createElement(c("XUISpinner.react"),{size:"large",background:o?"light":"dark",className:"_26ww"}),u,q)};m.prototype.$FBStoriesPreviewPog1=function(){var n=c("CameraPostTypesHelper").isEventStory(this.props.cameraPostType),o=c("CameraPostTypesHelper").isGroupStory(this.props.cameraPostType);if(!n&&!o)return null;return c("React").createElement("div",{className:"_26ws"},c("React").createElement("div",{className:(n?"_26wz":"")+(o?" _26w-":"")}))};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("FBStoriesTrayInlineAddItem.react",["cx","fbt","FBStoriesPlusPog.react","FBStoriesPog.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";function j(k){var l=void 0;if(k.profileImageUri)l=c("React").createElement(c("FBStoriesPog.react"),{profileImageUri:k.profileImageUri,borderOption:"hide"});else l=c("React").createElement(c("FBStoriesPlusPog.react"),null);return c("React").createElement("div",{tabIndex:"0",role:"button",className:"_46z0"+(!!k.profileImageUri?" _nc3":""),onKeyPress:k.onClick,onClick:k.onClick},l,c("React").createElement("div",{className:"_mx9 _mxa"},c("React").createElement("div",{className:"_mxb"},c("React").createElement("span",{className:"_nbt"},i._("Add")))))}f.exports=j}),null);
__d("FBStoriesTrayInlineItem.react",["cx","fbt","FBStoriesTrayUploadingAnimation.react","IntlVariations","React","ShimButton.react","Tooltip.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$FBStoriesTrayInlineItem1=function(){if(!this.props.disabled&&!this.props.loading)this.props.onSelect(this.props.bucketID)}.bind(this),n}l.prototype.render=function(){if(!this.props.bucketID)return null;var m=c("IntlVariations").GENDER_UNKNOWN;if(this.props.actorGender==="MALE")m=c("IntlVariations").GENDER_MALE;else if(this.props.actorGender==="FEMALE")m=c("IntlVariations").GENDER_FEMALE;var n=this.props.ownBucket?i._("Watch Your Story"):i._({"*":"Watch {actor name}'s Story"},[i._param("actor name",this.props.actorName,[1,m])]),o=this.props.uploading,p=this.props.ownBucket||this.props.actorName,q=o&&c("React").createElement(c("FBStoriesTrayUploadingAnimation.react"),null);return c("React").createElement(c("ShimButton.react"),{tabIndex:"0",className:"_46z0"+(o?" own-bucket-uploading":""),onClick:this.$FBStoriesTrayInlineItem1,onKeyPress:this.$FBStoriesTrayInlineItem1},c("React").createElement("div",{className:"_46z1"},p?c("React").createElement(c("Tooltip.react"),{tooltip:n,alignH:"center",className:"_46z2"},q,this.props.children):c("React").createElement(c("React").Fragment,null,q,this.props.children)))};l.defaultProps={disabled:false,loading:false,uploading:true};f.exports=l}),null);
__d("FBStoriesTrayShimmerLoader.react",["cx","React","range"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(l){if(l.layout==="list")return c("React").createElement(k,l);return c("React").createElement(j,l)}function j(l){var m=l.numItems,n=m?m:6,o=function o(p){return c("React").createElement("div",{className:"_413r",key:p},c("React").createElement("div",{className:"_4141"},c("React").createElement("div",{className:"_4142"})),c("React").createElement("div",{className:"_4143"}),c("React").createElement("div",{className:"_4x8g"}),c("React").createElement("div",{className:"_4x8h"}),c("React").createElement("div",{className:"_4146"}))};return c("React").createElement("div",{className:"_4147"},c("React").createElement("div",{className:"_4148"},c("range")(0,n).map(o)))}function k(l){var m=l.numItems,n=l.listItemWidth,o=l.listRootHeight,p=m?m:6,q=function q(r){return c("React").createElement("div",{className:"_3r2u",key:r,style:n&&{minWidth:n,maxWidth:n}},c("React").createElement("div",{className:"_4141"},c("React").createElement("div",{className:"_4142"})),c("React").createElement("div",{className:"_3r2v"}),c("React").createElement("div",{className:"_3r31"}),c("React").createElement("div",{className:"_3r32"}),c("React").createElement("div",{className:"_3r33"}),c("React").createElement("div",{className:"_3r34"}),c("React").createElement("div",{className:"_3r35"}),c("React").createElement("div",{className:"_3r36"}))};return c("React").createElement("div",{className:"_3r37 _4147",style:o&&{height:o+"px"}},c("React").createElement("div",{className:"_3r38"},c("range")(0,p).map(q)))}f.exports=i}),null);
__d("ScrollLeftHelper",["Locale","UserAgent"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={NEGATIVE:"negative",REVERSE:"reverse",NORMAL:"normal"},i=function i(){if(c("UserAgent").isBrowser("Chrome"))return h.NORMAL;if(c("UserAgent").isBrowser("Firefox")||c("UserAgent").isBrowser("Opera")||c("UserAgent").isBrowser("Safari"))return h.NEGATIVE;if(c("UserAgent").isBrowser("IE")||c("UserAgent").isBrowser("Edge"))return h.REVERSE;return h.NORMAL},j=function j(l,m,n){if(!c("Locale").isRTL())return 0;switch(i()){case h.NEGATIVE:case h.REVERSE:return n;case h.NORMAL:default:return m-l}},k=function k(l,m,n){if(l===m)return j(l,m,n);if(!c("Locale").isRTL())return m-l-n;switch(i()){case h.NEGATIVE:return l-m+n;case h.REVERSE:return m-l+n;case h.NORMAL:default:return n}};f.exports={getInitialPosition:j,getNextScrollLeftGivenPageSize:function l(m,n,o,p,q,r,s){__p&&__p();var t=k(o,p,q),u=j(o,p,q),v=i(),w=void 0,x=void 0;if(!c("Locale").isRTL()){x=s?Math.min(m+n,t):Math.max(m-n,u);w=s?t-(m+n):m-n}else if(v===h.NEGATIVE){x=s?Math.max(m-n,t):Math.min(m+n,u);w=s?Math.abs(t-x):Math.abs(x)}else if(v===h.REVERSE){x=s?Math.min(m+n,t):Math.max(m-n,u);w=s?t-x:x}else{x=s?Math.max(m-n,t):Math.min(m+n,u);w=s?x:u-x}if(w<r)return s?t:u;return x},isAtRightMostPosition:function l(m,n,o,p){if(!c("Locale").isRTL())return m===k(n,o,p);return m===j(n,o,p)},isAtLeftMostPosition:function l(m,n,o,p){if(!c("Locale").isRTL())return m===0;return m===k(n,o,p)}}}),null);
__d("HorizontalScroll.react",["ix","cx","fbt","Animation","Ease","Image.react","Locale","React","ScrollLeftHelper","UserAgent","XUIButton.react","asset","compactArray","emptyFunction","range"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=400;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.defaultProps={placeholderFactory:c("emptyFunction")},this.state={itemCount:0,offsetWidth:0,scrolling:false,scrollLeft:0,scrollWidth:0,viewportItemsCount:0},this.$HorizontalScroll5=function(){if(!this.state.scrolling&&this.$HorizontalScroll1)this.setState({scrollLeft:this.$HorizontalScroll1.scrollLeft})}.bind(this),this.$HorizontalScroll2=function(){var t=this.state.viewportItemsCount*(this.props.itemWidth+this.props.itemMarginWidth),u=c("Locale").isRTL(),v=c("ScrollLeftHelper").getNextScrollLeftGivenPageSize(this.state.scrollLeft,t,this.state.offsetWidth,this.state.scrollWidth,this.props.itemMarginWidth,this.props.itemWidth,u);this.setState({scrollLeft:v})}.bind(this),this.$HorizontalScroll3=function(){var t=this.state.viewportItemsCount*(this.props.itemWidth+this.props.itemMarginWidth),u=!c("Locale").isRTL(),v=c("ScrollLeftHelper").getNextScrollLeftGivenPageSize(this.state.scrollLeft,t,this.state.offsetWidth,this.state.scrollWidth,this.props.itemMarginWidth,this.props.itemWidth,u);this.setState({scrollLeft:v})}.bind(this),p}n.prototype.componentDidMount=function(){var o=this.props.itemMarginWidth,p=this.props.itemWidth,q=this.$HorizontalScroll1.offsetWidth,r=this.$HorizontalScroll1.scrollWidth,s=c("ScrollLeftHelper").getInitialPosition(q,r,o);this.$HorizontalScroll1.scrollLeft=s;var t=0;if(p<=q)t=1+Math.floor((q-p)/(p+o));this.setState({offsetWidth:q,scrollLeft:s,scrollWidth:r,viewportItemsCount:t})};n.prototype.componentDidUpdate=function(o,p){__p&&__p();if(this.$HorizontalScroll1){if(p.scrollLeft!==this.state.scrollLeft){if(this.$HorizontalScroll4)this.$HorizontalScroll4.stop();if(!this.state.scrolling)this.setState({scrolling:true});this.$HorizontalScroll4=new(c("Animation"))(this.$HorizontalScroll1).duration(m).ease(c("Ease").circOut).ondone(function(){this.$HorizontalScroll4=null;this.setState({scrolling:false})}.bind(this)).to("scrollLeft",this.state.scrollLeft).go()}if(p.itemCount&&p.itemCount!==this.state.itemCount){var q=this.$HorizontalScroll1.scrollLeft,r=this.$HorizontalScroll1.scrollWidth,s=this.$HorizontalScroll1.offsetWidth,t=this.state.viewportItemsCount*(this.props.itemWidth+this.props.itemMarginWidth),u=Math.floor(q/t)*t,v=c("ScrollLeftHelper").getNextScrollLeftGivenPageSize(c("ScrollLeftHelper").getInitialPosition(s,r,this.props.itemMarginWidth),u,s,r,this.props.itemMarginWidth,this.props.itemWidth,true);this.setState({scrollLeft:v,scrollWidth:r,offsetWidth:s})}}};n.prototype.UNSAFE_componentWillUpdate=function(o,p){var q=o.children?c("compactArray")(c("React").Children.toArray(o.children)):[],r=q.length;if(r!=this.state.itemCount)this.setState({itemCount:r})};n.prototype.render=function(){var o=c("ScrollLeftHelper").isAtLeftMostPosition(this.state.scrollLeft,this.state.offsetWidth,this.state.scrollWidth,this.props.itemMarginWidth),p=c("ScrollLeftHelper").isAtRightMostPosition(this.state.scrollLeft,this.state.offsetWidth,this.state.scrollWidth,this.props.itemMarginWidth),q=c("React").createElement(c("XUIButton.react"),{"aria-label":j._("See more results from the left"),className:"_1rk2 _6107","data-testid":"horizontalScroll/leftArrow",href:{url:"#"},image:c("React").createElement(c("Image.react"),{src:h("374382")}),label:"With a Hidden Label",labelIsHidden:true,onClick:this.$HorizontalScroll2}),r=c("React").createElement(c("XUIButton.react"),{"aria-label":j._("See more results from the right"),className:"_1rkd _6107","data-testid":"horizontalScroll/rightArrow",href:{url:"#"},image:c("React").createElement(c("Image.react"),{src:h("374391")}),label:"With a Hidden Label",labelIsHidden:true,onClick:this.$HorizontalScroll3});return c("React").createElement("div",{className:"_lmj"+(this.state.viewportItemsCount===4?" _1iug":"")+(c("UserAgent").isBrowser("Chrome")&&this.state.scrolling?" _3_9y":""),onScroll:this.$HorizontalScroll5,ref:function(s){return this.$HorizontalScroll1=s}.bind(this)},this.props.children,this.$HorizontalScroll6(),!o&&q,c("React").createElement("span",null),!p&&r)};n.prototype.$HorizontalScroll6=function(){var o=Math.max(0,this.state.viewportItemsCount-this.state.itemCount);return c("range")(0,o).map(this.props.placeholderFactory)};f.exports=n}),null);
__d("FBStoriesHorizontalTray.react",["cx","FBStoriesPog.react","FBStoriesPreviewPog.react","FBStoriesTrayConfig","FBStoriesTrayInlineAddItem.react","FBStoriesTrayInlineItem.react","FBStoriesTrayItemTitle.react","FBStoriesTrayShimmerLoader.react","HorizontalScroll.react","React","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=74,l=6;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.render=function(){if(this.props.loading)return c("React").createElement("div",{className:"_100f"},c("React").createElement(c("FBStoriesTrayShimmerLoader.react"),{layout:"horizontal"}));var n=[];if(c("FBStoriesTrayConfig").showProduction)n.push(this.$FBStoriesHorizontalTray1());n=n.concat(this.$FBStoriesHorizontalTray2());return c("React").createElement("div",{className:"_100f"},c("React").createElement(c("HorizontalScroll.react"),{itemWidth:k,itemMarginWidth:l,placeholderFactory:this.$FBStoriesHorizontalTray3},n))};m.prototype.$FBStoriesHorizontalTray2=function(){var n=c("FBStoriesTrayConfig").showPreviews;return this.props.buckets.map(function(o,p){var q=o.bucketID,r=o.isLive,s=o.hasNewViewers,t=o.cameraPostType,u=o.profileImageUri,v=o.previewImageUri,w=o.actorShortName,x=o.actorName,y=o.actorGender,z=o.ownedByViewer,A=this.props.uploading&&z,B=s,C=B||o.hasUnseenThreads&&!r,D=n?c("React").createElement(c("FBStoriesPreviewPog.react"),{cameraPostType:t,live:r,highlighted:C,showBadge:B,profileImageUri:u,previewImageUri:v,borderOption:z&&A?"hide":"show"}):c("React").createElement(c("FBStoriesPog.react"),{cameraPostType:t,live:r,highlighted:C&&!A,showBadge:B&&!A,profileImageUri:u,borderOption:z&&A?"hide":"show"});return c("React").createElement(c("FBStoriesTrayInlineItem.react"),{key:p,bucketID:q,loading:this.props.loadingBucketID===q,uploading:A,onSelect:this.props.onItemSelect,actorName:x,actorGender:y,ownBucket:z},D,c("React").createElement(c("FBStoriesTrayItemTitle.react"),{ownBucket:z,actorName:w}))}.bind(this))};m.prototype.$FBStoriesHorizontalTray3=function(n){return c("React").createElement("div",{key:"ph_"+n,className:"_46z0"},c("React").createElement("div",{className:"__bd"}))};m.prototype.$FBStoriesHorizontalTray1=function(){var n,o=(n=this.props.userInfo.userProfilePic)!=null?n.uri:n;return c("React").createElement(c("FBStoriesTrayInlineAddItem.react"),{profileImageUri:c("FBStoriesTrayConfig").showPreviews?o:null,key:"production",onClick:this.props.onAddStoryItemSelect})};function m(){i.apply(this,arguments)}f.exports=m}),null);
__d("FBStoriesCenterColumnTrayContainer.react",["cx","FBStoriesActions","FBStoriesLoggingConstants","FBStoriesLoggingHelper","React","FBStoriesHorizontalTray.react","FBStoriesProductionActions","FBStoriesTrayHeader.react","FBStoriesStore","FBStoriesViewerEntrypoint","FluxContainer","fbStoriesRootSelectors"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;function k(){__p&&__p();var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$FBStoriesCenterColumnTrayContainer2=function(q){this.setState({bucketIdBeingLoaded:q});if(c("FBStoriesActions").userSelectedBucket(q)){c("FBStoriesActions").toggleViewer(true,c("FBStoriesViewerEntrypoint").HOMEPAGE_TRAY);c("FBStoriesLoggingHelper").storyLog(c("FBStoriesLoggingConstants").ACTION_OPEN_STORY,c("FBStoriesLoggingConstants").SOURCE_OPEN_FROM_STORY_HEAD)}this.setState({bucketIdBeingLoaded:null})}.bind(this),m}k.getStores=function(){return[c("FBStoriesStore")]};k.calculateState=function(l){var m=c("FBStoriesStore").getState();return{bucketDescriptors:c("fbStoriesRootSelectors").bucketDescriptors(m),loading:c("fbStoriesRootSelectors").loading(m),uploading:c("fbStoriesRootSelectors").uploading(m),bucketIdBeingLoaded:l?l.bucketIdBeingLoaded:null,userInfo:c("fbStoriesRootSelectors").userInfo(m)}};k.prototype.render=function(){return c("React").createElement(c("React").Fragment,null,c("React").createElement(c("FBStoriesTrayHeader.react"),null),c("React").createElement("div",{className:"_nyb"},this.$FBStoriesCenterColumnTrayContainer1()))};k.prototype.$FBStoriesCenterColumnTrayContainer1=function(){var l={buckets:this.state.bucketDescriptors,loading:this.state.loading,loadingBucketID:this.state.bucketIdBeingLoaded,onItemSelect:this.$FBStoriesCenterColumnTrayContainer2,uploading:this.state.uploading,onAddStoryItemSelect:this.$FBStoriesCenterColumnTrayContainer3,userInfo:this.state.userInfo};return c("React").createElement(c("FBStoriesHorizontalTray.react"),l)};k.prototype.$FBStoriesCenterColumnTrayContainer3=function(){c("FBStoriesProductionActions").openProductionDialog()};f.exports=c("FluxContainer").create(k)}),null);
__d("FBStoriesTray",["csx","regeneratorRuntime","Arbiter","CSS","DOMQuery","FBStoriesProductionActions","FBStoriesTrayInit","Run"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=false;function j(m){c("CSS").addClass(m,"loading")}function k(m){c("CSS").removeClass(m,"loading")}var l={init:function m(){if(i)return;this._initializeOnEnter();c("FBStoriesTrayInit").loadData()},onStoryTrayItemSelect:function m(n){__p&&__p();var o,p;return c("regeneratorRuntime").async(function q(r){__p&&__p();while(1)switch(r.prev=r.next){case 0:o=n.item;p=n.bucketID;j(o);r.prev=3;if(!i)this._initializeOnEnter();r.next=7;return c("regeneratorRuntime").awrap(c("FBStoriesTrayInit").loadData());case 7:c("FBStoriesTrayInit").userSelectedBucket(p);r.next=10;return c("regeneratorRuntime").awrap(c("FBStoriesTrayInit").openViewer());case 10:k(o);c("FBStoriesTrayInit").renderReactTray();r.next=17;break;case 14:r.prev=14;r.t0=r["catch"](3);k(o);case 17:case"end":return r.stop()}},null,this,[[3,14]])},onStoryTrayAddItemClick:function m(n){__p&&__p();var o;return c("regeneratorRuntime").async(function p(q){while(1)switch(q.prev=q.next){case 0:o=n.item;j(o);l.init();c("FBStoriesProductionActions").openProductionDialog();k(o);c("FBStoriesTrayInit").renderReactTray();case 6:case"end":return q.stop()}},null,this)},onSeeMoreLinkClick:function m(n){c("CSS").addClass(c("DOMQuery").find(n.linkEl,"^._60kg ._1fvt"),"seeMore");c("Arbiter").inform("netego_loaded")},_initializeOnEnter:function m(){i=true;c("FBStoriesTrayInit").initializeOnEnter();c("Run").onBeforeUnload(this._resetOnExit)},_resetOnExit:function m(){i=false;c("FBStoriesTrayInit").resetOnExit()}};f.exports=l}),null);
__d("FlexibleScrollableArea",["DataStore","DOM","DOMDimensions","Event","Parent","Run","Style","Vector","throttle"],(function a(b,c,d,e,f,g){__p&&__p();var h=30,i=100;function j(k,l,m,n,o){"use strict";__p&&__p();this._element=k;this._tight=l;this._measureFrom=m;this._minHeight=n;this._margin=o;c("DataStore").set(this._element,"FlexibleScrollableArea",this);c("Run").onLeave(this.cleanup.bind(this));this._listener=c("Event").listen(window,"resize",c("throttle")(this.poke,i,this));this.poke()}j.prototype.poke=function(){"use strict";__p&&__p();var k=c("DOM").find(this._element,".uiScrollableAreaBody"),l=c("Vector").getElementDimensions(k).y+c("DOMDimensions").measureElementBox(k,"height",true,true,true),m;if(this._tight){var n=this.getMaxHeight();if(l<n+h)n+=h;m=Math.max(Math.min(l,n),this._minHeight)}else m=Math.max(this.getMaxHeight(),this._minHeight);c("Style").set(this._element,"height",m+"px")};j.prototype.getMaxHeight=function(){"use strict";if(this._measureFrom==="bottom"){var k=c("Vector").getViewportDimensions().y,l=c("Vector").getElementPosition(this._element,"viewport").y,m=k-l;return m-this._margin}var n=c("Vector").getElementPosition(this._element,"viewport").y+c("Vector").getElementDimensions(this._element).y;return n-this._margin};j.prototype.cleanup=function(){"use strict";this._listener&&this._listener.remove()};j.getInstance=function(k){"use strict";var l=c("Parent").byClass(k,"flexibleScrollableArea");return l?c("DataStore").get(l,"FlexibleScrollableArea"):null};f.exports=j}),null);
__d("ReminderStory",["AsyncRequest","Arbiter","Bootloader","DOMQuery","Event","FlexibleScrollableArea","LayerAutoFocus","ScrollableArea","SubscriptionsHandler","getActiveElement"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j,k,l,m,n){"use strict";__p&&__p();this.$ReminderStory1=false;this.$ReminderStory2=j;this.$ReminderStory3=i;c("Event").listen(i,"click",function(event){if(k&&c("DOMQuery").contains(k,event.target))return;j.show();if(l)new(c("AsyncRequest"))("/growth/reminder/logging.php").setData({context_data:l,first_click:!this.$ReminderStory1}).send();this.$ReminderStory1=true}.bind(this));if(m)j.subscribeOnce("show",function(){c("Bootloader").loadModules(["UIPagelet"],function(o){return o.loadFromEndpoint(m,j.getContent(),n)},"ReminderStory")});j.disableBehavior(c("LayerAutoFocus"));j.subscribe("aftershow",function(){__p&&__p();var o=j.getRoot(),p=j.hide.bind(j);this.$ReminderStory4=new(c("SubscriptionsHandler"))();this.$ReminderStory4.addSubscriptions(c("Event").listen(window,"resize",p),c("Event").listen(window,"scroll",p));var q=c("DOMQuery").scry(o,".inlineReplyTextArea");q[0]&&q[0].focus();var r=c("DOMQuery").scry(o,".jewelItemNew"),s=[];r.forEach(function(w){var x=r[w].getAttribute("id");if(x&&x.endsWith("_1_req"))s=s.concat(x.replace("_1_req",""))});if(s.length>0)new(c("AsyncRequest"))("/friends/requests/log_impressions").setData({ids:s.join(","),ref:"reminder_box"}).send();var t=c("ScrollableArea").getInstance(c("DOMQuery").scry(j.getRoot(),".uiScrollableArea")[0]),u=c("FlexibleScrollableArea").getInstance(c("DOMQuery").scry(j.getRoot(),".flexibleScrollableArea")[0]),v=function v(){if(u)u.poke();if(t){t.poke();c("Event").fire(c("DOMQuery").scry(j.getRoot(),".scrollable")[0],"scroll")}};v();c("Arbiter").subscribe("reflow",function(){var w=c("DOMQuery").scry(o,".fbRemindersBirthdayList");if(q&&w)for(var x=0;x<q.length;++x)if(q[x]==c("getActiveElement")()&&c("DOMQuery").contains(w[0],q[x]))v()})}.bind(this));j.subscribe("beforehide",function(){if(this.$ReminderStory4){this.$ReminderStory4.release();this.$ReminderStory4=null}}.bind(this))}h.prototype.getDialog=function(){"use strict";return this.$ReminderStory2};h.prototype.getRoot=function(){"use strict";return this.$ReminderStory3};f.exports=h}),null);