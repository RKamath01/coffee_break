if (self.CavalryLogger) { CavalryLogger.start_js(["Mi0g\/"]); }

__d("AsyncLayout",["AjaxPipeRequest","Arbiter","AsyncRequest","AsyncResponse","CSS","FaceliftGating","DOM","HTML","NavigationMessage","PageTransitionsRegistrar","URI","$","emptyFunction","ge","goURI","requireWeak"],(function a(b,c,d,e,f,g){__p&&__p();var h;c("requireWeak")("PageTransitions",function(j){h=j});function i(j){"use strict";__p&&__p();this.canvasID=j;if(c("ge")("rightCol"))this.auxiliaryID="rightCol";if(c("ge")("headerArea"))this.headerID="headerArea";if(c("ge")("toolbarContainer"))this.toolbarID="toolbarContainer";this.waitingForAux=false;c("PageTransitionsRegistrar").registerHandler(this.catchPageTransition.bind(this));this.subscription=c("Arbiter").subscribe(c("NavigationMessage").NAVIGATION_BEGIN,this.onNavigate.bind(this));c("Arbiter").inform("AsyncLayout/initialized",null,c("Arbiter").BEHAVIOR_STATE)}i.prototype.catchPageTransition=function(j){"use strict";this.subscription.unsubscribe();return false};i.prototype.getCanvasID=function(j){"use strict";return j.sidecol?"contentCol":"contentArea"};i.prototype.onNavigate=function(j,k){"use strict";__p&&__p();var l=k.useAjaxPipe;k=k.params;if(k.endpoint){if(this.request){this.request.setFinallyHandler(c("emptyFunction"));this.request.abort()}if(l){k.xui_grid=c("FaceliftGating").hasXUIGrid;this.request=new(c("AjaxPipeRequest"))(this.getCanvasID(k),k.endpoint).setData(k).setFinallyHandler(this.finallyHandler.bind(this)).setErrorHandler(this.errorHandler.bind(this)).setFirstResponseCallback(this.firstResponseCallback.bind(this)).send()}else{k.handled=true;this.waitingForAux=k.sidecol;var m=!!k.iframe,n=new(c("AsyncRequest"))().setOption("useIframeTransport",m).setURI(new(c("URI"))(k.endpoint)).setReadOnly(true).setMethod("GET").setData(k).setHandler(this.onResponse.bind(this)).setErrorHandler(this.errorHandler.bind(this)).setFinallyHandler(this.finallyHandler.bind(this));this.request=n;n.send()}}};i.prototype.receivedAux=function(j){"use strict";!this.waitingForAux;this.waitingForAux=false;c("DOM").setContent(c("$")(this.auxiliaryID),c("HTML")(j))};i.prototype.onResponse=function(j){"use strict";__p&&__p();var k=j.getPayload();if(k.redirect)c("goURI")(k.redirect);else{var l=k.html||k;c("DOM").setContent(c("$")(this.canvasID),c("HTML")(l));if(k.side_html&&this.auxiliaryID)this.receivedAux(k.side_html);if(this.headerID&&!k.keep_header){var m=c("$")(this.headerID);c("DOM").setContent(m,c("HTML")(k.header_html||""));c("CSS").conditionShow(m,k.header_html)}if(k.toolbar_html&&this.toolbarID)c("DOM").setContent(c("$")(this.toolbarID),c("HTML")(k.toolbar_html));if(k.js)new Function(k.js)();c("CSS").conditionClass(c("$")("contentCol"),"hasRightCol",this.auxiliaryID&&!k.noRightSide);var n=c("ge")("rightCol");if(n&&k.noRightSide)c("DOM").empty(n)}var o=j.getRequest().getData();c("Arbiter").inform(c("NavigationMessage").NAVIGATION_COMPLETED,o.key)};i.prototype.errorHandler=function(j){"use strict";c("AsyncResponse").verboseErrorHandler(j);c("Arbiter").inform(c("NavigationMessage").NAVIGATION_FAILED);this.request=null};i.prototype.firstResponseCallback=function(){"use strict";window.scrollTo(0,0);c("Arbiter").inform(c("NavigationMessage").NAVIGATION_FIRST_RESPONSE)};i.prototype.finallyHandler=function(j){"use strict";this.request=null;if(h)h.transitionComplete(true);c("Arbiter").inform(c("NavigationMessage").NAVIGATION_COMPLETED)};f.exports=i}),null);
__d("StickyRHC",["csx","$","Arbiter","DirectionalDockingElement","DockingElement","DOMDimensions","DOMQuery","Event","Run","SubscriptionsHandler","ViewportBounds","JSReliabilityFixesGatingConfig","ge","getElementPosition","getViewportDimensions","removeFromArray","throttle"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=35,j=[],k;function l(z,A){__p&&__p();if(!A||!A.dom_id){j.forEach(m);return}var B=c("$")(A.dom_id);for(var C=0;C<j.length;C++)if(c("DOMQuery").contains(j[C].getRoot(),B)){m(j[C]);return}}function m(z){__p&&__p();var A=z.getRoot(),B=z.updateOffset.bind(z),C=c("DOMQuery").scry(A,"img.img");C.forEach(function(D){if(D.complete||D.getAttribute("height")||D.naturalHeight===undefined&&D.naturalHeight!==0)return;var E=function E(){B();F.remove();G.remove();H.remove()},F=c("Event").listen(D,"load",E),G=c("Event").listen(D,"error",E),H=c("Event").listen(D,"abort",E)});B()}function n(){j.forEach(function(z){z.updateOffset()})}function o(){n();n()}function p(z){var A=c("DOMQuery").scry(z,"._4-u2"),B=c("DOMQuery").scry(z,"._4-u3"),C=c("DOMQuery").scry(z,".uiHeader"),D=c("DOMQuery").scry(z,".ego_unit");return[].concat(A,B,C,D).filter(function(E){return t(E)!==0})}function q(z){return c("getElementPosition")(z).y}function r(z,A){return z-A}function s(){return t(c("ge")("pageFooter"))}function t(z){return z?c("DOMDimensions").getElementDimensions(z).height:0}var u=v(n);function v(z){return function(A){return c("Arbiter").subscribe(A,z)}}function w(z,A){__p&&__p();var B=arguments.length<=2||arguments[2]===undefined?true:arguments[2],C=arguments.length<=3||arguments[3]===undefined?false:arguments[3];"use strict";this.$StickyRHC1=z;this.$StickyRHC2=A?new(c("DirectionalDockingElement"))(z):new(c("DockingElement"))(z,C);this.$StickyRHC3=B;this.$StickyRHC2.subscribe("changedheight",this.updateOffset.bind(this));this.updateOffset();m(this);if(!j.length){k=new(c("SubscriptionsHandler"))();k.addSubscriptions(u("header_loaded"),u("responsive_rhc_loaded"),u("browse_rhc_reloaded"),u("browse_top_filters_full_width_displayed"),u("ad_home_pagelet_loaded"),c("Arbiter").subscribe("netego_loaded",l),c("Arbiter").subscribe("video_fullscreen_change",o),c("Event").listen(window,"resize",c("throttle")(n)))}c("Run").onLeave(function(){return this.destroy()}.bind(this));j.push(this)}w.getInstances=function(){"use strict";return j};w.prototype.getRoot=function(){"use strict";return this.$StickyRHC1};w.prototype.subscribe=function(event,z){"use strict";return this.$StickyRHC2.subscribe(event,z)};w.prototype.destroy=function(){"use strict";this.$StickyRHC2=null;c("removeFromArray")(j,this);if(!j.length&&k){k.release();k=null}};w.prototype.unfixAndScrollBy=function(z){"use strict";if(c("JSReliabilityFixesGatingConfig").should_get_fix)this.$StickyRHC2&&this.$StickyRHC2.unfixAndScrollBy(z);else this.$StickyRHC2.unfixAndScrollBy(z)};w.prototype.updateOffset=function(){"use strict";if(c("JSReliabilityFixesGatingConfig").should_get_fix)this.$StickyRHC2&&this.$StickyRHC2.setOffset(this.calculateRHCOffset());else this.$StickyRHC2.setOffset(this.calculateRHCOffset())};w.prototype.calculateRHCOffset=function(){"use strict";__p&&__p();var z=this.getRoot(),A=t(z),B=x(),C=y();if(A<C)return B;if(this.$StickyRHC3){var D=p(z).map(q).sort(r),E=A+q(z);for(var F=D,G=Array.isArray(F),H=0,F=G?F:F[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var I;if(G){if(H>=F.length)break;I=F[H++]}else{H=F.next();if(H.done)break;I=H.value}var J=I,K=E-J;if(K<C)return B-(A-K)}}return B-(A-C)};function x(){return c("ViewportBounds").getTop()}function y(){var z=x(),A=c("getViewportDimensions")().height,B=s();return A-z-i-B}f.exports=w}),null);
__d("LikeConfirmer",["AsyncDialog","AsyncRequest"],(function a(b,c,d,e,f,g){__p&&__p();var h=false,i=false,j={likeContent:function k(){},like:function k(l,m){__p&&__p();this.likeContent=l;if(i)return;if(h)this.likeContent();else{var n=new(c("AsyncRequest"))().setURI("/like/confirm_like.php").setRelativeTo(m);c("AsyncDialog").send(n,function(o){i=true;o.subscribe("hide",this.onCloseLikeConfirmDialog.bind(this));o.setCausalElement(m)}.bind(this))}return false},isShowingConfirmation:function k(){return i},onCloseLikeConfirmDialog:function k(){i=false},likeSkipConfirmation:function k(l){h=l;this.likeContent()}};f.exports=j}),null);
__d("FbFeedKeyboardController",["csx","cx","fbt","Arbiter","AsyncDialog","AsyncRequest","CSS","DOM","DOMQuery","DOMScroll","Event","FbFeedHighlight","Focus","JSXDOM","KeyboardShortcuts","LikeConfirmer","NavigationMessage","Parent","ReactComposerEvents","ReactComposerIDGenerator","Run","Scroll","SubscriptionsHandler","UITinyViewportAction","Vector","ViewportBounds","emptyFunction","ge","getActiveElement","gkx","isAsyncScrollQuery","isElementNode","throttle"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k=45,l=0;function m(){l=c("UITinyViewportAction").isTiny()?0:c("ViewportBounds").getTop()}function n(q){if(!q)return null;if(q.previousElementSibling instanceof HTMLElement)return q.previousElementSibling;var r=q.previousSibling;while(r&&!(r instanceof HTMLElement))r=r.previousSibling;return r||null}function o(q){if(q.nextElementSibling instanceof HTMLElement)return q.nextElementSibling;var r=q.nextSibling;while(r&&!(r instanceof HTMLElement))r=r.nextSibling;return r||null}function p(q){"use strict";this.root=q;this.init()}p.prototype.getStories=function(q){"use strict";return c("DOMQuery").scry(q||this.root,"._5jmm")};p.prototype.isStory=function(q){"use strict";return c("CSS").matchesSelector(q,"._5jmm")};p.prototype.clickLike=function(){"use strict";__p&&__p();var q=this.$FbFeedKeyboardController3();this.clickElement(q,".UFILikeLink");if(q!==this.selected)return;var r=this.getParentStory(c("getActiveElement")());if(r){var s=c("DOMQuery").scry(r,".UFILikeLink");for(var t=0;t<s.length;t++)if(!c("CSS").hasClass(s[t],"accessible_elem"))c("Focus").setWithoutOutline(s[t])}};p.prototype.clickComment=function(){"use strict";this.clickElement(this.$FbFeedKeyboardController3(),".comment_link")};p.prototype.clickShare=function(){"use strict";this.click(".share_action_link")};p.prototype.clickSeeMore=function(){"use strict";this.click(".see_more_link")};p.prototype.clickLeft=function(){"use strict";this.click("._1mri")};p.prototype.clickRight=function(){"use strict";this.click("._2fu-")};p.prototype.openAttachment=function(){"use strict";this.click("._5dec","a._52c6","._4-eo",".uiVideoThumb")};p.prototype.getHeadline=function(q){"use strict";return c("DOMQuery").scry(q,"h5._5pbw")[0]};p.prototype.$FbFeedKeyboardController4=function(q){"use strict";var r=c("Parent").bySelector(q,"._5pcb"),s=c("ge")("pagelet_soft_permalink_posts");return!!(r||s&&c("DOM").contains(s,q))};p.prototype.getPreviousSibling=function(q){"use strict";__p&&__p();var r=n(q);if(r&&this.getParentStory(r))return r;r=null;if(this.$FbFeedKeyboardController4(q)){var s=this.getStories(this.root),t=s.indexOf(q);while(t>-1){if(t===0){r=c("ge")("pagelet_composer");r=r&&c("Parent").bySelector(r,"._5jmm")}else if(t>0){r=s[t-1];if(r.offsetHeight>0)break}t--}}if(r instanceof HTMLElement)return r;return this.selected};p.prototype.getPreviousStory=function(q){"use strict";var r=this.getPreviousSibling(q);while(r&&!this.isStory(r))r=this.getPreviousSibling(r);return r};p.prototype.getParentStory=function(q){"use strict";var r=c("Parent").bySelector(q,"._5jmm");return r instanceof HTMLElement?r:null};p.prototype.getNextSibling=function(q){"use strict";__p&&__p();var r=o(q);if(r&&this.getParentStory(r))return r;r=null;if(this.$FbFeedKeyboardController4(q)){var s=this.getStories(this.root),t=s.indexOf(q);if(t>-1){r=s[++t];while(r&&r.offsetHeight===0)r=s[++t]}}else if(c("ge")("pagelet_composer",q))r=c("DOMQuery").scry(document,"div._5pcb ._5jmm")[0];return r||this.selected};p.prototype.getNextStory=function(q){"use strict";var r=this.getNextSibling(q);while(r&&!this.isStory(r))r=this.getNextSibling(r);return r};p.prototype.setSelected=function(q,r){"use strict";__p&&__p();if(q){var s="_5qdu",t=c("DOMQuery").scry(q,"._5qdu");if(!t.length&&r)c("DOM").prependContent(q,c("JSXDOM").div({className:s}))}if(r){this.selected&&this.setTabindexOnStory(this.selected,"-1");this.selected&&c("CSS").removeClass(this.selected,"_5qdv");this.selected=q;q&&this.setTabindexOnStory(q,"0");q&&c("CSS").addClass(q,"_5qdv");q&&c("FbFeedHighlight").highlightSingle(q)}};p.prototype.$FbFeedKeyboardController3=function(){"use strict";var q=c("DOM").scry(this.selected,"._1qch");if(q.length>0)return c("DOM").scry(this.selected,"._3el7")[0];return this.selected};p.prototype.focusComposer=function(){"use strict";__p&&__p();var q=["pagelet_composer","pagelet_group_composer","pagelet_event_composer","PageComposerPagelet_","PageComposerPagelet_Admin_View","timeline_composer_container"],r=null;for(var s=q,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var v;if(t){if(u>=s.length)break;v=s[u++]}else{u=s.next();if(u.done)break;v=u.value}var w=v;r=c("ge")(w);if(r)break}if(r){var x=c("DOM").scry(r,"textarea")[0];if(x){c("Focus").set(x);c("DOMScroll").scrollTo(r,true)}else{var y=c("DOM").scry(r,"div._36bx")[0],z=y&&y.id;if(c("ReactComposerIDGenerator").isComposerID(z)){c("Arbiter").inform(c("ReactComposerEvents").ACTIVATE_ATTACHMENT+y.id);c("DOMScroll").scrollTo(r,true)}}}};p.prototype.getScrollOffset=function(){"use strict";return 10+(this.scrollOffset||0)};p.prototype.getAnimationLength=function(q){"use strict";return Math.min(Math.abs(c("Vector").getElementPosition(q).y-c("ViewportBounds").getTop()-c("Scroll").getTop(document.body)),400)};p.prototype.findTop=function(){"use strict";var q=this.getStories();for(var r=0;r<q.length;r++)if(c("Vector").getElementPosition(q[r]).y>c("Vector").getScrollPosition().y)return q[r];return null};p.prototype.onLeave=function(){"use strict";this.subscriptions&&this.subscriptions.release()};p.prototype.getHelpDialogRequest=function(){"use strict";if(!this.dialogRequest){this.dialogRequest=new(c("AsyncRequest"))("/ajax/keyboard_shortcuts");this.dialogRequest.setReadOnly(true)}else if(this.dialogRequest.transport)return null;return this.dialogRequest};p.prototype.init=function(){"use strict";__p&&__p();c("Run").onLeave(this.onLeave.bind(this));this.subscriptions=new(c("SubscriptionsHandler"))();this.subscriptions.addSubscriptions(c("Arbiter").subscribe(c("NavigationMessage").NAVIGATION_BEGIN,this.onLeave.bind(this)),c("KeyboardShortcuts").register("j",this.vert.bind(this,1),{shortcutInfo:{displayKeys:["j"],description:j._("Scroll to the next News Feed story")}}),c("KeyboardShortcuts").register("k",this.vert.bind(this,-1),{shortcutInfo:{displayKeys:["k"],description:j._("Scroll to the previous News Feed story")}}),c("KeyboardShortcuts").register("p",this.focusComposer.bind(this),{shortcutInfo:{displayKeys:["p"],description:j._("Post a new story")}}),c("KeyboardShortcuts").register("l",function(){var q=this.getParentStory(c("getActiveElement")());c("LikeConfirmer").like(function(){this.setSelected(q,false);this.clickLike()}.bind(this),c("getActiveElement")())}.bind(this),{filter:this.hasActiveStory.bind(this),shortcutInfo:{displayKeys:["l"],description:j._("Like or unlike the selected story")}}),c("KeyboardShortcuts").register("c",this.clickComment.bind(this),{filter:this.hasActiveStory.bind(this),shortcutInfo:{displayKeys:["c"],description:j._("Comment on the selected story")}}),c("KeyboardShortcuts").register("s",this.clickShare.bind(this),{filter:this.hasActiveStory.bind(this),shortcutInfo:{displayKeys:["s"],description:j._("Share the selected story")}}),c("KeyboardShortcuts").register("o",this.openAttachment.bind(this),{filter:this.hasActiveStory.bind(this),shortcutInfo:{displayKeys:["o"],description:j._("Open attachment of the selected story")}}),c("KeyboardShortcuts").register("RETURN",this.clickSeeMore.bind(this),{filter:this.hasExpandableStoryInFocus.bind(this),shortcutInfo:{displayKeys:["enter"],description:j._("See More of the selected story")}}),c("KeyboardShortcuts").register("LEFT",this.clickLeft.bind(this),{filter:this.hasActiveStory.bind(this)}),c("KeyboardShortcuts").register("RIGHT",this.clickRight.bind(this),{filter:this.hasActiveStory.bind(this)}),c("Event").listen(this.root,"focusin",function(event){var q=event.getTarget();if(!this.isStory(q)){var r=c("DOM").isNodeOfType(q,["object","embed","iframe"]),s=this.getParentStory(q),t=this.selected;if(s&&!r&&t){this.setSelected(s,true);this.selected=s}}}.bind(this)));if(!c("gkx")("AT73P93_INI-GqvCJryiCJt-6N2SiiMDsHXGy5Hu8NdiDMizG7bp30EClsuOfY6D_WWbWtv3DC2aKvFPzAkh46-Q"))this.subscriptions.addSubscriptions(c("KeyboardShortcuts").register("SLASH",function(){var q=this.getHelpDialogRequest();if(q){q.setRelativeTo(c("getActiveElement")());c("AsyncDialog").send(q)}}.bind(this),{filter:function q(event,r){return event.getModifiers().shift},shortcutInfo:{displayKeys:["?"],description:"Show this help dialog"}}))};p.prototype.hasActiveStory=function(event,q){"use strict";var r=c("getActiveElement")();return!(r&&c("CSS").shown(r))||!!this.getParentStory(r)};p.prototype.hasExpandableStoryInFocus=function(event,q){"use strict";var r=c("getActiveElement")();return!!(r.getElementsByClassName("text_exposed_root").length&&!r.getElementsByClassName("text_exposed_root text_exposed").length)};p.prototype.clickElement=function(q){"use strict";__p&&__p();if(!q)return;var r=void 0;for(var s=arguments.length,t=Array(s>1?s-1:0),u=1;u<s;u++)t[u-1]=arguments[u];for(var v=0,w=t.length;v<w;v++){r=c("DOM").scry(q,t[v])[0];if(r&&c("CSS").shown(r)){r.click();return}}};p.prototype.click=function(){"use strict";for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];this.clickElement.apply(this,[this.selected].concat(r))};p.prototype.$FbFeedKeyboardController5=function(){"use strict";__p&&__p();if(!this.$FbFeedKeyboardController1){this.scrollOffset=0;var q=c("ge")("pagelet_feed_switcher_root");if(q)this.scrollOffset+=q.getBoundingClientRect().height;this.subscriptions.addSubscriptions(c("Event").listen(document,"scroll",function(){if(this.selected&&!this.scrolling)this.setSelected(null,false)}.bind(this)));this.$FbFeedKeyboardController1=true}};p.prototype.$FbFeedKeyboardController6=function(){"use strict";if(!this.$FbFeedKeyboardController2){m();this.subscriptions.addSubscriptions(c("Event").listen(window,"resize",c("throttle")(m)));this.$FbFeedKeyboardController2=true}};p.prototype.vert=function(q){"use strict";__p&&__p();this.$FbFeedKeyboardController5();var r;if(this.selected){if(this.selected.id=="pagelet_composer")r=q>0?this.getStories()[0]:null;else if(q===0)r=this.selected;else r=q>0?this.getNextStory(this.selected):this.getPreviousStory(this.selected)||c("ge")("pagelet_composer");if(!r)return;else if(!c("isElementNode")(r)||c("CSS").hasClass(r,"hidden_elem")){if(this.selected)c("CSS").removeClass(this.selected,"selectedStorySimple");this.selected=r;this.vert(q);return}}if(!r||c("Parent").byClass(r,"hidden_elem")||!c("DOM").contains(document,r)){r=this.findTop();if(r&&q<0)r=this.getPreviousStory(r)}if(!r)return;this.anim&&this.anim();var s=Date.now()-(this.lastScroll||0)>30,t=c("emptyFunction");if(q!==0)t=this.setFocused.bind(this,r);if(c("isAsyncScrollQuery")()){s=false;t();t=c("emptyFunction")}this.scrolling=true;this.scrollingTimer&&clearTimeout(this.scrollingTimer);this.$FbFeedKeyboardController6();var u=c("Vector").getViewportDimensions().y-l-this.getScrollOffset();if(this.selected){var v=c("DOM").scry(this.selected,"._2pum")[0],w=c("DOM").scry(r,"._2pum")[0];if(v&&q>0)this.isExplore=true;if(w)this.isExplore=false}if(this.root.id==="pagelet_explore_feed")this.isExplore=true;if(this.isExplore)u-=k;this.anim=c("DOMScroll").scrollTo(r,s?this.getAnimationLength(r):0,false,u,0,function(){this.scrollingTimer=setTimeout(function(){this.scrolling=false}.bind(this),300);var x=c("Vector").getScrollPosition();t();if(x.distanceTo(c("Vector").getScrollPosition())!==0)c("DOMScroll").scrollTo(x,0)}.bind(this));this.setSelected(r,true);this.lastScroll=Date.now()};p.prototype.setTabindexOnStory=function(q,r){"use strict";if(q&&this.isStory(q))q.tabIndex=parseInt(r,10)};p.prototype.setFocused=function(q){"use strict";if(q&&this.isStory(q))c("Focus").setWithoutOutline(q)};p.init=function(q){"use strict";return new p(q)};f.exports=p}),null);