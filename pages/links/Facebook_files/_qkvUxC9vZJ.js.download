if (self.CavalryLogger) { CavalryLogger.start_js(["ZKRVY"]); }

__d("InstagramSlipstreamMediaContentType",[],(function a(b,c,d,e,f,g){f.exports={MEDIA_CONTENT_TYPE_PHOTO:0,MEDIA_CONTENT_TYPE_VIDEO:1,MEDIA_CONTENT_TYPE_RESHARE_PHOTO:2,MEDIA_CONTENT_TYPE_RESHARE_VIDEO:3,MEDIA_CONTENT_TYPE_BROADCAST:4,MEDIA_CONTENT_TYPE_SIDECAR:8,MEDIA_CONTENT_TYPE_RESHARE_STORY_PHOTO:9,MEDIA_CONTENT_TYPE_RESHARE_STORY_VIDEO:10,MEDIA_CONTENT_TYPE_UNKNOWN:255}}),null);
__d("AdsImageUploadApiErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"IMAGE_UPLOAD.API_ERROR");f.exports=h}),null);
__d("AdsImageUploadFormatErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"IMAGE_UPLOAD.FORMAT_ERROR");f.exports=h}),null);
__d("AdsImageUploadRemoveErrorsDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"IMAGE_UPLOAD.REMOVE_ERRORS");f.exports=h}),null);
__d("AdsImageUploadSizeErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"IMAGE_UPLOAD.SIZE_ERROR");f.exports=h}),null);
__d("AdsImageUploadErrorActions",["AdsImageUploadApiErrorDataAction","AdsImageUploadFormatErrorDataAction","AdsImageUploadRemoveErrorsDataAction","AdsImageUploadSizeErrorDataAction"],(function a(b,c,d,e,f,g){"use strict";var h={setUploadFormatError:function i(j){c("AdsImageUploadFormatErrorDataAction").dispatch({message:j})},setUploadSizeError:function i(j){c("AdsImageUploadSizeErrorDataAction").dispatch({message:j})},setUploadAPIError:function i(j){c("AdsImageUploadApiErrorDataAction").dispatch({message:j})},removeErrors:function i(){c("AdsImageUploadRemoveErrorsDataAction").dispatch({})}};f.exports=h}),null);
__d("AdsShutterstockSearchResultsErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SHUTTERSTOCK.SEARCH_RESULTS_ERROR");f.exports=h}),null);
__d("AdsShutterstockSearchResultsLoadedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SHUTTERSTOCK.SEARCH_RESULTS_LOADED");f.exports=h}),null);
__d("AdsShutterstockSearchActions",["AdsShutterstockSearchResultsErrorDataAction","AdsShutterstockSearchResultsLoadedDataAction"],(function a(b,c,d,e,f,g){"use strict";var h={searchResultsLoaded:function i(j,k,l){c("AdsShutterstockSearchResultsLoadedDataAction").dispatch({data:{query:j,results:k,duration:l}})},searchResultsError:function i(j,k){c("AdsShutterstockSearchResultsErrorDataAction").dispatch({data:{error:k,query:j}})}};f.exports=h}),null);
__d("AdsShutterstockEndReachedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SHUTTERSTOCK.END_REACHED");f.exports=h}),null);
__d("AdsShutterstockSearchDoneDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SHUTTERSTOCK.SEARCH_DONE");f.exports=h}),null);
__d("AdsShutterstockSearchTextChangedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SHUTTERSTOCK.SEARCH_TEXT_CHANGED");f.exports=h}),null);
__d("AdsShutterstockViewActions",["AdsShutterstockEndReachedDataAction","AdsShutterstockSearchDoneDataAction","AdsShutterstockSearchTextChangedDataAction"],(function a(b,c,d,e,f,g){"use strict";var h={searchTextChanged:function i(j){c("AdsShutterstockSearchTextChangedDataAction").dispatch({data:{searchText:j}})},searchDone:function i(j){c("AdsShutterstockSearchDoneDataAction").dispatch({data:{searchText:j}})},endReached:function i(j){c("AdsShutterstockEndReachedDataAction").dispatch({data:{searchText:j}})}};f.exports=h}),null);
__d("AdsSelectedImagesStoreState",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({imageKeyIndex:0,imagesAllLoaded:false,imagesCrops:c("immutable").Map(),imagesTextoverlays:c("immutable").Map(),savedState:null,selectedImages:c("immutable").List()});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("AdsSlideshowActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({ADD_VIDEO_CLICK:null,ANIMOTO_VIDEO_FINALIZED:null,ANIMOTO_VIDEO_UPLOAD:null,ANIMOTO_RENDER_ERROR:null,ATTACH_TO_VIDEO_ERROR:null,AUDIO_FILE_UPLOAD_ERROR:null,AUDIO_FILE_UPLOAD_STARTED:null,AUDIO_FILE_UPLOAD_SUCCESS:null,CLOSE_OBJECTIVE_NUX:null,CREATE:null,CREATE_RESET:null,DURATION_CHANGE:null,FETCH_FRAME_IMAGES:null,FORMAT_CHANGE:null,FRAME_IMAGES_FAILURE:null,FRAME_IMAGES_SUCCESS:null,IMAGE_REMOVE:null,IMAGES_SELECT_CANCEL:null,IMAGES_SELECT_CONFIRM:null,LENGTH_CHANGE:null,MUSIC_CATEGORY_SELECT:null,PREVIEW_STATE_CHANGE:null,REORDER_IMAGES:null,RESET_ALL:null,RESTORE_SLIDESHOW_STATE:null,SAVE_IMAGE_CROPS:null,SAVE_SLIDESHOW_STATE:null,SAVE_TEXTOVERLAY:null,SELECT_TAB:null,SET_ENTRYPOINT:null,SET_STORYLINE_MOOD_FILES:null,SHAKR_ACCESS_TOKEN_LOADED:null,SHAKR_GET_ACCESS_TOKEN:null,SHAKR_POLL_RESPONSE_RECEIVED:null,SHAKR_START_POLLING:null,STORYLINE_MOOD_CHANGE:null,STORYLINE_MOOD_DELETE:null,STORYLINE_MOOD_SOURCE_CHANGE:null,STORYLINE_MOOD_SOURCE_MAP_CHANGE:null,TOGGLE_ANIMOTO_DIALOG:null,TOGGLE_SLIDESHOW_DIALOG:null,TOGGLE_SLIDESHOW_THIRDPARTY_CANCEL_DIALOG:null,TOGGLE_IMAGE_DIALOG:null,TRANSITION_CHANGE:null,VIDEO_PICKER_CLOSED:null});f.exports=h}),null);
__d("AdsSlideshowCloseSlideshowDialogDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"CLOSE_SLIDESHOW_DIALOG");f.exports=h}),null);
__d("AdsSlideshowFormatChangeDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"FORMAT_CHANGE");f.exports=h}),null);
__d("AdsSlideshowFrameImagesSuccessDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"FRAME_IMAGES_SUCCESS");f.exports=h}),null);
__d("AdsSlideshowImageRemoveDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"IMAGE_REMOVE");f.exports=h}),null);
__d("AdsSlideshowImagesSelectConfirmDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"IMAGES_SELECT_CONFIRM");f.exports=h}),null);
__d("AdsSlideshowReorderImagesDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"REORDER_IMAGES");f.exports=h}),null);
__d("AdsSlideshowSaveImageCropsDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SAVE_IMAGE_CROPS");f.exports=h}),null);
__d("AdsSlideshowSaveTextoverlayDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SAVE_TEXTOVERLAY");f.exports=h}),null);
__d("AdsSlideshowExperimentStoreUtils",["AdsQEStore","SlideshowConstants","adsCreateAdAccountQESelector","gkx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(o){var p=c("AdsQEStore").get("ads_slideshow_thirdparty_dialog",o),q=void 0;if(p&&p.isDone()&&p.hasValue())q=p.getValueEnforcing().getParam("show_dialog",q);if(!q)q="default";return q}function i(){return c("gkx")("AT65hNb0fTbQIEoezncDQEVAWkMnInbYjJq9lt_-40py5vx3Iko8y949070v5iifXf95txTI4Jfv35qEX0zxzOZh")}function j(){var o=c("adsCreateAdAccountQESelector")("ad_slideshow_default_aspect_ratio_experiment"),p=o(),q=p.isDone()&&p.hasValue()?p.getValueEnforcing().getParam("aspect_ratio_default","Original"):"Original";if(!q)q="Original";return c("SlideshowConstants").formats[q]}function k(o){return c("AdsQEStore").get("ad_slideshow_duration_limit_experiment",o)}function l(o){return o.isDone()&&o.hasValue()}function m(o){return o.getValueEnforcing().getParamBool("enable_limit")}var n={getAspectRatioQEValue:j,getLengthLimitQE:k,getLengthLimitQEValue:m,getSlideshowDialogInThirdPartyExperiment:h,lengthLimitQEValueLoaded:l,shouldShowSlideshowAdvancedOption:i};f.exports=n}),null);
__d("AdsSlideshowStoreState",["AdsSlideshowExperimentStoreUtils","immutable","SlideshowConstants","SlideshowEntrypoint","SlideshowFlowTypes"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("SlideshowFlowTypes").SlideshowTabKey,k=c("immutable").Record({adgroupIDs:null,cancelledVideoIDs:c("immutable").Set(),durationInMS:1e3,entrypoint:c("SlideshowEntrypoint").UNKNOWN,format:c("AdsSlideshowExperimentStoreUtils").getAspectRatioQEValue(),imageDialogShown:false,isFetchingShakrAccessToken:false,isProcessing:c("immutable").Map(),isProcessingThirdPartySlideshow:false,savedState:null,selectedTab:j.SETTINGS_TAB,selectedVideoID:null,shakrPollNotifier:null,showAnimotoDialog:false,showSlideshowThirdPartyCancelDialog:false,showSlideshowDurationWarning:false,slideshowDialogShown:false,slideshowUploader:null,thirdPartySlideshowUploader:null,transitionInMS:c("SlideshowConstants").transitions.None,videoLength:c("SlideshowConstants").default_length_in_seconds});h=babelHelpers.inherits(l,k);i=h&&h.prototype;function l(){h.apply(this,arguments)}f.exports=l}),null);
__d("AdsSlideshowAnimotoVideoFinalizedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ANIMOTO_VIDEO_FINALIZED");f.exports=h}),null);
__d("AdsSlideshowAnimotoVideoUploadDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ANIMOTO_VIDEO_UPLOAD");f.exports=h}),null);
__d("AdsSlideshowReducerUtils",[],(function a(b,c,d,e,f,g){"use strict";function h(j,k,l){var m=j.get("isProcessing");m=m.set(k,l);return j.set("isProcessing",m)}var i={updateProcessingStatus:h};f.exports=i}),null);
__d("AdsSlideshowToggleAnimotoDialogDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"TOGGLE_ANIMOTO_DIALOG");f.exports=h}),null);
__d("SlideshowThirdPartyEvents",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SLIDESHOW_ANIMOTO_CREATE_FB_SLIDESHOW:"slideshow_animoto_create_fb_slideshow",SLIDESHOW_ANIMOTO_DIALOG_LOADED:"slideshow_animoto_dialog_loaded",SLIDESHOW_ANIMOTO_USE_ORIGINAL_SLIDESHOW:"slideshow_animoto_use_original_slideshow",SLIDESHOW_ANIMOTO_VIDEO_ENCODING_COMPLETED:"slideshow_animoto_video_encoding_completed",SLIDESHOW_ANIMOTO_VIDEO_ENCODING_FAILED:"slideshow_animoto_video_encoding_failed",SLIDESHOW_ANIMOTO_VIDEO_FINALIZED:"slideshow_animoto_video_finalized",SLIDESHOW_ANIMOTO_VIDEO_UPLOAD_STARTED:"slideshow_animoto_video_upload_started",SLIDESHOW_ANIMOTO_VIDEO_UPLOAD_COMPLETED:"slideshow_animoto_video_upload_completed",SLIDESHOW_ANIMOTO_VIDEO_RENDER_ERROR:"slideshow_animoto_video_render_error",SLIDESHOW_SHAKR_ACCESS_TOKEN_FETCHED:"slideshow_shakr_access_token_fetched",SLIDESHOW_SHAKR_ACCESS_TOKEN_FETCH_ERROR:"slideshow_shakr_access_token_fetch_error",SLIDESHOW_SHAKR_PICKER_LOADED:"slideshow_shakr_picker_loaded",SLIDESHOW_SHAKR_EDITOR_ERROR:"slideshow_shakr_editor_error",SLIDESHOW_SHAKR_POLL_ERROR:"slideshow_shakr_poll_error",SLIDESHOW_SHAKR_POLL_STARTED:"slideshow_shakr_poll_started",SLIDESHOW_SHAKR_POLL_TIMED_OUT:"slideshow_shakr_poll_timed_out",SLIDESHOW_SHAKR_USE_ORIGINAL_SLIDESHOW:"slideshow_shakr_use_original_slideshow",SLIDESHOW_SHAKR_VIDEO_ENCODING_COMPLETED:"slideshow_shakr_video_encoding_completed",SLIDESHOW_SHAKR_VIDEO_ENCODING_FAILED:"slideshow_shakr_video_encoding_failed",SLIDESHOW_SHAKR_VIDEO_UPLOAD_STARTED:"slideshow_shakr_video_upload_started",SLIDESHOW_SHAKR_VIDEO_UPLOAD_COMPLETED:"slideshow_shakr_video_upload_completed"})}),null);
__d("SlideshowThirdPartyTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:SlideshowThirdPartyLoggerConfig",this.$SlideshowThirdPartyTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:SlideshowThirdPartyLoggerConfig",this.$SlideshowThirdPartyTypedLogger1,c("Banzai").VITAL)};h.prototype.logImmediately=function(){c("GeneratedLoggerUtils").log("logger:SlideshowThirdPartyLoggerConfig",this.$SlideshowThirdPartyTypedLogger1,{signal:true})};h.prototype.clear=function(){this.$SlideshowThirdPartyTypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$SlideshowThirdPartyTypedLogger1)};h.prototype.updateData=function(j){this.$SlideshowThirdPartyTypedLogger1=babelHelpers["extends"]({},this.$SlideshowThirdPartyTypedLogger1,j);return this};h.prototype.setErrorMessage=function(j){this.$SlideshowThirdPartyTypedLogger1.error_message=j;return this};h.prototype.setEvent=function(j){this.$SlideshowThirdPartyTypedLogger1.event=j;return this};h.prototype.setVC=function(j){this.$SlideshowThirdPartyTypedLogger1.vc=j;return this};h.prototype.setVideoID=function(j){this.$SlideshowThirdPartyTypedLogger1.video_id=j;return this};var i={error_message:true,event:true,vc:true,video_id:true};f.exports=h}),null);
__d("adsSlideshowAnimotoReducer",["AdsAccountStore","AdsDataAtom","AdsSlideshowAnimotoVideoFinalizedDataAction","AdsSlideshowAnimotoVideoUploadDataAction","AdsSlideshowReducerUtils","AdsSlideshowToggleAnimotoDialogDataAction","immutable","SlideshowThirdPartyEvents","SlideshowThirdPartyTypedLogger"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){__p&&__p();switch(j.type){case c("AdsSlideshowToggleAnimotoDialogDataAction").actionType:if(j.data.showAnimotoDialog){i=i.set("thirdPartySlideshowUploader",j.data.slideshowUploader);new(c("SlideshowThirdPartyTypedLogger"))().setEvent(c("SlideshowThirdPartyEvents").SLIDESHOW_ANIMOTO_DIALOG_LOADED).log()}else i=i.set("showSlideshowThirdPartyCancelDialog",true);if(j.data.adgroupIDs)i=i.set("adgroupIDs",c("immutable").List(j.data.adgroupIDs));return i.set("showAnimotoDialog",j.data.showAnimotoDialog);case c("AdsSlideshowAnimotoVideoUploadDataAction").actionType:if(!i.get("isProcessing").get(i.get("entrypoint")))return i;c("AdsDataAtom").waitFor([c("AdsAccountStore").getDispatchToken()]);new(c("SlideshowThirdPartyTypedLogger"))().setEvent(c("SlideshowThirdPartyEvents").SLIDESHOW_ANIMOTO_VIDEO_UPLOAD_STARTED).log();i.get("thirdPartySlideshowUploader").uploadThirdPartySlideshow(c("AdsAccountStore").getSelectedAccountID(),j.data.videoURL,"SLIDESHOW_ANIMOTO");return i;case c("AdsSlideshowAnimotoVideoFinalizedDataAction").actionType:i=i.set("showAnimotoDialog",false).set("isProcessingThirdPartySlideshow",true);new(c("SlideshowThirdPartyTypedLogger"))().setEvent(c("SlideshowThirdPartyEvents").SLIDESHOW_ANIMOTO_VIDEO_FINALIZED).log();return c("AdsSlideshowReducerUtils").updateProcessingStatus(i,i.get("entrypoint"),true);default:return i}}f.exports=h}),null);
__d("AdsSlideshowRestoreSlideshowStateDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"RESTORE_SLIDESHOW_STATE");f.exports=h}),null);
__d("AdsSlideshowSaveSlideshowStateDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SAVE_SLIDESHOW_STATE");f.exports=h}),null);
__d("adsSlideshowEditReducer",["invariant","AdsSlideshowRestoreSlideshowStateDataAction","AdsSlideshowSaveSlideshowStateDataAction","AdsSlideshowStoreState"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(j,k){switch(k.type){case c("AdsSlideshowSaveSlideshowStateDataAction").actionType:j.get("savedState")==null||h(0);if(j instanceof c("AdsSlideshowStoreState"))return j.set("savedState",j).set("slideshowDialogShown",true);return j.set("savedState",j);case c("AdsSlideshowRestoreSlideshowStateDataAction").actionType:if(j instanceof c("AdsSlideshowStoreState"))return j.get("savedState").set("slideshowDialogShown",false);return j.get("savedState")}return j}f.exports=i}),null);
__d("AdsSlideshowShakrAccessTokenLoadedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SHAKR_ACCESS_TOKEN_LOADED");f.exports=h}),null);
__d("AdsCFVideoUploadErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_CF.VIDEO_UPLOAD_ERROR");f.exports=h}),null);
__d("AdsSlideshowAddVideoClickDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADD_VIDEO_CLICK");f.exports=h}),null);
__d("AdsSlideshowAttachToVideoErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ATTACH_TO_VIDEO_ERROR");f.exports=h}),null);
__d("AdsSlideshowAudioFileUploadErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"AUDIO_FILE_UPLOAD_ERROR");f.exports=h}),null);
__d("AdsSlideshowAudioFileUploadStartedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"AUDIO_FILE_UPLOAD_STARTED");f.exports=h}),null);
__d("AdsSlideshowAudioFileUploadSuccessDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"AUDIO_FILE_UPLOAD_SUCCESS");f.exports=h}),null);
__d("AdsSlideshowDurationChangeDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"DURATION_CHANGE");f.exports=h}),null);
__d("AdsSlideshowFetchFrameImagesDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"FETCH_FRAME_IMAGES");f.exports=h}),null);
__d("AdsSlideshowFrameImagesFailureDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"FRAME_IMAGES_FAILURE");f.exports=h}),null);
__d("AdsSlideshowLengthChangeDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"LENGTH_CHANGE");f.exports=h}),null);
__d("AdsSlideshowMusicCategorySelectDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"MUSIC_CATEGORY_SELECT");f.exports=h}),null);
__d("AdsSlideshowOpenSlideshowDialogDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"OPEN_SLIDESHOW_DIALOG");f.exports=h}),null);
__d("AdsSlideshowPreviewStateChangeDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"PREVIEW_STATE_CHANGE");f.exports=h}),null);
__d("AdsSlideshowRemoveCancelledSlideshowUploadDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"REMOVE_CANCELLED_SLIDESHOW_UPLOAD");f.exports=h}),null);
__d("AdsSlideshowSelectTabDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SELECT_TAB");f.exports=h}),null);
__d("AdsSlideshowSetEntrypointDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SET_ENTRYPOINT");f.exports=h}),null);
__d("AdsSlideshowSetSelectedVideoIDDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SET_SELECTED_VIDEO_ID");f.exports=h}),null);
__d("AdsSlideshowSetStorylineMoodFilesDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SET_STORYLINE_MOOD_FILES");f.exports=h}),null);
__d("AdsSlideshowShakrGetAccessTokenDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SHAKR_GET_ACCESS_TOKEN");f.exports=h}),null);
__d("AdsSlideshowShakrStartPollingDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SHAKR_START_POLLING");f.exports=h}),null);
__d("AdsSlideshowStorylineMoodChangeDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"STORYLINE_MOOD_CHANGE");f.exports=h}),null);
__d("AdsSlideshowStorylineMoodDeleteDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"STORYLINE_MOOD_DELETE");f.exports=h}),null);
__d("AdsSlideshowStorylineMoodSourceChangeDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"STORYLINE_MOOD_SOURCE_CHANGE");f.exports=h}),null);
__d("AdsSlideshowStorylineMoodSourceMapChangeDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"STORYLINE_MOOD_SOURCE_MAP_CHANGE");f.exports=h}),null);
__d("AdsSlideshowToggleImageDialogDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"TOGGLE_IMAGE_DIALOG");f.exports=h}),null);
__d("AdsSlideshowToggleSlideshowThirdpartyCancelDialogDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"TOGGLE_SLIDESHOW_THIRDPARTY_CANCEL_DIALOG");f.exports=h}),null);
__d("AdsSlideshowTransitionChangeDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"TRANSITION_CHANGE");f.exports=h}),null);
__d("AdsSlideshowVideoPickerClosedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"VIDEO_PICKER_CLOSED");f.exports=h}),null);
__d("AdsSlideshowActions",["AdsCFVideoUploadErrorDataAction","AdsDataAtom","AdsSlideshowAddVideoClickDataAction","AdsSlideshowAnimotoVideoFinalizedDataAction","AdsSlideshowAnimotoVideoUploadDataAction","AdsSlideshowAttachToVideoErrorDataAction","AdsSlideshowAudioFileUploadErrorDataAction","AdsSlideshowAudioFileUploadStartedDataAction","AdsSlideshowAudioFileUploadSuccessDataAction","AdsSlideshowCreateDataAction","AdsSlideshowCreateResetDataAction","AdsSlideshowDurationChangeDataAction","AdsSlideshowFetchFrameImagesDataAction","AdsSlideshowFormatChangeDataAction","AdsSlideshowFrameImagesFailureDataAction","AdsSlideshowFrameImagesSuccessDataAction","AdsSlideshowImageRemoveDataAction","AdsSlideshowImagesSelectConfirmDataAction","AdsSlideshowLengthChangeDataAction","AdsSlideshowMusicCategorySelectDataAction","AdsSlideshowPreviewStateChangeDataAction","AdsSlideshowRemoveCancelledSlideshowUploadDataAction","AdsSlideshowReorderImagesDataAction","AdsSlideshowResetAllDataAction","AdsSlideshowRestoreSlideshowStateDataAction","AdsSlideshowSaveImageCropsDataAction","AdsSlideshowSaveSlideshowStateDataAction","AdsSlideshowSaveTextoverlayDataAction","AdsSlideshowSelectTabDataAction","AdsSlideshowSetEntrypointDataAction","AdsSlideshowSetSelectedVideoIDDataAction","AdsSlideshowSetStorylineMoodFilesDataAction","AdsSlideshowShakrGetAccessTokenDataAction","AdsSlideshowShakrStartPollingDataAction","AdsSlideshowStorylineMoodChangeDataAction","AdsSlideshowStorylineMoodDeleteDataAction","AdsSlideshowStorylineMoodSourceChangeDataAction","AdsSlideshowStorylineMoodSourceMapChangeDataAction","AdsSlideshowToggleAnimotoDialogDataAction","AdsSlideshowToggleImageDialogDataAction","AdsSlideshowToggleSlideshowThirdpartyCancelDialogDataAction","AdsSlideshowTransitionChangeDataAction","AdsSlideshowVideoPickerClosedDataAction","SlideshowThirdPartyEvents","SlideshowThirdPartyTypedLogger","AdsSlideshowCloseSlideshowDialogDataAction","AdsSlideshowOpenSlideshowDialogDataAction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={selectImagesConfirm:function i(j){c("AdsSlideshowImagesSelectConfirmDataAction").dispatch({data:{selectedImages:j}})},showSlideshowDialogByQE:function i(j,k,l,m){__p&&__p();h.setEntrypoint(k);if(j==="shakr"){c("AdsSlideshowShakrGetAccessTokenDataAction").dispatch({data:{slideshowUploader:l,adgroupIDs:m}});return}if(j==="animoto"){c("AdsSlideshowToggleAnimotoDialogDataAction").dispatch({data:{showAnimotoDialog:true,slideshowUploader:l,adgroupIDs:m}});return}h.showSlideshowDialog()},animotoFinalize:function i(){c("AdsSlideshowAnimotoVideoFinalizedDataAction").dispatch({})},animotoRenderComplete:function i(j){c("AdsSlideshowAnimotoVideoUploadDataAction").dispatch({data:{videoURL:j}})},animotoRenderError:function i(){new(c("SlideshowThirdPartyTypedLogger"))().setEvent(c("SlideshowThirdPartyEvents").SLIDESHOW_ANIMOTO_VIDEO_RENDER_ERROR).log();c("AdsDataAtom").addPostDispatchCallback(function(){c("AdsCFVideoUploadErrorDataAction").dispatch({})})},hideAnimotoDialog:function i(){c("AdsSlideshowToggleAnimotoDialogDataAction").dispatch({data:{showAnimotoDialog:false}})},shakrStartPollingForVideoURL:function i(j){c("AdsSlideshowShakrStartPollingDataAction").dispatch({data:{showID:j}})},showThirdPartySlideshowCancelDialog:function i(){c("AdsSlideshowToggleSlideshowThirdpartyCancelDialogDataAction").dispatch({data:{slideshowCancelDialogShown:true}})},closeThirdPartySlideshowCancelDialog:function i(){c("AdsSlideshowToggleSlideshowThirdpartyCancelDialogDataAction").dispatch({data:{slideshowCancelDialogShown:false}})},showSlideshowDialog:function i(){c("AdsSlideshowOpenSlideshowDialogDataAction").dispatch({})},closeSlideshowDialog:function i(){c("AdsSlideshowCloseSlideshowDialogDataAction").dispatch({})},showImageDialog:function i(j){c("AdsSlideshowToggleImageDialogDataAction").dispatch({data:{imageDialogShown:true,showImageDialogSource:j}})},closeImageDialog:function i(){c("AdsSlideshowToggleImageDialogDataAction").dispatch({data:{imageDialogShown:false}})},cancelSlideshowCreation:function i(){c("AdsSlideshowCreateResetDataAction").dispatch({})},removeCancelledSlideshowUpload:function i(j){c("AdsSlideshowRemoveCancelledSlideshowUploadDataAction").dispatch({data:{videoID:j}})},setSelectedVideoID:function i(j){c("AdsSlideshowSetSelectedVideoIDDataAction").dispatch({data:{videoID:j}})},removeImage:function i(j){c("AdsSlideshowImageRemoveDataAction").dispatch({data:{removeImage:j}})},reset:function i(){c("AdsSlideshowResetAllDataAction").dispatch({})},changeVideoLength:function i(j){c("AdsSlideshowLengthChangeDataAction").dispatch({data:{length:j}})},changeStorylineMoodFile:function i(j){c("AdsSlideshowStorylineMoodChangeDataAction").dispatch({data:{selectedStorylineMood:j}})},deleteStorylineMoodFile:function i(j){c("AdsSlideshowStorylineMoodDeleteDataAction").dispatch({storylineMood:j})},changeStorylineMoodIDSource:function i(j){c("AdsSlideshowStorylineMoodSourceChangeDataAction").dispatch({data:{storylineMoodIDSource:j}})},changeStorylineMoodSourceMap:function i(j){c("AdsSlideshowStorylineMoodSourceMapChangeDataAction").dispatch({data:{storylineMoodIDSourceMap:j}})},changeTransition:function i(j){c("AdsSlideshowTransitionChangeDataAction").dispatch({data:{transitionInMS:j}})},reorderImages:function i(j,k){c("AdsSlideshowReorderImagesDataAction").dispatch({data:{fromIndex:j,toIndex:k}})},changeDurationAutomatic:function i(j){c("AdsSlideshowDurationChangeDataAction").dispatch({data:{durationInMS:j,automatic:true}})},changeDurationManual:function i(j){c("AdsSlideshowDurationChangeDataAction").dispatch({data:{durationInMS:j,automatic:false}})},createSlideshow:function i(j){c("AdsSlideshowCreateDataAction").dispatch({data:j})},changeFormat:function i(j){c("AdsSlideshowFormatChangeDataAction").dispatch({data:{format:j}})},setStorylineMoodFiles:function i(j){c("AdsSlideshowSetStorylineMoodFilesDataAction").dispatch({data:{storylineMoodFiles:j}})},saveImageCrops:function i(j,k){c("AdsSlideshowSaveImageCropsDataAction").dispatch({data:{image:j,imageCrops:k}})},saveTextoverlay:function i(j,k){c("AdsSlideshowSaveTextoverlayDataAction").dispatch({data:{image:j,textoverlay:k}})},fetchFrameImages:function i(j){c("AdsSlideshowFetchFrameImagesDataAction").dispatch({videoID:j})},informFrameImagesSuccess:function i(j){c("AdsSlideshowFrameImagesSuccessDataAction").dispatch({frameImages:j})},informFrameImagesFailure:function i(){c("AdsSlideshowFrameImagesFailureDataAction").dispatch({})},showEditSlideshowDialog:function i(){c("AdsSlideshowSaveSlideshowStateDataAction").dispatch({})},closeEditSlideshowDialog:function i(){c("AdsSlideshowRestoreSlideshowStateDataAction").dispatch({})},attachToVideoError:function i(){c("AdsSlideshowAttachToVideoErrorDataAction").dispatch({})},selectTab:function i(j){c("AdsSlideshowSelectTabDataAction").dispatch({tab:j})},musicCategorySelect:function i(j){c("AdsSlideshowMusicCategorySelectDataAction").dispatch({selectedMusicCategory:j})},previewStateChange:function i(j){c("AdsSlideshowPreviewStateChangeDataAction").dispatch({isPreviewPlaying:j})},audioFileUploadStarted:function i(){c("AdsSlideshowAudioFileUploadStartedDataAction").dispatch({})},audioFileUploadSuccess:function i(j){c("AdsSlideshowAudioFileUploadSuccessDataAction").dispatch({uploadedMood:j})},audioFileUploadError:function i(){c("AdsSlideshowAudioFileUploadErrorDataAction").dispatch({})},addVideoClick:function i(){c("AdsSlideshowAddVideoClickDataAction").dispatch({})},videoPickerClosed:function i(){c("AdsSlideshowVideoPickerClosedDataAction").dispatch({})},setEntrypoint:function i(j){c("AdsSlideshowSetEntrypointDataAction").dispatch({entrypoint:j})}};f.exports=h}),null);
__d("AdsSlideshowShakrController",["AdsSlideshowActions","Bootloader","SlideshowThirdPartyEvents","SlideshowThirdPartyTypedLogger"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={openShakrPicker:function i(j){c("Bootloader").loadModules(["Shakr"],function(k){var l=new k.Picker({access_token:j,objective:0});l.on("init",function(event){new(c("SlideshowThirdPartyTypedLogger"))().setEvent(c("SlideshowThirdPartyEvents").SLIDESHOW_SHAKR_PICKER_LOADED).log()}).on("editor",function(event){var m=event.editor;m.on("finish",function(event){c("AdsSlideshowActions").shakrStartPollingForVideoURL(m.show_id)}).on("error",function(event){new(c("SlideshowThirdPartyTypedLogger"))().setEvent(c("SlideshowThirdPartyEvents").SLIDESHOW_SHAKR_EDITOR_ERROR).setErrorMessage(event.type).log()}).launch()}).on("closed",function(event){c("AdsSlideshowActions").showThirdPartySlideshowCancelDialog()}).launch()},"AdsSlideshowShakrController")}};f.exports=h}),null);
__d("SlideshowShakrPollAsyncNotifier",["AdsCFVideoUploadErrorDataAction","AdsDataAtom","AdsSlideshowActionTypes","SlideshowDataManager","SlideshowThirdPartyEvents","SlideshowThirdPartyTypedLogger"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=3e3,i=10*60*1e3;function j(k){__p&&__p();this.$SlideshowShakrPollAsyncNotifier5=function(l){if(!l.success){this.$SlideshowShakrPollAsyncNotifier6();return}c("AdsDataAtom").addPostDispatchCallback(function(){c("AdsDataAtom").handleUpdateFromServerResponse({data:{videoURL:l.videoURL},type:c("AdsSlideshowActionTypes").SHAKR_POLL_RESPONSE_RECEIVED})})}.bind(this);this.$SlideshowShakrPollAsyncNotifier1=k;this.$SlideshowShakrPollAsyncNotifier3=0;this.$SlideshowShakrPollAsyncNotifier5=this.$SlideshowShakrPollAsyncNotifier5.bind(this)}j.prototype.start=function(){this.$SlideshowShakrPollAsyncNotifier2=Date.now();this.$SlideshowShakrPollAsyncNotifier4=this.$SlideshowShakrPollAsyncNotifier2+i;this.schedulePollingForVideoURL()};j.prototype.schedulePollingForVideoURL=function(){var k=this.$SlideshowShakrPollAsyncNotifier3+h,l=Math.max(0,k-Date.now());if(Date.now()>this.$SlideshowShakrPollAsyncNotifier4){new(c("SlideshowThirdPartyTypedLogger"))().setEvent(c("SlideshowThirdPartyEvents").SLIDESHOW_SHAKR_POLL_TIMED_OUT).log();this.$SlideshowShakrPollAsyncNotifier6();return}setTimeout(function(){return this.$SlideshowShakrPollAsyncNotifier7()}.bind(this),l)};j.prototype.$SlideshowShakrPollAsyncNotifier7=function(){this.$SlideshowShakrPollAsyncNotifier3=Date.now();c("SlideshowDataManager").pollShakrForVideoURL(this.$SlideshowShakrPollAsyncNotifier1,this.$SlideshowShakrPollAsyncNotifier5)};j.prototype.$SlideshowShakrPollAsyncNotifier6=function(){c("AdsDataAtom").addPostDispatchCallback(function(){c("AdsCFVideoUploadErrorDataAction").dispatch({})})};f.exports=j}),null);
__d("adsSlideshowShakrReducer",["AdsAccountStore","AdsSlideshowActionTypes","AdsSlideshowReducerUtils","AdsSlideshowShakrAccessTokenLoadedDataAction","AdsSlideshowShakrController","AdsSlideshowShakrGetAccessTokenDataAction","AdsSlideshowShakrStartPollingDataAction","AdsSlideshowToggleSlideshowThirdpartyCancelDialogDataAction","immutable","SlideshowDataManager","SlideshowShakrPollAsyncNotifier","SlideshowThirdPartyEvents","SlideshowThirdPartyTypedLogger"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){__p&&__p();var k=void 0;switch(j.type){case c("AdsSlideshowShakrGetAccessTokenDataAction").actionType:c("SlideshowDataManager").getShakrScopeToken(function(l){c("AdsSlideshowShakrAccessTokenLoadedDataAction").dispatch({data:{accessToken:l}})});if(j.data.adgroupIDs)i=i.set("adgroupIDs",c("immutable").List(j.data.adgroupIDs));return i.set("isFetchingShakrAccessToken",true).set("thirdPartySlideshowUploader",j.data.slideshowUploader);case c("AdsSlideshowShakrAccessTokenLoadedDataAction").actionType:if(!j.data.accessToken)return i.set("isFetchingShakrAccessToken",false).set("slideshowDialogShown",true);new(c("SlideshowThirdPartyTypedLogger"))().setEvent(c("SlideshowThirdPartyEvents").SLIDESHOW_SHAKR_ACCESS_TOKEN_FETCHED).log();c("AdsSlideshowShakrController").openShakrPicker(j.data.accessToken);return i.set("isFetchingShakrAccessToken",false);case c("AdsSlideshowShakrStartPollingDataAction").actionType:k=new(c("SlideshowShakrPollAsyncNotifier"))(j.data.showID);i=i.set("shakrPollNotifier",k).set("isProcessingThirdPartySlideshow",true);k.start();new(c("SlideshowThirdPartyTypedLogger"))().setEvent(c("SlideshowThirdPartyEvents").SLIDESHOW_SHAKR_POLL_STARTED).log();return c("AdsSlideshowReducerUtils").updateProcessingStatus(i,i.get("entrypoint"),true);case c("AdsSlideshowActionTypes").SHAKR_POLL_RESPONSE_RECEIVED:if(!i.get("isProcessing").get(i.get("entrypoint")))return i;k=i.get("shakrPollNotifier");if(j.data.videoURL){new(c("SlideshowThirdPartyTypedLogger"))().setEvent(c("SlideshowThirdPartyEvents").SLIDESHOW_SHAKR_VIDEO_UPLOAD_STARTED).log();i.get("thirdPartySlideshowUploader").uploadThirdPartySlideshow(c("AdsAccountStore").getSelectedAccountID(),j.data.videoURL,"SLIDESHOW_SHAKR");return i}k=i.get("shakrPollNotifier");if(!k)return c("AdsSlideshowReducerUtils").updateProcessingStatus(i,i.get("entrypoint"),false);k.schedulePollingForVideoURL();return i;case c("AdsSlideshowToggleSlideshowThirdpartyCancelDialogDataAction").actionType:return i.set("showSlideshowThirdPartyCancelDialog",j.data.slideshowCancelDialogShown);default:return i}}f.exports=h}),null);
__d("AdsCFVideoEncodingSuccessDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_CF.VIDEO_ENCODING_SUCCESS");f.exports=h}),null);
__d("AdsVideoAlternativesSetVideoAlternativesDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SET_VIDEO_ALTERNATIVES");f.exports=h}),null);
__d("AdsVideoToastCardsUploadErrorDataReducerPlugin",["AdsVideoUploadToastCardUtils"],(function a(b,c,d,e,f,g){"use strict";var h={reduce:function i(j,k){var l=c("AdsVideoUploadToastCardUtils").dismissProgressVideoToastCard(j);return c("AdsVideoUploadToastCardUtils").createToastCard(l,c("AdsVideoUploadToastCardUtils").TOAST_CARD_TYPE.ERROR,k.title,c("AdsVideoUploadToastCardUtils").DISMISS_TIMER,k.videoBackgroundUpload)}};f.exports=h}),null);
__d("AdsVideoToastCardsUploadErrorDataReducer",["AdsDataReducer","AdsToastCardDataProvider","AdsVideoToastCardsUploadErrorDataReducerPlugin"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataReducer").create(c("AdsToastCardDataProvider"),{},c("AdsVideoToastCardsUploadErrorDataReducerPlugin").reduce);f.exports=h}),null);
__d("AdsVideoUploadErrorDataReducerPlugin",[],(function a(b,c,d,e,f,g){"use strict";var h={reduce:function i(j,k){return j.merge({errorMessage:k.errorMessage,isProcessing:false})}};f.exports=h}),null);
__d("AdsVideoUploadErrorDataReducer",["AdsDataReducer","AdsInstagramVideoUploaderDataProvider","AdsVideoUploadErrorDataReducerPlugin"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataReducer").create(c("AdsInstagramVideoUploaderDataProvider"),{},c("AdsVideoUploadErrorDataReducerPlugin").reduce);f.exports=h}),null);
__d("AdsVideoUploadErrorDataAction",["AdsDataAction","AdsVideoToastCardsUploadErrorDataReducer","AdsVideoUploadErrorDataReducer"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([c("AdsVideoToastCardsUploadErrorDataReducer"),c("AdsVideoUploadErrorDataReducer")],"VIDEO.UPLOAD_ERROR");f.exports=h}),null);
__d("adsSlideshowStoreReducer",["AdsCFVideoEncodingSuccessDataAction","AdsCFVideoUploadErrorDataAction","AdsSlideshowAttachToVideoErrorDataAction","AdsSlideshowCloseSlideshowDialogDataAction","AdsSlideshowCreateDataAction","AdsSlideshowCreateResetDataAction","AdsSlideshowDurationChangeDataAction","AdsSlideshowFormatChangeDataAction","AdsSlideshowImagesSelectConfirmDataAction","AdsSlideshowLengthChangeDataAction","AdsSlideshowOpenSlideshowDialogDataAction","AdsSlideshowReducerUtils","AdsSlideshowRemoveCancelledSlideshowUploadDataAction","AdsSlideshowResetAllDataAction","AdsSlideshowSelectTabDataAction","AdsSlideshowSetEntrypointDataAction","AdsSlideshowSetSelectedVideoIDDataAction","AdsSlideshowStoreState","AdsSlideshowToggleImageDialogDataAction","AdsSlideshowTransitionChangeDataAction","AdsVideoAlternativesSetVideoAlternativesDataAction","AdsVideoEncodingSuccessDataAction","AdsVideoUploadErrorDataAction","immutable","ShutterstockImageUtils","SlideshowConstants"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){__p&&__p();switch(j.type){case c("AdsSlideshowSetEntrypointDataAction").actionType:return i.set("entrypoint",j.entrypoint);case c("AdsSlideshowCreateDataAction").actionType:var k=j.data,l=k.selectedImages.map(function(p){return p.getStockImageID()?c("ShutterstockImageUtils").idToURL(p.getStockImageID()):p.getUrl()}).slice(0,c("SlideshowConstants").max_photo_num),m=k.imagesCrops,n=k.imagesTextoverlays,o=k.transitionInMS;k.videoUploader.upload(k.accountID,l,k.length,o,m&&m.length>0?m.slice(0,c("SlideshowConstants").max_photo_num):null,k.storylineMoodID,n);i=i.set("slideshowUploader",k.videoUploader);if(k.adgroupIDs){i=i.set("adgroupIDs",c("immutable").List(k.adgroupIDs)).set("slideshowDialogShown",false);return c("AdsSlideshowReducerUtils").updateProcessingStatus(i,i.get("entrypoint"),true)}i=i.set("slideshowDialogShown",false);return c("AdsSlideshowReducerUtils").updateProcessingStatus(i,i.get("entrypoint"),true);case c("AdsSlideshowRemoveCancelledSlideshowUploadDataAction").actionType:return i.set("cancelledVideoIDs",i.get("cancelledVideoIDs")["delete"](j.data.videoID));case c("AdsSlideshowSetSelectedVideoIDDataAction").actionType:return i.set("selectedVideoID",j.data.videoID);case c("AdsSlideshowCreateResetDataAction").actionType:i.get("slideshowUploader")&&i.get("slideshowUploader").abort();if(i.selectedVideoID)i=i.set("cancelledVideoIDs",i.get("cancelledVideoIDs").add(i.selectedVideoID));i=i.set("isProcessingThirdPartySlideshow",false);return c("AdsSlideshowReducerUtils").updateProcessingStatus(i,i.get("entrypoint"),false);case c("AdsCFVideoEncodingSuccessDataAction").actionType:case c("AdsCFVideoUploadErrorDataAction").actionType:case c("AdsVideoEncodingSuccessDataAction").actionType:case c("AdsVideoUploadErrorDataAction").actionType:i=i.set("isProcessingThirdPartySlideshow",false);return c("AdsSlideshowReducerUtils").updateProcessingStatus(i,i.get("entrypoint"),false);case c("AdsSlideshowLengthChangeDataAction").actionType:return i.set("videoLength",j.data.length);case c("AdsSlideshowOpenSlideshowDialogDataAction").actionType:return i.set("showSlideshowThirdPartyCancelDialog",false).set("slideshowDialogShown",true);case c("AdsSlideshowCloseSlideshowDialogDataAction").actionType:return i.set("showSlideshowThirdPartyCancelDialog",false).set("slideshowDialogShown",false);case c("AdsSlideshowToggleImageDialogDataAction").actionType:return i.set("imageDialogShown",j.data.imageDialogShown);case c("AdsSlideshowImagesSelectConfirmDataAction").actionType:return i.set("imageDialogShown",false);case c("AdsSlideshowTransitionChangeDataAction").actionType:return i.set("transitionInMS",j.data.transitionInMS);case c("AdsSlideshowDurationChangeDataAction").actionType:return i.set("durationInMS",j.data.durationInMS).set("showSlideshowDurationWarning",j.data.automatic);case c("AdsSlideshowFormatChangeDataAction").actionType:return i.set("format",j.data.format);case c("AdsSlideshowResetAllDataAction").actionType:return new(c("AdsSlideshowStoreState"))();case c("AdsSlideshowAttachToVideoErrorDataAction").actionType:case c("AdsVideoAlternativesSetVideoAlternativesDataAction").actionType:return c("AdsSlideshowReducerUtils").updateProcessingStatus(i,i.get("entrypoint"),false);case c("AdsSlideshowSelectTabDataAction").actionType:return i.set("selectedTab",j.tab);default:return i}}f.exports=h}),null);
__d("AdsSlideshowStore",["AdsDataAtom","AdsSlideshowStoreState","FluxReduceStore","adsSlideshowAnimotoReducer","adsSlideshowEditReducer","adsSlideshowShakrReducer","adsSlideshowStoreReducer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.__moduleID=f.id,l}j.prototype.getInitialState=function(){return new(c("AdsSlideshowStoreState"))()};j.prototype.reduce=function(k,l){var m=l.action,n=[c("adsSlideshowStoreReducer"),c("adsSlideshowEditReducer"),c("adsSlideshowShakrReducer"),c("adsSlideshowAnimotoReducer")];return n.reduce(function(k,o){return o(k,m)},k)};j.prototype.getAdgroupIDs=function(){var k=this.getState().get("adgroupIDs");return k?k.toArray():null};j.prototype.getDurationInMS=function(){return this.getState().get("durationInMS")};j.prototype.getFormat=function(){return this.getState().get("format")};j.prototype.getTransitionInMS=function(){return this.getState().get("transitionInMS")};j.prototype.isFetchingShakrAccessToken=function(){return this.getState().get("isFetchingShakrAccessToken")};j.prototype.isProcessing=function(k){return!!this.getState().get("isProcessing").get(k)};j.prototype.isProcessingThirdPartySlideshow=function(){return this.getState().get("isProcessingThirdPartySlideshow")};j.prototype.getIsProcessingMap=function(){return this.getState().get("isProcessing")};j.prototype.getTotalLength=function(k){return this.getDurationInMS()*k+this.getTransitionInMS()*k};j.prototype.getVideoLength=function(){return this.getState().get("videoLength")};j.prototype.getSelectedTab=function(){return this.getState().get("selectedTab")};j.prototype.getEntrypoint=function(){return this.getState().get("entrypoint")};j.prototype.getCancelledVideoIDs=function(){return this.getState().get("cancelledVideoIDs")};j.prototype.shouldShowSlideshowAnimotoDialog=function(){return this.getState().get("showAnimotoDialog")};j.prototype.shouldShowSlideshowDialog=function(){return this.getState().get("slideshowDialogShown")};j.prototype.shouldShowSlideshowThirdPartyCancelDialog=function(){return this.getState().get("showSlideshowThirdPartyCancelDialog")};j.prototype.shouldShowImageDialog=function(){return this.getState().get("imageDialogShown")};j.prototype.shouldShowDurationWarning=function(){return this.getState().get("showSlideshowDurationWarning")};f.exports=new j(c("AdsDataAtom"))}),null);
__d("adsSelectedImagesStoreReducer",["AdsImageDimensionLoadImageDimensionSuccessDataAction","AdsImageIDClasses","AdsImageInfoStore","AdsImageLegacy","AdsSelectedImagesStoreState","AdsSlideshowActionTypes","AdsSlideshowCloseSlideshowDialogDataAction","AdsSlideshowFormatChangeDataAction","AdsSlideshowFrameImagesSuccessDataAction","AdsSlideshowImageRemoveDataAction","AdsSlideshowImagesSelectConfirmDataAction","AdsSlideshowReorderImagesDataAction","AdsSlideshowResetAllDataAction","AdsSlideshowSaveImageCropsDataAction","AdsSlideshowSaveTextoverlayDataAction","AdsSlideshowStore","immutable","SlideshowConstants","SlideshowImageUtil","SlideshowUtil","gkx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("AdsImageIDClasses").AdsImageID,i=c("SlideshowConstants").textoverlays_fonts,j=c("SlideshowConstants").textoverlays_colors,k=5;function l(){return{background_color:j[0].background_color,bold:false,font:Object.keys(i)[0],font_color:j[0].font_color,text_alignment:"center-center",textoverlay_content:null}}function m(x,y){var z=c("immutable").Map();y.forEach(function(A){z=z.set(A.key,n(A))});return c("SlideshowImageUtil").calculateCropsForFormat(y,c("AdsSlideshowStore").getFormat(),z)}function n(x){var y=x.stockImageID?h.fromShutterstockID(x.stockImageID):h.fromExternalURL(x.url),z=c("AdsImageInfoStore").getFullSize(y);if(!z)return{height:x.height,width:x.width};return{height:z.getValueEnforcing().height,width:z.getValueEnforcing().width}}function o(x,y){var z=new(c("AdsImageLegacy"))(x).getUniqueIdentifier(),A=y.reduce(function(B,C){return B.concat("-").concat(C.toString())},z);return Object.assign({},x,{key:A})}function p(x){var y=true;x.map(function(z){var A=z.stockImageID?h.fromShutterstockID(z.stockImageID):h.fromExternalURL(z.url),B=c("AdsImageInfoStore").getFullSize(A),C=B&&!B.hasValue();if(C)y=false});return y}function q(x,y){return c("SlideshowUtil").getSelectedFramesFromVideo(x,y).map(function(z){return{url:z.uri,width:z.width,height:z.height,isLoading:true,key:z.id}})}function r(x,y){var z=p(y),A=x,B=A.imagesCrops;if(z)x=x.set("imagesCrops",m(B,y));return x}function s(x,y){__p&&__p();var z=x.imageKeyIndex,A=c("immutable").List();y.forEach(function(B){var C=!B.key||!!A.find(function(E){return B.key===E.key}),D=B;if(C){D=o(B,[z]);z+=1}A=A.push(D)});return x.set("selectedImages",A).set("imageKeyIndex",z)}function t(x,y){var z=c("immutable").List();y.forEach(function(A,B){var C=o(A,[B]);z=z.push(C)});return x.set("selectedImages",z)}function u(x){var y=x.imagesTextoverlays;x.get("selectedImages").forEach(function(z){if(!y.get(z.key))y=y.set(z.key,l())});return x.set("imagesTextoverlays",y)}function v(x,y){x=c("gkx")("AT6lT8s-lYKB5LRmP7d-QYBhUD7X_CNEOzgL1PbJAIi0zfFxesqKQ0yjhhCYTHie1XOPrmltBCRly47ifx0Irut0")?t(x,y):s(x,y);x=r(x,x.get("selectedImages"));x=u(x);return x}function w(x,y){__p&&__p();var z=x,A=z.imagesTextoverlays,B=z.imagesCrops;switch(y.type){case c("AdsImageDimensionLoadImageDimensionSuccessDataAction").actionType:if(x.get("imagesAllLoaded"))return x;return r(x,x.get("selectedImages"));case c("AdsSlideshowCloseSlideshowDialogDataAction").actionType:return new(c("AdsSelectedImagesStoreState"))();case c("AdsSlideshowImagesSelectConfirmDataAction").actionType:return v(x,y.data.selectedImages);case c("AdsSlideshowSaveImageCropsDataAction").actionType:B=x.get("imagesCrops").set(y.data.image.key,y.data.imageCrops);return x.set("imagesCrops",B);case c("AdsSlideshowSaveTextoverlayDataAction").actionType:A=x.get("imagesTextoverlays").set(y.data.image.key,y.data.textoverlay);return x.set("imagesTextoverlays",A);case c("AdsSlideshowActionTypes").IMAGES_SELECT_CANCEL:case c("AdsSlideshowResetAllDataAction").actionType:return new(c("AdsSelectedImagesStoreState"))();case c("AdsSlideshowImageRemoveDataAction").actionType:var C=x.selectedImages.findIndex(function(J){return y.data.removeImage.key===J.key}),D=x.selectedImages;if(C!==-1)D=D.splice(C,1);A=x.get("imagesTextoverlays")["delete"](y.data.removeImage.key);B=x.get("imagesCrops")["delete"](y.data.removeImage.key);x=x.set("imagesTextoverlays",A).set("imagesCrops",B);x=r(x,D);return x.set("selectedImages",D);case c("AdsSlideshowReorderImagesDataAction").actionType:var E=y.data,F=E.fromIndex,G=E.toIndex,H=Object.assign({},x.selectedImages.get(F)),I=x.selectedImages.splice(F>G?G:G+1,0,H);I=I["delete"](F>G?F+1:F);x=r(x,I);return x.set("selectedImages",I);case c("AdsSlideshowFormatChangeDataAction").actionType:return r(x,x.get("selectedImages"));case c("AdsSlideshowFrameImagesSuccessDataAction").actionType:return v(x,q(y.frameImages,k));default:return x}}f.exports=w}),null);
__d("adsSlideshowAudioStoreFileUploadReducer",["AdsSlideshowAudioFileUploadErrorDataAction","AdsSlideshowAudioFileUploadStartedDataAction","AdsSlideshowAudioFileUploadSuccessDataAction","SlideshowMusicCategory"],(function a(b,c,d,e,f,g){"use strict";function h(i,j){var k=i.get("audioFileUploadInfo");switch(j.type){case c("AdsSlideshowAudioFileUploadStartedDataAction").actionType:return i.set("audioFileUploadInfo",babelHelpers["extends"]({},k,{isUploading:true,hasError:false})).set("selectedMusicCategory",c("SlideshowMusicCategory").USER_UPLOADED);case c("AdsSlideshowAudioFileUploadErrorDataAction").actionType:return i.set("audioFileUploadInfo",babelHelpers["extends"]({},k,{isUploading:false,hasError:true}));case c("AdsSlideshowAudioFileUploadSuccessDataAction").actionType:return i.set("audioFileUploadInfo",babelHelpers["extends"]({},k,{isUploading:false,hasError:false})).set("storylineMoodFiles",i.get("storylineMoodFiles").unshift(j.uploadedMood));default:return i}}f.exports=h}),null);
__d("AdsSlideshowAudioStoreState",["SlideshowMusicCategory","immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({audioFileUploadInfo:{isUploading:false,hasError:false},isPreviewPlaying:false,numberOfImages:0,recentlyUsedStorylineMoods:c("immutable").List(),savedState:null,selectedMusicCategory:c("SlideshowMusicCategory").ALL_TRACKS,selectedStorylineMood:null,storylineMoodFiles:c("immutable").List(),storylineMoodIDToSource:c("immutable").Map()});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("adsSlideshowAudioStoreReducer",["AdsSlideshowActions","AdsSlideshowAudioStoreState","AdsSlideshowDurationChangeDataAction","AdsSlideshowImageRemoveDataAction","AdsSlideshowImagesSelectConfirmDataAction","AdsSlideshowMusicCategorySelectDataAction","AdsSlideshowPreviewStateChangeDataAction","AdsSlideshowResetAllDataAction","AdsSlideshowSetStorylineMoodFilesDataAction","AdsSlideshowStore","AdsSlideshowStorylineMoodChangeDataAction","AdsSlideshowStorylineMoodDeleteDataAction","AdsSlideshowStorylineMoodSourceChangeDataAction","AdsSlideshowStorylineMoodSourceMapChangeDataAction","SlideshowAudioUtil","SlideshowDataManager","SlideshowUtil"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(m,n,o,p){__p&&__p();if(!n)return m;var q=m.get("storylineMoodIDToSource");c("SlideshowDataManager").fetchStorylineMoodSource(n,o,function(r){c("AdsSlideshowActions").changeStorylineMoodIDSource(r);q=q.set(n,r);c("AdsSlideshowActions").changeStorylineMoodSourceMap(q);if(p)p()});return i(m,q.get(n))}function i(m,n){var o=m.get("selectedStorylineMood");if(!o||!n)return m;o.source=n;return m.set("selectedStorylineMood",o).set("recentlyUsedStorylineMoods",m.get("recentlyUsedStorylineMoods").unshift(o))}function j(m,n){if(c("SlideshowAudioUtil").storylineMoodCompare(n,m.get("selectedStorylineMood")))m=m.set("selectedStorylineMood",null).set("isPreviewPlaying",false);c("SlideshowDataManager").deleteAudioFile(n.moodID);return m.set("storylineMoodFiles",m.get("storylineMoodFiles").filter(function(o){return!c("SlideshowAudioUtil").storylineMoodCompare(o,n)}))}function k(m){return m===0?c("SlideshowUtil").getMaximumTotalLengthInMS():c("AdsSlideshowStore").getTotalLength(m)}function l(m,n){__p&&__p();var o=m.get("numberOfImages"),p=m.get("selectedStorylineMood")?m.get("selectedStorylineMood").moodID:null;switch(n.type){case c("AdsSlideshowStorylineMoodChangeDataAction").actionType:return h(m.set("selectedStorylineMood",n.data.selectedStorylineMood),n.data.selectedStorylineMood?n.data.selectedStorylineMood.moodID:null,k(o),function(){c("AdsSlideshowActions").previewStateChange(true)});case c("AdsSlideshowStorylineMoodDeleteDataAction").actionType:return j(m,n.storylineMood);case c("AdsSlideshowStorylineMoodSourceChangeDataAction").actionType:return i(m,n.data.storylineMoodIDSource);case c("AdsSlideshowStorylineMoodSourceMapChangeDataAction").actionType:return m.set("storylineMoodIDToSource",n.data.storylineMoodIDSourceMap);case c("AdsSlideshowImagesSelectConfirmDataAction").actionType:return h(m,p,k(n.data.selectedImages.length),function(){c("AdsSlideshowActions").previewStateChange(false)}).set("numberOfImages",n.data.selectedImages.length);case c("AdsSlideshowDurationChangeDataAction").actionType:return h(m,p,k(o));case c("AdsSlideshowImageRemoveDataAction").actionType:return h(m,p,k(o-1)).set("numberOfImages",o-1);case c("AdsSlideshowSetStorylineMoodFilesDataAction").actionType:return m.set("storylineMoodFiles",n.data.storylineMoodFiles);case c("AdsSlideshowMusicCategorySelectDataAction").actionType:return m.set("selectedMusicCategory",n.selectedMusicCategory);case c("AdsSlideshowPreviewStateChangeDataAction").actionType:return m.set("isPreviewPlaying",n.isPreviewPlaying);case c("AdsSlideshowResetAllDataAction").actionType:var q=m.get("storylineMoodFiles");return new(c("AdsSlideshowAudioStoreState"))().set("storylineMoodFiles",q);default:return m}}f.exports=l}),null);
__d("AdsSelectedImagesStore",["AdsDataAtom","AdsImageInfoStore","AdsSelectedImagesStoreState","AdsSlideshowStore","FluxReduceStore","adsSelectedImagesStoreReducer","adsSlideshowEditReducer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.__moduleID=f.id,l}j.prototype.getInitialState=function(){return new(c("AdsSelectedImagesStoreState"))()};j.prototype.reduce=function(k,l){var m=l.action;c("AdsDataAtom").waitFor([c("AdsImageInfoStore").getDispatchToken(),c("AdsSlideshowStore").getDispatchToken()]);var n=[c("adsSelectedImagesStoreReducer"),c("adsSlideshowEditReducer")];return n.reduce(function(k,o){return o(k,m)},k)};j.prototype.getSelectedImages=function(){return this.getState().get("selectedImages").toArray()};j.prototype.getImagesCrops=function(){var k=this.getState().get("selectedImages"),l=this.getState().get("imagesCrops");if(k.size!==l.size)return[];return k.map(function(m){return l.get(m.key)}).toArray()};j.prototype.getImagesTextoverlays=function(){return this.getState().get("selectedImages").map(function(k){return this.getState().get("imagesTextoverlays").get(k.key)}.bind(this)).toArray()};j.prototype.getNumberOfImages=function(){return this.getState().get("selectedImages").size};f.exports=new j(c("AdsDataAtom"))}),null);
__d("AdsSlideshowAudioStore",["AdsDataAtom","AdsSlideshowAudioStoreState","AdsSlideshowStore","FluxReduceStore","adsSlideshowAudioStoreFileUploadReducer","adsSlideshowAudioStoreReducer","adsSlideshowEditReducer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.__moduleID=f.id,l}j.prototype.getInitialState=function(){return new(c("AdsSlideshowAudioStoreState"))()};j.prototype.reduce=function(k,l){var m=l.action;c("AdsDataAtom").waitFor([c("AdsSlideshowStore").getDispatchToken()]);var n=[c("adsSlideshowAudioStoreReducer"),c("adsSlideshowAudioStoreFileUploadReducer"),c("adsSlideshowEditReducer")];return n.reduce(function(k,o){return o(k,m)},k)};j.prototype.getAudioFileUploadInfo=function(){return this.getState().get("audioFileUploadInfo")};j.prototype.getNumberOfImages=function(){return this.getState().get("numberOfImages")};j.prototype.getStorylineMoodFiles=function(){return this.getState().get("storylineMoodFiles").toArray()};j.prototype.getRecentlyUsedStorylineMoods=function(){return this.getState().get("recentlyUsedStorylineMoods").toArray()};j.prototype.getSelectedStorylineMood=function(){return this.getState().get("selectedStorylineMood")};j.prototype.getStorylineMoodIDToSource=function(){return this.getState().get("storylineMoodIDToSource")};j.prototype.getSelectedMusicCategory=function(){return this.getState().get("selectedMusicCategory")};j.prototype.getIsPreviewPlaying=function(){return this.getState().get("isPreviewPlaying")};f.exports=new j(c("AdsDataAtom"))}),null);
__d("AdsSlideshowLoggingStoreState",["SlideshowConstants","SlideshowEntrypoint","SlideshowMusicCategory","SlideshowFlowTypes","immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("SlideshowFlowTypes").SlideshowTabKey,k=c("immutable").Record({aspectRatioFormat:c("SlideshowConstants").formats.Original,deletedStorylineMoodID:null,durationInMS:1e3,entrypoint:c("SlideshowEntrypoint").UNKNOWN,hasFrameImages:false,isVideoPickerOpen:false,module:"ads_slideshow",photoCount:0,originalVideoID:null,selectedMusicCategory:c("SlideshowMusicCategory").ALL_TRACKS,selectedStorylineMoodID:null,selectedTab:j.SETTINGS_TAB,transitionInMS:c("SlideshowConstants").transitions.None,uploadedStorylineMoodID:null});h=babelHelpers.inherits(l,k);i=h&&h.prototype;function l(){h.apply(this,arguments)}f.exports=l}),null);
__d("SlideshowFbtUtils",["errorCode","errorDesc","fbt","SlideshowFlowTypes","SlideshowMusicCategory"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("SlideshowFlowTypes").SlideshowTabKey,n={None:j._("None"),Fade:j._("Fade"),Unknown:j._("Unknow")},o=(k={},k[m.SETTINGS_TAB]=j._("Settings"),k[m.MUSIC_TAB]=j._("Music"),k[m.FRAMES_TAB]=j._("Video Stills"),k.FRAMES_TAB_NUX=j._("Choose which video stills you want to include in your slideshow"),k.MUSIC_TAB_NUX=j._("You can now add music to your slideshow. Use one of our royalty-free tracks or upload your own."),k),p=(l={},l[c("SlideshowMusicCategory").ALL_TRACKS]=j._("All Tracks"),l[c("SlideshowMusicCategory").USER_UPLOADED]=j._("Uploaded Tracks"),l[c("SlideshowMusicCategory").RECENTLY_USED]=j._("Recently Used"),l[c("SlideshowMusicCategory").ENERGETIC]=j._("Energetic"),l[c("SlideshowMusicCategory").INSPIRATIONAL]=j._("Inspirational"),l[c("SlideshowMusicCategory").FUN]=j._("Fun"),l[c("SlideshowMusicCategory").TRUSTWORTHY]=j._("Trustworthy"),l[c("SlideshowMusicCategory").MODERN]=j._("Modern"),l.Unknown=null,l),q={Original:j._("Original"),Wide:j._("Rectangle (16:9)"),Square:j._("Square (1:1)"),Vertical:j._("Vertical (2:3)")},r={Original:null,Wide:null,Square:null,Vertical:null},s={_getFbtString:function t(u,v){if(u[v])return u[v];return u.Unknown},getDurationFbtString:function t(u){if(u===1)return j._({"*":"{second} second"},[j._param("second",u,[0])]);return j._({"*":"{seconds} seconds"},[j._param("seconds",u,[0])])},getFramesTabNuxFbtString:function t(){return this._getFbtString(o,"FRAMES_TAB_NUX")},getMusicTabNuxFbtString:function t(){return this._getFbtString(o,"MUSIC_TAB_NUX")},getTabNameFbtString:function t(u){return this._getFbtString(o,u)},getTransitionFbtString:function t(u){return this._getFbtString(n,u)},getSlideshowVideoErrorMessage:function t(u){__p&&__p();var v=null;if(u===2013025)v=i._(function(j,w){return j._("There was a problem with your upload.")},{});else if(u===2013023)v=i._(function(j,w){return j._("We weren't able to cut your video into a slideshow. Try adding the video again.")},{});else if(u===2013024)v=i._(function(j,w){return j._("We still weren't able to cut your video into a slideshow. There could be a problem with your video file.")},{});return v},getFormatFbtString:function t(u){return this._getFbtString(q,u)},getFormatTooltipFbtString:function t(u){return this._getFbtString(r,u)},getMusicCategoryTooltip:function t(u){return this._getFbtString(p,u)}};f.exports=s}),null);
__d("VideoFrameImagesGenerationStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SUCCESS:0,IN_PROGRESS:1,NOT_STARTED:2,FAILED:3})}),null);
__d("SlideshowVideoFrameImagesAsyncNotifier",["SlideshowDataManager","VideoFrameImagesGenerationStatus"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=2e3,i=100,j=1500;function k(l){this.$SlideshowVideoFrameImagesAsyncNotifier1=l;this.$SlideshowVideoFrameImagesAsyncNotifier2=0;this.$SlideshowVideoFrameImagesAsyncNotifier4=0;this.$SlideshowVideoFrameImagesAsyncNotifier7=this.$SlideshowVideoFrameImagesAsyncNotifier7.bind(this)}k.prototype.start=function(){this.$SlideshowVideoFrameImagesAsyncNotifier3=Date.now();this.$SlideshowVideoFrameImagesAsyncNotifier8()};k.prototype.setOnSuccessListener=function(l){this.$SlideshowVideoFrameImagesAsyncNotifier5=l;return this};k.prototype.setOnErrorListener=function(l){this.$SlideshowVideoFrameImagesAsyncNotifier6=l;return this};k.prototype.$SlideshowVideoFrameImagesAsyncNotifier8=function(){var l=this.$SlideshowVideoFrameImagesAsyncNotifier2+h,m=Math.max(0,l-Date.now());setTimeout(function(){return this.$SlideshowVideoFrameImagesAsyncNotifier9()}.bind(this),m)};k.prototype.$SlideshowVideoFrameImagesAsyncNotifier9=function(){this.$SlideshowVideoFrameImagesAsyncNotifier2=Date.now();this.$SlideshowVideoFrameImagesAsyncNotifier4+=1;c("SlideshowDataManager").fetchVideoFrameImages(this.$SlideshowVideoFrameImagesAsyncNotifier7,this.$SlideshowVideoFrameImagesAsyncNotifier1)};k.prototype.$SlideshowVideoFrameImagesAsyncNotifier7=function(l){__p&&__p();var m=l&&l.status;if(!l||m==null||m===c("VideoFrameImagesGenerationStatus").IN_PROGRESS||m===c("VideoFrameImagesGenerationStatus").NOT_STARTED)if(this.$SlideshowVideoFrameImagesAsyncNotifier4<i)this.$SlideshowVideoFrameImagesAsyncNotifier8();else this.$SlideshowVideoFrameImagesAsyncNotifier6();else if(m===c("VideoFrameImagesGenerationStatus").SUCCESS){var n=Date.now(),o=Math.max(0,this.$SlideshowVideoFrameImagesAsyncNotifier3-n+j);setTimeout(function(){return this.$SlideshowVideoFrameImagesAsyncNotifier5(l.frame_images)}.bind(this),o)}else this.$SlideshowVideoFrameImagesAsyncNotifier6()};f.exports=k}),null);
__d("AdsVideoFrameImagesStore",["errorCode","AdsActionTypes","AdsDataAtom","AdsSlideshowActions","AdsSlideshowCloseSlideshowDialogDataAction","AdsSlideshowCreateDataAction","AdsSlideshowCreateResetDataAction","AdsSlideshowFetchFrameImagesDataAction","AdsSlideshowFrameImagesFailureDataAction","AdsSlideshowFrameImagesSuccessDataAction","AdsSlideshowOpenSlideshowDialogDataAction","FluxReduceStore","SlideshowDataManager","SlideshowFbtUtils","SlideshowFlowTypes","SlideshowVideoFrameImagesAsyncNotifier"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("SlideshowFlowTypes").SlideshowTabKey;i=babelHelpers.inherits(l,c("FluxReduceStore"));j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.__moduleID=f.id,n}l.prototype.getInitialState=function(){return{isFetchingFrameImages:false,videoFrameImagesError:null,videoFrameImages:[]}};l.prototype.clearAllState=function(){return this.getInitialState()};l.prototype.getVideoFrameImagesError=function(){var m=Number(this.getState().videoFrameImagesError);return c("SlideshowFbtUtils").getSlideshowVideoErrorMessage(m)};l.prototype.getVideoFrameImages=function(){return this.getState().videoFrameImages};l.prototype.isFetchingFrameImages=function(){return this.getState().isFetchingFrameImages};l.prototype.$AdsVideoFrameImagesStore1=function(m){c("AdsSlideshowActions").informFrameImagesSuccess(m);c("AdsSlideshowActions").selectTab(k.FRAMES_TAB)};l.prototype.$AdsVideoFrameImagesStore2=function(m){c("SlideshowDataManager").scheduleFrameImagesAsyncJob(m);new(c("SlideshowVideoFrameImagesAsyncNotifier"))(m).setOnSuccessListener(this.$AdsVideoFrameImagesStore1).setOnErrorListener(c("AdsSlideshowActions").informFrameImagesFailure).start()};l.prototype.reduce=function(m,n){__p&&__p();var o=n.action;switch(o.type){case c("AdsSlideshowOpenSlideshowDialogDataAction").actionType:return m;case c("AdsSlideshowCloseSlideshowDialogDataAction").actionType:return this.getInitialState();case c("AdsSlideshowFetchFrameImagesDataAction").actionType:this.$AdsVideoFrameImagesStore2(o.videoID);return babelHelpers["extends"]({},m,{isFetchingFrameImages:true});case c("AdsSlideshowFrameImagesSuccessDataAction").actionType:return babelHelpers["extends"]({},m,{isFetchingFrameImages:false,videoFrameImagesError:null,videoFrameImages:o.frameImages});case c("AdsSlideshowFrameImagesFailureDataAction").actionType:var p=m.videoFrameImagesError===null?2013023:2013024;return babelHelpers["extends"]({},m,{isFetchingFrameImages:false,videoFrameImagesError:p});case c("AdsSlideshowCreateDataAction").actionType:case c("AdsSlideshowCreateResetDataAction").actionType:case c("AdsActionTypes").PAGE_TRANSITION:return this.getInitialState();default:return m}};f.exports=new l(c("AdsDataAtom"))}),null);
__d("adsSlideshowLoggingStoreReducer",["AdsDataAtom","AdsSelectedImagesStore","AdsSlideshowAddVideoClickDataAction","AdsSlideshowAudioFileUploadErrorDataAction","AdsSlideshowAudioFileUploadStartedDataAction","AdsSlideshowAudioFileUploadSuccessDataAction","AdsSlideshowAudioStore","AdsSlideshowCloseSlideshowDialogDataAction","AdsSlideshowCreateDataAction","AdsSlideshowDurationChangeDataAction","AdsSlideshowFetchFrameImagesDataAction","AdsSlideshowFormatChangeDataAction","AdsSlideshowFrameImagesFailureDataAction","AdsSlideshowFrameImagesSuccessDataAction","AdsSlideshowImageRemoveDataAction","AdsSlideshowImagesSelectConfirmDataAction","AdsSlideshowLoggingStoreState","AdsSlideshowMusicCategorySelectDataAction","AdsSlideshowOpenSlideshowDialogDataAction","AdsSlideshowResetAllDataAction","AdsSlideshowSelectTabDataAction","AdsSlideshowSetEntrypointDataAction","AdsSlideshowStore","AdsSlideshowStorylineMoodChangeDataAction","AdsSlideshowStorylineMoodDeleteDataAction","AdsSlideshowTransitionChangeDataAction","AdsSlideshowVideoPickerClosedDataAction","AdsVideoFrameImagesStore","AdsVideoUploadErrorDataAction","AdsVideoUploadStartDataAction","SlideshowConstants","SlideshowCreationWaterfallEvent","SlideshowCreationWaterfallLogger","WebApiApplication"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j,event){c("SlideshowCreationWaterfallLogger").logEvent(event,{photo_count:j.get("photoCount"),has_frame_images:j.get("hasFrameImages"),original_video_id:j.get("originalVideoID"),selected_music_category:j.get("selectedMusicCategory"),selected_storyline_mood_id:j.get("selectedStorylineMoodID"),uploaded_storyline_mood_id:j.get("uploadedStorylineMoodID"),deleted_storyline_mood_id:j.get("deletedStorylineMoodID"),duration_in_ms:j.get("durationInMS"),transition_in_ms:j.get("transitionInMS"),aspect_ratio_format:j.get("aspectRatioFormat"),selected_tab:j.get("selectedTab"),entrypoint:j.get("entrypoint"),web_application_id:c("WebApiApplication").getClientID()},j.get("module"))}function i(j,k){__p&&__p();c("AdsDataAtom").waitFor([c("AdsSelectedImagesStore").getDispatchToken(),c("AdsVideoFrameImagesStore").getDispatchToken(),c("AdsSlideshowStore").getDispatchToken(),c("AdsSlideshowAudioStore").getDispatchToken()]);switch(k.type){case c("AdsSlideshowSetEntrypointDataAction").actionType:j=j.set("entrypoint",k.entrypoint);break;case c("AdsSlideshowOpenSlideshowDialogDataAction").actionType:h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_INTENT);break;case c("AdsSlideshowCloseSlideshowDialogDataAction").actionType:h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_CANCEL);break;case c("AdsSlideshowCreateDataAction").actionType:j=j.set("photoCount",Math.min(k.data.selectedImages.length,c("SlideshowConstants").max_photo_num));h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_POST);break;case c("AdsSlideshowImagesSelectConfirmDataAction").actionType:j=j.set("photoCount",c("AdsSelectedImagesStore").getNumberOfImages());h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_IMAGES_SELECT_CONFIRM);break;case c("AdsSlideshowImageRemoveDataAction").actionType:j=j.set("photoCount",c("AdsSelectedImagesStore").getNumberOfImages());h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_IMAGE_REMOVE);break;case c("AdsSlideshowAddVideoClickDataAction").actionType:j=j.set("isVideoPickerOpen",true).set("hasFrameImages",false).set("originalVideoID",null);h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_ADD_VIDEO_CLICK);break;case c("AdsSlideshowVideoPickerClosedDataAction").actionType:j=j.set("isVideoPickerOpen",false);break;case c("AdsVideoUploadStartDataAction").actionType:if(j.get("isVideoPickerOpen"))h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_VIDEO_UPLOAD_START);break;case c("AdsVideoUploadErrorDataAction").actionType:if(j.get("isVideoPickerOpen"))h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_VIDEO_UPLOAD_ERROR);break;case c("AdsSlideshowFetchFrameImagesDataAction").actionType:j=j.set("originalVideoID",k.videoID).set("isVideoPickerOpen",false);h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_FRAME_IMAGES_START);break;case c("AdsSlideshowFrameImagesSuccessDataAction").actionType:j=j.set("hasFrameImages",true).set("photoCount",c("AdsSelectedImagesStore").getNumberOfImages()).set("selectedTab",c("AdsSlideshowStore").getSelectedTab());h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_FRAME_IMAGES_SUCCESS);break;case c("AdsSlideshowFrameImagesFailureDataAction").actionType:h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_FRAME_IMAGES_ERROR);break;case c("AdsSlideshowStorylineMoodChangeDataAction").actionType:var l=c("AdsSlideshowAudioStore").getSelectedStorylineMood();if(l==null){j=j.set("selectedStorylineMoodID",null);h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_STORYLINE_MOOD_REMOVE)}else{j=j.set("selectedStorylineMoodID",l.moodID);h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_STORYLINE_MOOD_SELECT)}break;case c("AdsSlideshowStorylineMoodDeleteDataAction").actionType:j=j.set("deletedStorylineMoodID",k.storylineMood.moodID);h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_STORYLINE_MOOD_DELETE);break;case c("AdsSlideshowMusicCategorySelectDataAction").actionType:j=j.set("selectedMusicCategory",k.selectedMusicCategory);h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_MUSIC_CATEGORY_SELECT);break;case c("AdsSlideshowAudioFileUploadStartedDataAction").actionType:j=j.set("selectedMusicCategory",c("AdsSlideshowAudioStore").getSelectedMusicCategory());h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_AUDIO_UPLOAD_START);break;case c("AdsSlideshowAudioFileUploadErrorDataAction").actionType:h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_AUDIO_UPLOAD_ERROR);break;case c("AdsSlideshowAudioFileUploadSuccessDataAction").actionType:j=j.set("uploadedStorylineMoodID",k.uploadedMood.moodID);h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_AUDIO_UPLOAD_SUCCESS);break;case c("AdsSlideshowTransitionChangeDataAction").actionType:j=j.set("transitionInMS",c("AdsSlideshowStore").getTransitionInMS());h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_TRANSITION_CHANGE);break;case c("AdsSlideshowDurationChangeDataAction").actionType:j=j.set("durationInMS",c("AdsSlideshowStore").getDurationInMS());h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_DURATION_CHANGE);break;case c("AdsSlideshowFormatChangeDataAction").actionType:j=j.set("aspectRatioFormat",c("AdsSlideshowStore").getFormat());h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_FORMAT_CHANGE);break;case c("AdsSlideshowSelectTabDataAction").actionType:j=j.set("selectedTab",c("AdsSlideshowStore").getSelectedTab());h(j,c("SlideshowCreationWaterfallEvent").SLIDESHOW_TAB_CHANGE);break;case c("AdsSlideshowResetAllDataAction").actionType:j=new(c("AdsSlideshowLoggingStoreState"))();break;default:break}return j}f.exports=i}),null);
__d("FBCarouselArrow.react",["ix","cx","xuiglyph","CenteredContainer.react","Image.react","Locale","React","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){__p&&__p();var o,p;"use strict";for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$FBCarouselArrow1=function(){var t=h("88862"),u=h("88874");if(c("Locale").isRTL()){var v=[u,t];t=v[0];u=v[1]}return this.props.direction==="forward"?u:t}.bind(this),p}n.prototype.render=function(){"use strict";var o=c("joinClasses")(this.props.className,"_10sf"+(!!this.props.fullBleed?" _5x5-":"")+(this.props.direction==="forward"?" _5x5_":"")+(this.props.direction==="backward"?" _5x60":""));return c("React").createElement("div",babelHelpers["extends"]({},this.props,{className:o}),c("React").createElement(c("CenteredContainer.react"),{className:"_5x6d",vertical:true},c("React").createElement(c("Image.react"),{className:"_3-8w",src:this.$FBCarouselArrow1()})))};n.propTypes={direction:m.oneOf(["forward","backward"]).isRequired,fullBleed:m.bool};f.exports=n}),null);
__d("AdsArrowedContainer.react",["cx","invariant","CenteredContainer.react","FBCarouselArrow.react","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","Link.react","React"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){__p&&__p();var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$AdsArrowedContainer1=function(s){__p&&__p();var t,u;switch(s){case"backward":t=this.props.onDecrement!==null;u=this.props.onDecrement;break;case"forward":t=this.props.onIncrement!==null;u=this.props.onIncrement;break;default:i(0)}if(!t)return null;return c("React").createElement(c("Link.react"),{className:!this.props.isArrowCentered?"_3-8z":"",onClick:u},c("React").createElement(c("FBCarouselArrow.react"),{direction:s,fullBleed:s==="backward"}))}.bind(this),this.$AdsArrowedContainer2=function(s,t){if(t)if(this.props.isArrowCentered)return c("React").createElement(c("FBOverlayElement.react"),{horizontal:s},c("React").createElement(c("CenteredContainer.react"),{vertical:true},t));else return c("React").createElement(c("FBOverlayElement.react"),{horizontal:s},t);return null}.bind(this),o}m.prototype.render=function(){"use strict";var n=this.$AdsArrowedContainer1("backward"),o=this.$AdsArrowedContainer1("forward"),p=this.$AdsArrowedContainer2("left",n),q=this.$AdsArrowedContainer2("right",o);return c("React").createElement(c("FBOverlayContainer.react"),this.props,c("React").createElement(c("FBOverlayBase.react"),null,this.props.children),p,q)};m.propTypes={isArrowCentered:l.bool,onIncrement:l.func,onDecrement:l.func};f.exports=m}),null);
__d("AdsCarousel.react",["cx","Locale","React","ReactDOM","ResponsiveBlock.react","clamp","emptyFunction","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={computedOffset:0},this.$AdsCarousel5=function(r,s){this.$AdsCarousel1(this.props.index)}.bind(this),n}l.prototype.componentDidMount=function(){this.$AdsCarousel1(this.props.index)};l.prototype.componentDidUpdate=function(){this.$AdsCarousel1(this.props.index)};l.prototype.$AdsCarousel1=function(m){__p&&__p();if(!c("ReactDOM").findDOMNode(this))return;var n=c("ReactDOM").findDOMNode(this).offsetWidth,o=c("ReactDOM").findDOMNode(this.refs.inner).offsetWidth,p=Math.max(o-n,0),q=0;for(var r=0;r<m&&q<p;r++){var s=this.$AdsCarousel2(r);if(s)q+=s.offsetWidth}q=c("clamp")(q,0,p);if(q!==this.state.computedOffset)this.setState({computedOffset:q});else{var t=this.props.onUpdated;if(t)t(this.$AdsCarousel3())}};l.prototype.$AdsCarousel4=function(m){var n=0;for(var o=0;o<m;o++){var p=this.$AdsCarousel2(o);if(p)n+=p.offsetWidth}return n};l.prototype.$AdsCarousel2=function(m){var n=this.refs["child_"+m];return n?c("ReactDOM").findDOMNode(n):null};l.prototype.render=function(){var m=c("React").Children.map(this.props.children,function(p,q){return c("React").createElement("div",{className:"_2zgz",key:q,ref:"child_"+q},p)}),n=null;if(this.state.computedOffset){var o=String(-this.state.computedOffset)+"px";n=c("Locale").isRTL()?{right:o}:{left:o}}return c("React").createElement(c("ResponsiveBlock.react"),{onResize:this.$AdsCarousel5},c("React").createElement("div",babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_a28")}),c("React").createElement("div",{className:"_a2e",ref:"inner",style:n},m)))};l.prototype.$AdsCarousel3=function(){__p&&__p();var m=this.state.computedOffset+c("ReactDOM").findDOMNode(this).offsetWidth,n=this.$AdsCarousel4(this.props.index),o=0,p=this.props.index,q=null;while(q=this.$AdsCarousel2(p++))if(c("Locale").isRTL())if(n+q.offsetWidth<=m){o++;n+=q.offsetWidth}else break;else if(q.offsetLeft+q.offsetWidth<=m)o++;else break;return o};l.propTypes={index:k.number.isRequired,onUpdated:k.func};l.defaultProps={onUpdated:c("emptyFunction")};f.exports=l}),null);
__d("AdsArrowedCarouselEnhanced.react",["AdsArrowedContainer.react","AdsCarousel.react","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(){__p&&__p();var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={firstVisibleIndex:0,visibleChildrenCount:0},this.$AdsArrowedCarouselEnhanced1=function(q){return q<this.state.firstVisibleIndex}.bind(this),this.$AdsArrowedCarouselEnhanced2=function(q){var r=this.state.firstVisibleIndex+this.state.visibleChildrenCount-1;return q>r}.bind(this),this.$AdsArrowedCarouselEnhanced5=function(){var q=this.$AdsArrowedCarouselEnhanced4();this.setState({firstVisibleIndex:this.state.firstVisibleIndex-q})}.bind(this),this.$AdsArrowedCarouselEnhanced6=function(){var q=this.$AdsArrowedCarouselEnhanced3();this.setState({firstVisibleIndex:this.state.firstVisibleIndex+q})}.bind(this),this.$AdsArrowedCarouselEnhanced7=function(q){this.setState({visibleChildrenCount:q})}.bind(this),this.$AdsArrowedCarouselEnhanced3=function(){var q=this.state.visibleChildrenCount,r=c("React").Children.count(this.props.children)-this.state.firstVisibleIndex-q;if(r<=0)return 0;return Math.min(r,this.props.maxChangeAmount||1)}.bind(this),this.$AdsArrowedCarouselEnhanced4=function(){return Math.min(this.state.firstVisibleIndex,this.props.maxChangeAmount||1)}.bind(this),m}k.prototype.UNSAFE_componentWillReceiveProps=function(l){if(!l.currentSelectedShouldVisible)return;var m=l.currentSelectedIndex;if(this.$AdsArrowedCarouselEnhanced1(m))this.setState({firstVisibleIndex:m});else if(this.$AdsArrowedCarouselEnhanced2(m)){var n=this.state.firstVisibleIndex+this.state.visibleChildrenCount-1,o=m-n;this.setState({firstVisibleIndex:this.state.firstVisibleIndex+o})}};k.prototype.render=function(){var l=this.$AdsArrowedCarouselEnhanced3(),m=this.$AdsArrowedCarouselEnhanced4();return c("React").createElement(c("AdsArrowedContainer.react"),babelHelpers["extends"]({},this.props,{isArrowCentered:true,onDecrement:m?this.$AdsArrowedCarouselEnhanced5:null,onIncrement:l?this.$AdsArrowedCarouselEnhanced6:null}),c("React").createElement(c("AdsCarousel.react"),{index:this.state.firstVisibleIndex,onUpdated:this.$AdsArrowedCarouselEnhanced7},this.props.children))};k.propTypes={currentSelectedIndex:j.number,currentSelectedShouldVisible:j.bool,maxChangeAmount:j.number};k.defaultProps={currentSelectedIndex:0,currentSelectedShouldVisible:false,maxChangeAmount:1};f.exports=k}),null);
__d("AdsEditInlinePostWarning.react",["React","SUIBusinessTheme","SUINotice.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;k.prototype.render=function(){if(!this.props.message)return null;return c("React").createElement("div",{className:this.props.className},c("React").createElement(c("SUINotice.react"),{theme:c("SUIBusinessTheme"),type:"information"},this.props.message))};function k(){h.apply(this,arguments)}k.propTypes={className:j.string,message:j.node};f.exports=k}),null);
__d("AdsImageCollection",["invariant","AdsImageCollectionViews","ArbiterMixin","mixin"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("mixin")(c("ArbiterMixin")));j=i&&i.prototype;function k(l){j.constructor.call(this);l=Object.assign({maxSelectedImages:1},l);this.$AdsImageCollection1=l.maxSelectedImages;this.$AdsImageCollection1%1===0||h(0);this.reset()}k.prototype.reset=function(){this.$AdsImageCollection2=[];this.$AdsImageCollection3={};this.$AdsImageCollection4=[]};k.prototype.addImagesToFront=function(l,m){this.$AdsImageCollection5(l);this.$AdsImageCollection6(l,0,m)};k.prototype.addImagesToBack=function(l,m){this.$AdsImageCollection5(l);this.addImagesToBack_UNSAFE(l,m)};k.prototype.addImagesToBack_UNSAFE=function(l,m){this.$AdsImageCollection6(l,this.$AdsImageCollection2.length,m)};k.prototype.$AdsImageCollection6=function(l,m,n){__p&&__p();c("AdsImageCollectionViews").assertIsValidView(n);var o=l.filter(function(p){var q=this.$AdsImageCollection3[p.getUniqueIdentifier()];if(q){q.view=n;return false}else{this.$AdsImageCollection3[p.getUniqueIdentifier()]={selected:false,view:n,image:p};return true}}.bind(this),this);Array.prototype.splice.apply(this.$AdsImageCollection2,[m,0].concat(o));this.inform("onChange")};k.prototype.$AdsImageCollection5=function(l){l.forEach(function(m){var n=this.$AdsImageCollection3[m.getUniqueIdentifier()];if(n)0===(n.view&c("AdsImageCollectionViews").views.ALL)||h(0)}.bind(this))};k.prototype.isImageSelected=function(l){return!!this.$AdsImageCollection3[l.getUniqueIdentifier()].selected};k.prototype.toggleImageSelected=function(l){var m=!this.isImageSelected(l);this.setImageSelected(l,m);return m};k.prototype.setImageSelected=function(l,m){var n=this.$AdsImageCollection7(l,m);n&&this.inform("onChange")};k.prototype.setImagesSelected=function(l,m){var n=void 0;for(var o=0,p=l.length;o<p;o++)if(this.$AdsImageCollection7(l[o],m))n=true;n&&this.inform("onChange")};k.prototype.$AdsImageCollection7=function(l,m){__p&&__p();l=this.$AdsImageCollection3[l.getUniqueIdentifier()].image;this.assertHasImage(l);if(m===this.isImageSelected(l))return false;if(m)this.$AdsImageCollection4.push(l);else this.$AdsImageCollection4=this.$AdsImageCollection4.filter(function(o){return!l.equals(o)});this.$AdsImageCollection3[l.getUniqueIdentifier()].selected=m;if(this.$AdsImageCollection1>0)while(this.getSelectedImageCount()>this.$AdsImageCollection1){var n=this.$AdsImageCollection4.shift();this.$AdsImageCollection3[n.getUniqueIdentifier()].selected=false}return true};k.prototype.setMaxSelectableImages=function(l){for(var m=l;m<this.getSelectedImageCount();m++){var n=this.$AdsImageCollection4[m];this.$AdsImageCollection3[n.getUniqueIdentifier()].selected=false}this.$AdsImageCollection1=l};k.prototype.deselectAllImages=function(){if(!this.hasSelectedImages())return;this.getSelectedImages().forEach(function(l){this.$AdsImageCollection3[l.getUniqueIdentifier()].selected=false},this);this.$AdsImageCollection4=[];this.inform("onChange")};k.prototype.clearImagesByViewBitmask=function(l){__p&&__p();c("AdsImageCollectionViews").assertIsValidViewBitmask(l);var m=false;this.$AdsImageCollection2=this.$AdsImageCollection2.filter(function(n){__p&&__p();var o=0!==(l&this.$AdsImageCollection3[n.getUniqueIdentifier()].view);if(o){m=true;if(this.isImageSelected(n)){this.$AdsImageCollection3[n.getUniqueIdentifier()].view=c("AdsImageCollectionViews").views.INVISIBLE;o=false}else delete this.$AdsImageCollection3[n.getUniqueIdentifier()]}return!o}.bind(this),this);if(m)this.inform("onChange")};k.prototype.hasImage=function(l){return this.$AdsImageCollection3[l.getUniqueIdentifier()]!==undefined};k.prototype.hasImageInView=function(l,m){var n=this.$AdsImageCollection3[l.getUniqueIdentifier()];return!!n&&(n.view&m)!==0};k.prototype.assertHasImage=function(l){this.hasImage(l)||h(0)};k.prototype.getSelectedImages=function(){return this.$AdsImageCollection4.slice(0)};k.prototype.getSelectedImageCount=function(){return this.$AdsImageCollection4.length};k.prototype.hasSelectedImages=function(){return this.getSelectedImageCount()!==0};k.prototype.getImageByIndex=function(l){return this.$AdsImageCollection2[l]};k.prototype.getImageByUniqueID=function(l){return this.$AdsImageCollection3[l]&&this.$AdsImageCollection3[l].image};k.prototype.getImages=function(l){c("AdsImageCollectionViews").assertIsValidViewBitmask(l);return this.$AdsImageCollection2.filter(function(m){return 0!==(l&this.$AdsImageCollection3[m.getUniqueIdentifier()].view)}.bind(this),this)};k.prototype.getImageCount=function(l){return this.getImages(l).length};k.prototype.isEmpty=function(){return this.getImageCount(c("AdsImageCollectionViews").views.ALL)===0};f.exports=k}),null);
__d("AdsImageSecondaryActions",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({X:null});f.exports=h}),null);
__d("AdsImageUploadStartDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"IMAGE_UPLOAD.START");f.exports=h}),null);
__d("AdsImageUploadUploadSuccessDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"IMAGE_UPLOAD.UPLOAD_SUCCESS");f.exports=h}),null);
__d("AdsMediaLibraryExpandedAsset.react",["cx","Image.react","Keys","React","ReactDOM"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes,l=24;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$AdsMediaLibraryExpandedAsset1=function(s){if(s.keyCode===c("Keys").ESC)this.props.onClickClose()}.bind(this),this.$AdsMediaLibraryExpandedAsset2=function(s){this.props.onClickClose();s.stopPropagation()}.bind(this),o}m.prototype.componentDidMount=function(){"use strict";c("ReactDOM").findDOMNode(this.refs.expandedAssetView).focus()};m.prototype.render=function(){"use strict";__p&&__p();var n=this.props.width,o=this.props.height,p={},q=window.innerHeight,r=window.innerWidth;if(n>r||o>q)if(n/r>o/q){n=r;o=this.props.height*(r/this.props.width);p.width=n}else{o=q;n=this.props.width*(q/this.props.height);p.height=o}else p.width=this.props.width;var s=-Math.floor(n/2),t=this.props.topBarHeight||0,u=-Math.floor(o/2)+t+l,v=c("React").createElement("div",{className:"_4-lr",style:{marginLeft:s,marginTop:u}},c("React").createElement(c("Image.react"),{alt:this.props.source,className:"_4vnf",src:this.props.source,style:p})),w=c("React").createElement("div",{className:"_1zn8",style:{marginLeft:-(s+15),marginTop:u-20}});return c("React").createElement("div",{className:"_1zn6",ref:"expandedAssetView",role:"button",tabIndex:0,onClick:this.$AdsMediaLibraryExpandedAsset2,onKeyDown:this.$AdsMediaLibraryExpandedAsset1},c("React").createElement("div",{className:"_4-ls"}),v,w)};m.propTypes={height:k.number.isRequired,onClickClose:k.func.isRequired,source:k.string.isRequired,topBarHeight:k.number,width:k.number.isRequired};f.exports=m}),null);
__d("GradientBox.react",["cx","React","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes,l={up:"_344j",left:"_344k",down:"_344l",right:"_344m"},m={white:"_344n",black:"_344o"};i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;n.prototype.render=function(){"use strict";var o=c("joinClasses")(l[this.props.direction],m[this.props.color]);return c("React").createElement("div",babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,o)}))};function n(){"use strict";i.apply(this,arguments)}n.propTypes={direction:k.oneOf(["up","down","right","left"]),color:k.oneOf(["black","white"])};n.defaultProps={direction:"right",color:"black"};f.exports=n}),null);
__d("AdsMediaPanelImageBox.react",["cssVar","cx","errorCode","fbt","AdsBuyingTypes","AdsError","AdsErrorUtils","AdsImageLegacy","AdsImageValidation","AdsInstagramErrorUtils","AdsInstagramFields","AdsPageTypes","AdsStockImageSourceUtils","AdsTestIDs","AdsValidationIcon.react","AdsValidationIconType","BackgroundImage.react","ContextualDialog.react","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","GradientBox.react","InstagramImageResolutionExperiment","Link.react","LoadObject","React","ReactDOM","ReactLayeredComponentMixin_DEPRECATED","SphericalMediaGyroIcon.react","SUIBusinessTheme","SUISpinner.react","debounce","getElementPosition","getViewportDimensions","joinClasses"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l=c("AdsStockImageSourceUtils").MAX_STOCK_IMAGE_WIDTH,m=c("AdsStockImageSourceUtils").MAX_STOCK_IMAGE_HEIGHT,n=c("React").PropTypes,o=parseInt("110px",10),p=parseInt("58px",10),q=p,r=p,s=20,t=c("AdsInstagramFields").INSTAGRAM_SPECIFIC_IMAGE_ERROR_KEYS,u={"default":null,disabled:null,selected:"_5ywk",removable:"_5ywl"},v=c("React").createClass({displayName:"AdsMediaPanelImageBox",mixins:[c("ReactLayeredComponentMixin_DEPRECATED")],propTypes:{alt:n.string,buyingTypes:n.arrayOf(n.oneOf(Object.keys(c("AdsBuyingTypes")))),decoration:n.oneOf(Object.keys(u)),disableDimensionInfo:n.bool,image:n.instanceOf(c("AdsImageLegacy")).isRequired,imageResolutionQE:n.instanceOf(c("LoadObject")),imageSpec:n.object,isTooSmall:n.bool,igSpecificImageSpec:n.object,scaleImageFactor:n.number,useMediaPanelRedesign:n.bool,onDecorationIconClick:n.func,onImageClick:n.func,onImageDoubleClick:n.func},getDefaultProps:function w(){return{decoration:"default",isTooSmall:false}},getInitialState:function w(){return{errorLevel:c("AdsError").Level.SUCCESS,imageReady:this.props.image.hasDimensions(),previewShown:false,hovering:false,isValidForFacebook:true}},_isDisabled:function w(){return this.props.decoration==="disabled"},_mayClickImages:function w(){if(this._isDisabled())return false;if(!this.props.isTooSmall||this.state.errorLevel!==c("AdsError").Level.WARN)return true;return this.state.isValidForFacebook},_getOnImageClick:function w(){return this._mayClickImages()?this.props.onImageClick:null},_getOnImageDoubleClick:function w(){return this._mayClickImages()?this.props.onImageDoubleClick:null},_mayShowPreviews:function w(){return!this._isDisabled()&&this.props.image.isStockImage()},_getOnImageMouseEnter:function w(){return this._mayShowPreviews()?this._showPreview:null},_getOnImageMouseLeave:function w(){return this._mayShowPreviews()?this._hidePreview:null},_showPreview:function w(){this._resetSchedulePreviewHide();this.setState({previewShown:true})},_hidePreview:function w(){this._resetSchedulePreviewHide();this.setState({previewShown:false})},_onImageDimensionsReady:function w(){if(this.isMounted())this.setState({imageReady:true})},UNSAFE_componentWillReceiveProps:function w(x){if(x.image.equals(this.props.image))return;var y=x.image.hasDimensions();this.setState({imageReady:y});if(!y)x.image.setDimensionsReadyCallback(this._onImageDimensionsReady)},UNSAFE_componentWillMount:function w(){this._setSchedulePreviewHide(c("debounce")(this._hidePreview,s));if(!this.state.imageReady)this.props.image.setDimensionsReadyCallback(this._onImageDimensionsReady);if(this.props.imageSpec)this.props.image.resetValidation(this.props.imageSpec.placement);if(this.props.igSpecificImageSpec)this.props.image.resetValidation(this.props.igSpecificImageSpec.placement)},componentWillUnmount:function w(){this._resetSchedulePreviewHide();this._setSchedulePreviewHide(null)},_setSchedulePreviewHide:function w(x){var y=this;y._schedulePreviewHide=x},_resetSchedulePreviewHide:function w(){var x=this;x._schedulePreviewHide.reset()},_renderDecorationIcon:function w(){var x=this.props.onDecorationIconClick;return c("React").createElement(c("Link.react"),{className:"_40hk",tabIndex:x?null:-1,onClick:x,onMouseEnter:this._getOnImageMouseEnter(),onMouseLeave:this._getOnImageMouseLeave()},c("React").createElement("div",{className:"_5ywm"}))},_renderOverlay:function w(){if(!this._isDisabled())return null;return c("React").createElement("div",{className:"_29wz"})},_renderImage:function w(){__p&&__p();var x=this.props.image,y=this._calculateImageDimensions(),z=x.calculatedWidth,A=x.calculatedHeight,B=x.renderedWidth,C=x.renderedHeight,D=null,E=null,F=null;if(this.props.isTooSmall){D=this._renderErrorIcon();E=this._renderDimensionInfo();F=this._renderOverlayGradient()}else if(this.state.hovering){E=this._renderDimensionInfo();F=this._renderOverlayGradient()}var G=x.getThumbnailUrl()||x.getUrl(),H=C||A||y.height,I=B||z||y.width;if(this.props.useMediaPanelRedesign)G=x.getHighResThumbnailUrl()||G;if(this.props.scaleImageFactor&&this.props.useMediaPanelRedesign){H*=this.props.scaleImageFactor;I*=this.props.scaleImageFactor}var J=null;if(x.getIsSphericalPhoto())J=this._renderSphericalGyroIcon();return c("React").createElement(c("FBOverlayContainer.react"),{className:"_29w-"},c("React").createElement(c("FBOverlayBase.react"),null,c("React").createElement("div",{className:!x.isStockImage()?"_5ywo":""},c("React").createElement(c("BackgroundImage.react"),{alt:this.props.alt,backgroundPosition:"0px",backgroundSize:"cover",height:H,loadingIndicatorStyle:"small",optimizeResizeSpeed:true,ref:"image",src:G,style:this._getImageStyle(),width:I}))),F,c("React").createElement(c("FBOverlayElement.react"),{vertical:"bottom"},c("React").createElement("div",{className:"_20-u"},E,D,J)))},_renderOverlayGradient:function w(){if(this.props.disableDimensionInfo)return null;return c("React").createElement(c("FBOverlayElement.react"),{vertical:"bottom"},c("React").createElement(c("GradientBox.react"),{className:"_2_4q",color:"black",direction:"up"}))},_renderDimensionInfo:function w(){if(this.props.disableDimensionInfo)return null;var x=this.props.image.isStockImage()?this._calculateFullSizeStockImageDimensions():this._getImageDimensions();return k._("{width} \u00d7 {height}",[k._param("width",x.width),k._param("height",x.height)])},_renderErrorIcon:function w(){__p&&__p();var x=[];if(this.props.imageSpec)x.push(this.props.imageSpec);if(this.props.igSpecificImageSpec)x.push(this.props.igSpecificImageSpec);var y=c("AdsImageValidation").getAdsErrorsForImage(this.props.image,x,this.props.buyingTypes,this.props.imageResolutionQE&&this.props.imageResolutionQE.getValue());if(!y||y.length===0)return null;var z=this.props.imageSpec&&this.props.imageSpec.placement!==c("AdsPageTypes").INSTAGRAM_STREAM&&this.props.imageSpec.placement!==c("AdsPageTypes").INSTAGRAM_STORY&&y.every(function(B){return B.key!==1487015});if(z!==this.state.isValidForFacebook)this.setState({isValidForFacebook:z});var A=c("AdsErrorUtils").getLevelForErrors(y);if(A!==this.state.errorLevel)this.setState({errorLevel:A});y=c("AdsErrorUtils").getAllErrorsAtLevel(y,A);return c("React").createElement(c("AdsValidationIcon.react"),{className:"_20-v",isError:A===c("AdsError").Level.WARN,messages:this._getErrorMessages(y,A),type:A===c("AdsError").Level.WARN?c("AdsValidationIconType").ERROR_IMAGE:c("AdsValidationIconType").WARNING})},_getErrorMessages:function w(x,y){__p&&__p();var z=x.filter(function(C){return!t.has(C.key)}).map(function(C){return C.message}),A=x.filter(function(C){return t.has(C.key)}),B=void 0;if(A.length>0)if(c("InstagramImageResolutionExperiment").useHighResolution(this.props.imageResolutionQE&&this.props.imageResolutionQE.getValue(),y,this.props.buyingTypes))B=c("AdsInstagramErrorUtils").getCombinedErrorMessageForImageExperiment(A);else B=c("AdsInstagramErrorUtils").getCombinedErrorMessage(x.filter(function(C){return t.has(C.key)}),y);B&&z.push(B);return z},_renderSphericalGyroIcon:function w(){return c("React").createElement(c("SphericalMediaGyroIcon.react"),{className:"_4d75"})},render:function w(){if(this.props.imageResolutionQE&&this.props.imageResolutionQE.isLoading())return c("React").createElement(c("SUISpinner.react"),{size:"small",theme:c("SUIBusinessTheme")});var x="_5ywp"+(this.props.useMediaPanelRedesign?" _40hl":"");return c("React").createElement("div",{className:x},c("React").createElement("div",{className:c("joinClasses")("_1997",u[this.props.decoration],this.props.className),onMouseEnter:function(){return this.setState({hovering:true})}.bind(this),onMouseLeave:function(){return this.setState({hovering:false})}.bind(this)},c("React").createElement(c("Link.react"),{className:"_5ywq","data-test-decoration":this.props.decoration,"data-testid":c("AdsTestIDs").IMAGE_BOX,tabIndex:this.props.onImageClick?null:-1,onClick:this._getOnImageClick(),onDoubleClick:this._getOnImageDoubleClick(),onMouseEnter:this._getOnImageMouseEnter(),onMouseLeave:this._getOnImageMouseLeave()},this._renderImage()),this._renderOverlay(),this._renderDecorationIcon()))},renderLayers:function w(){var x=this.props.image,y=this._mayShowPreviews()&&this.state.previewShown,z=x.getPreviewWidth(),A=x.getPreviewHeight(),B=null;if(!y)return{};var C={height:String(A)+"px",width:String(z)+"px"},D=c("getElementPosition")(c("ReactDOM").findDOMNode(this)),E=c("getViewportDimensions")(),F=D.x,G=E.width-D.x-D.width;B=F>G?"left":"right";return{preview:c("React").createElement(c("ContextualDialog.react"),{autoFocus:false,contextRef:function(){return this.refs.image}.bind(this),position:B,shown:true,style:C},c("React").createElement(c("BackgroundImage.react"),{backgroudSize:"cover",backgroundPosition:"0px",height:A,loadingIndicatorStyle:"large",optimizeResizeSpeed:true,src:x.getPreviewUrl(),width:z}))}},_getSizeMultiplier:function w(x,y,z){return Math.min(y/x.width,z/x.height)},_getStockImageSizeMultiplier:function w(){return this._getSizeMultiplier(this._getStockImageVisibleDimensions(),o,p)},_fitDimensions:function w(x,y,z){var A=this._getSizeMultiplier(x,y,z);return{height:Math.floor(x.height*A),width:Math.floor(x.width*A)}},_getImageStyle:function w(){var x=this.props.image;if(!x.isStockImage()||!this.state.imageReady)return null;var y=this._getStockImageVisibleDimensions(),z=this._getImageDimensions(),A={height:z.height-y.height,width:z.width-y.width},B=this._getStockImageSizeMultiplier(),C={};if(A.height>0)C.marginBottom=String(Math.ceil(A.height*-B))+"px";if(A.width>0)C.marginRight=String(Math.ceil(A.width*-B))+"px";return C},_getImageDimensions:function w(){return{height:this.props.image.height,width:this.props.image.width}},_getNonStockImageDimensions:function w(){return{height:this.props.image.getThumbnailHeight()||this.props.image.height,width:this.props.image.getThumbnailWidth()||this.props.image.width}},_getStockImageVisibleDimensions:function w(){return{height:this.props.image.getThumbnailHeight(),width:this.props.image.getThumbnailWidth()}},_calculateImageDimensions:function w(){return this.props.image.isStockImage()?this._calculateStockImageDimensions():this._calculateNonStockImageDimensions()},_calculateNonStockImageDimensions:function w(){if(!this.state.imageReady)return{height:r,width:q};return this._fitDimensions(this._getNonStockImageDimensions(),o,p)},_calculateStockImageDimensions:function w(){if(!this.state.imageReady)return this._fitDimensions(this._getStockImageVisibleDimensions(),o,p);var x=this._getImageDimensions(),y=this._getStockImageSizeMultiplier();return{height:Math.floor(x.height*y),width:Math.floor(x.width*y)}},_calculateFullSizeStockImageDimensions:function w(){var x=this.props.image;if(x.hasFullSizeDimensions())return{height:x.getFullSizeHeight(),width:x.getFullSizeWidth()};var y=x.getPreviewWidth(),z=x.getPreviewHeight(),A=Math.min(l/y,m/z);return{height:Math.round(z*A),width:Math.round(y*A)}}});f.exports=v}),null);
__d("AdsMediaPanelImageBoxContainer.react",["AdsFluxContainer","AdsMediaPanelImageBox.react","AdsQEStore","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").Component;h=babelHelpers.inherits(k,j);i=h&&h.prototype;k.getStores=function(){return[c("AdsQEStore")]};k.calculateState=function(){var l=c("AdsQEStore").getForCurrentUser("ads_increase_fb_image_resolution");return{imageResolutionQE:l}};k.prototype.render=function(){return c("React").createElement(c("AdsMediaPanelImageBox.react"),babelHelpers["extends"]({},this.props,{imageResolutionQE:this.state.imageResolutionQE}))};function k(){h.apply(this,arguments)}f.exports=c("AdsFluxContainer").create(k,{withProps:true,name:f.id})}),null);
__d("AdsMediaStandaloneLibraryImageWithDimensions.react",["cx","fbt","AdsImageLegacy","AdsValidationIcon.react","AdsValidationIconType","BackgroundImage.react","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","React","ShimButton.react","SphericalMediaGyroIcon.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m={height:600,width:200},n={height:400,width:400},o=function o(q){if(!q.image.getIsSphericalPhoto())return null;return c("React").createElement(c("SphericalMediaGyroIcon.react"),{className:"_62-d"})};j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;function p(){__p&&__p();var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.state={thumbnailLoaded:false},this.$AdsMediaStandaloneLibraryImageWithDimensions3=function(v){var w=v.getWidth(),x=v.getHeight();return c("React").createElement("div",{className:"_1byh"},c("React").createElement(c("ShimButton.react"),{className:"_1byi",inline:true,onClick:this.$AdsMediaStandaloneLibraryImageWithDimensions4},c("React").createElement(c("AdsValidationIcon.react"),{className:"_1byj",type:c("AdsValidationIconType").LARGE_IMAGE}),c("React").createElement("span",{className:"_1byk"},i._("{width} \u00d7 {height}",[i._param("width",w),i._param("height",x)]))))}.bind(this),this.$AdsMediaStandaloneLibraryImageWithDimensions2=function(){this.setState({thumbnailLoaded:true})}.bind(this),this.$AdsMediaStandaloneLibraryImageWithDimensions4=function(v){v.stopPropagation();this.props.onExpandClick(this.props.image)}.bind(this),this.$AdsMediaStandaloneLibraryImageWithDimensions1=function(){if(!this.props.imageReady)return n;return this.$AdsMediaStandaloneLibraryImageWithDimensions5(this.$AdsMediaStandaloneLibraryImageWithDimensions6(),m)}.bind(this),this.$AdsMediaStandaloneLibraryImageWithDimensions6=function(){return{height:this.props.image.getThumbnailHeight()||this.props.image.height,width:this.props.image.getThumbnailWidth()||this.props.image.width}}.bind(this),this.$AdsMediaStandaloneLibraryImageWithDimensions5=function(v,w){var x=this.$AdsMediaStandaloneLibraryImageWithDimensions7(v,w);return{height:Math.floor(v.height*x),width:Math.floor(v.width*x)}}.bind(this),this.$AdsMediaStandaloneLibraryImageWithDimensions7=function(v,w){return Math.min(w.width/v.width,w.height/v.height,1)},r}p.prototype.render=function(){var q=this.props.image,r=this.$AdsMediaStandaloneLibraryImageWithDimensions1(),s=q.calculatedWidth,t=q.calculatedHeight,u=this.state.thumbnailLoaded?q.getUrl():q.getThumbnailUrl();return c("React").createElement(c("FBOverlayContainer.react"),{className:"_1bye"},c("React").createElement(c("FBOverlayBase.react"),null,c("React").createElement("div",null,c("React").createElement(c("BackgroundImage.react"),{alt:this.props.alt,backgroundPosition:0,backgroundSize:"cover",className:"_2vjn",height:t||r.height,loadingIndicatorStyle:"small",optimizeResizeSpeed:true,src:u,width:s||r.width,onImageLoad:this.$AdsMediaStandaloneLibraryImageWithDimensions2}))),c("React").createElement(c("FBOverlayElement.react"),{vertical:"bottom"},this.$AdsMediaStandaloneLibraryImageWithDimensions3(q)),c("React").createElement(c("FBOverlayElement.react"),null,c("React").createElement(o,{image:q})))};p.propTypes={alt:l.string,image:l.instanceOf(c("AdsImageLegacy")).isRequired,imageReady:l.bool};f.exports=p}),null);
__d("AssetLibraryUITab",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({AUDIENCE:"audience",LOCATIONS:"locations",MEDIA:"media",VIDEO:"video"})}),null);
__d("AssetLibraryAppConstants.brands",["AssetLibraryUITab"],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({SET_INITIAL_CONTEXT:"set_initial_context",UPDATE_CONTEXT:"update_context",ADD_TAG_TO_OBJECT_SUCCESS:"add_tag_to_object_success",ADD_TAG_TO_OBJECT_ERROR:"add_tag_to_object_error",EDIT_OBJECT_TAGS_SUCCESS:"edit_object_tags_success",EDIT_OBJECT_TAGS_ERROR:"edit_object_tags_error",ADD_TAGS:"add_tags",INIT_TAG:"init_tag",FETCH_TAG_ERROR:"fetch_tag_error",CREATE_TAG_START:"create_tag_start",CREATE_TAG_SUCCESS:"create_tag_success",CREATE_TAG_ERROR:"create_tag_error",DELETE_TAG_SUCCESS:"delete_tag_success",DELETE_TAG_ERROR:"delete_tag_error",RENAME_TAG_START:"rename_tag_start",RENAME_TAG_SUCCESS:"rename_tag_success",RENAME_TAG_ERROR:"rename_tag_error",SET_SEARCH_TEXT:"set_search_text",SET_SEARCH_TAG:"set_search_tag",SET_SEARCH_FOLDER:"set_search_folder",CLEAR_SEARCH:"clear_search",SEARCH_ACROSS_ASSETS_START:"search_across_assets_start",SEARCH_ACROSS_ASSETS_SUCCESS:"search_across_assets_success",SEARCH_ACROSS_ASSETS_ERROR:"search_across_assets_error",SEARCH_ACROSS_ASSETS_CLEAR:"search_across_assets_clear",INIT_SMART_FOLDER:"init_smart_folder",FETCH_SMART_FOLDER_ERROR:"fetch_smart_folder_error",INIT_TABLE_ENTRY:"init_table_entry",FETCH_TABLE_ENTRY:"fetch_table_entry",FETCH_TABLE_ENTRY_ERROR:"fetch_table_entry_error",TABLE_SORT_CHANGED:"table_sort_changed",TOGGLE_LEFT_NAV:"toggle_left_nav",TABLE_TOGGLE_SELECTION:"table_toggle_selection",TABLE_SELECT_ALL_ENTRIES:"table_select_all_entries",TABLE_DESELECT_ALL_ENTRIES:"table_deselect_all_entries",REFRESH_TABLE:"refresh_table",TABLE_REFRESHED:"table_refreshed",DELETE_IMAGES_START:"delete_images_start",DELETE_IMAGES_SUCCESS:"delete_images_success",DELETE_IMAGES_ERROR:"delete_images_error",DELETE_IMAGES_CANCELED:"DELETE_IMAGES_CANCELED"}),i=c("AssetLibraryUITab"),j=Object.freeze({NAME:"name",TAG:"tag",CREATE:"create"}),k=Object.freeze({NAME:"name",LABEL:"label",FOLDER:"folder"}),l=200,m=44;f.exports={ACTION:h,ACTION_BAR_HEIGHT:m,DEFAULT_API_LIMIT:l,SEARCH_TYPES:k,SEARCH_RESULT_TYPES:j,TABS:i}}),null);
__d("Tag.brands",["cx","fbt","BUIAdoptionCloseButton.react","React","SUISpinner.react","AssetLibraryAppConstants.brands","curry","emptyFunction","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("AssetLibraryAppConstants.brands").SEARCH_RESULT_TYPES,k=function k(m){var n=m.className,o=m.tag,p=m.onRemove;return c("React").createElement("div",{className:c("joinClasses")("_4r1y",n)},c("React").createElement("div",{className:"_4r1-"},c("React").createElement("span",{className:"_4r1_"},o.name),c("React").createElement(c("BUIAdoptionCloseButton.react"),{className_DEPRECATED:"_3-8_"+(!p?" hidden_elem":""),label:i._("Remove"),onClick:p?c("curry")(p,o):c("emptyFunction"),size:"small"})))},l=function l(m){var n=m.entry,o=m.onRemove,p=babelHelpers.objectWithoutProperties(m,["entry","onRemove"]),q=function q(r){o(n)};if(n.getType()===j.CREATE)return c("React").createElement(c("SUISpinner.react"),{className:"_1foc",size:"small"});return c("React").createElement(k,babelHelpers["extends"]({tag:{id:n.getUniqueID(),name:n.getTitle()},onRemove:q},p))};k.FromSearchableEntry=l;f.exports=k}),null);
__d("AssetLibraryImageTags.brands",["cx","fbt","LayerHideOnBlur","Link.react","React","ContextualDialog.react","Tag.brands"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=5;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n)}m.prototype.render=function(){__p&&__p();var n=this.props.tagData||[];if(n.length>0){var o=n.slice(0,l),p=this.$AssetLibraryImageTags1(o),q=null;if(n.length>l){var r=n.slice(l),s=this.$AssetLibraryImageTags1(r),t=n.length-l;q=c("React").createElement("span",null,c("React").createElement(c("Link.react"),{ref:"showMoreLink"},i._({"*":"and {count} others"},[i._param("count",t,[0])])),c("React").createElement(c("ContextualDialog.react"),{behaviors:{LayerHideOnBlur:c("LayerHideOnBlur")},contextRef:function(){return this.refs.showMoreLink}.bind(this),hoverContextRef:function(){return this.refs.showMoreLink}.bind(this),position:"right"},c("React").createElement("div",{className:"_2rxe"},s)))}return c("React").createElement("div",{className:"_2rxf"},p,q)}return null};m.prototype.$AssetLibraryImageTags1=function(n){return n.map(function(o){return c("React").createElement(c("Tag.brands"),{className:"mrs mbs",key:o.id,tag:o})})};f.exports=m}),null);
__d("AdsMediaStandaloneLibraryMetadataImage.react",["cx","fbt","AdsImageLegacy","AdsMediaStandaloneLibraryImageWithDimensions.react","AssetLibraryImageTags.brands","Link.react","React","URI"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l,m,n=c("React").PropTypes;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.$AdsMediaStandaloneLibraryMetadataImage1=function(){return this.props.image.business_object_tags&&this.props.image.business_object_tags.data||[]}.bind(this),r}o.prototype.render=function(){var q=this.props.image,r=new(c("URI"))(q.getUrl()).addQueryData({dl:1}),s=null,t=this.$AdsMediaStandaloneLibraryMetadataImage1();if(t.length>0)s=c("React").createElement(p,{propertyKey:i._("Labels:"),propertyValue:c("React").createElement(c("AssetLibraryImageTags.brands"),{tagData:this.$AdsMediaStandaloneLibraryMetadataImage1()})});return c("React").createElement("div",{className:"_35qj"},c("React").createElement("div",{className:"_35qk"},c("React").createElement(c("AdsMediaStandaloneLibraryImageWithDimensions.react"),{image:q,imageReady:this.props.imageReady,onExpandClick:this.props.onExpandClick})),c("React").createElement("div",{className:"_35ql"},c("React").createElement(p,{propertyKey:i._("Name:"),propertyValue:q.name}),c("React").createElement(p,{propertyKey:i._("Hash:"),propertyValue:c("React").createElement(c("Link.react"),{href:r},q.getAdAccountHash())}),s))};o.propTypes={alt:n.string,image:n.instanceOf(c("AdsImageLegacy")).isRequired,imageReady:n.bool.isRequired,onExpandClick:n.func.isRequired};l=babelHelpers.inherits(p,c("React").Component);m=l&&l.prototype;p.prototype.render=function(){return c("React").createElement("div",{className:"_35qo"},c("React").createElement("div",{className:"_35qp"},this.props.propertyKey)," ",c("React").createElement("div",{className:"_35qq"},this.props.propertyValue))};function p(){l.apply(this,arguments)}p.propTypes={propertyKey:n.node.isRequired,propertyValue:n.node.isRequired};f.exports=o}),null);
__d("AdsMediaStandaloneLibrarySelectableImage.react",["cx","AdsImageLegacy","AdsMediaStandaloneLibraryImageWithDimensions.react","Link.react","React","emptyFunction","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l={"default":null,disabled:null,selected:"_1byd"};i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$AdsMediaStandaloneLibrarySelectableImage1=function(){return c("React").createElement(c("Link.react"),{className:"_1byl"})},o}m.prototype.render=function(){return c("React").createElement("div",{className:"_1bym"},c("React").createElement("div",{className:c("joinClasses")(l[this.props.decoration],this.props.className)},c("React").createElement(c("Link.react"),{className:"_1byn",tabIndex:this.props.onImageClick?null:-1,onClick:this.props.onImageClick},c("React").createElement(c("AdsMediaStandaloneLibraryImageWithDimensions.react"),{image:this.props.image,imageReady:this.props.imageReady,onExpandClick:this.props.onExpandClick,onImageClick:this.props.onImageClick})),this.$AdsMediaStandaloneLibrarySelectableImage1()))};m.propTypes={alt:k.string,decoration:k.oneOf(Object.keys(l)).isRequired,image:k.instanceOf(c("AdsImageLegacy")).isRequired,imageReady:k.bool,onExpandClick:k.func.isRequired,onImageClick:k.func.isRequired};m.defaultProps={decoration:"default",onExpandClick:c("emptyFunction"),onImageClick:c("emptyFunction")};f.exports=m}),null);
__d("AdsMediaStandaloneLibraryImage.react",["cx","AdsImageLegacy","AdsMediaStandaloneLibraryMetadataImage.react","AdsMediaStandaloneLibrarySelectableImage.react","React","emptyFunction"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={imageReady:this.props.image.hasDimensions()},this.$AdsMediaStandaloneLibraryImage1=function(){this.setState({imageReady:true})}.bind(this),this.$AdsMediaStandaloneLibraryImage2=function(){return c("React").createElement(c("AdsMediaStandaloneLibraryMetadataImage.react"),{alt:this.props.alt,image:this.props.image,imageReady:this.state.imageReady,onExpandClick:this.props.onExpandClick})}.bind(this),this.$AdsMediaStandaloneLibraryImage3=function(){return c("React").createElement(c("AdsMediaStandaloneLibrarySelectableImage.react"),{alt:this.props.alt,decoration:this.props.decoration,image:this.props.image,imageReady:this.state.imageReady,onExpandClick:this.props.onExpandClick,onImageClick:this.props.onImageClick})}.bind(this),n}l.prototype.UNSAFE_componentWillReceiveProps=function(m){if(m.image.equals(this.props.image))return;var n=m.image.hasDimensions();this.setState({imageReady:n});if(!n)m.image.setDimensionsReadyCallback(this.$AdsMediaStandaloneLibraryImage1)};l.prototype.UNSAFE_componentWillMount=function(){if(!this.state.imageReady)this.props.image.setDimensionsReadyCallback(this.$AdsMediaStandaloneLibraryImage1)};l.prototype.render=function(){return c("React").createElement("div",{className:"_3tlt"},this.props.showImageMetadata?this.$AdsMediaStandaloneLibraryImage2():this.$AdsMediaStandaloneLibraryImage3())};l.propTypes={alt:k.string,decoration:k.string.isRequired,image:k.instanceOf(c("AdsImageLegacy")).isRequired,onExpandClick:k.func.isRequired,onImageClick:k.func.isRequired,showImageMetadata:k.bool};l.defaultProps={decoration:"default",onExpandClick:c("emptyFunction"),onImageClick:c("emptyFunction"),showImageMetadata:false};f.exports=l}),null);
__d("DimensionTracker",[],(function a(b,c,d,e,f,g){__p&&__p();function h(){"use strict";this.$DimensionTracker1=[];this.$DimensionTracker2=0}h.prototype.setValue=function(i,j){"use strict";this.$DimensionTracker2++;this.$DimensionTracker1.push({index:i,value:j})};h.prototype.getChangesSince=function(i){"use strict";var j=this.$DimensionTracker1.slice(i,this.$DimensionTracker2);return{changes:j,pointer:this.$DimensionTracker2}};f.exports=h}),null);
__d("ImageRowItem.react",["React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.render=function(){var l=this.props.imageRowItems[this.props.rowIndex];if(l){var m=this.props.renderImage,n=l.map(m);return c("React").createElement("div",{key:"ImageRowItem"+l[0].getAdAccountHash()},n)}else return c("React").createElement("div",{key:"ImageRowItemFooter"},this.props.footerRow)};function k(){h.apply(this,arguments)}k.propTypes={footerRow:j.node,imageRowItems:j.array,renderImage:j.func,rowIndex:j.number};f.exports=k}),null);
__d("MediaLibraryPlacement",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirrorRecursive")({ADS_MEDIA_LIBRARY:"",BIZ_MEDIA_LIBRARY:""});f.exports=h}),null);
__d("PhotoArrange",["sha256"],(function a(b,c,d,e,f,g){__p&&__p();var h=.5,i=.5,j={height:-1,isOptimal:false,isValid:false};function k(){"use strict";this.$PhotoArrange1=new Map();this.$PhotoArrange2=new Map()}k.prototype.solve=function(m,n){"use strict";__p&&__p();var o=n.map(function(s){return s.height/s.width}),p=this.$PhotoArrange3(m,n);if(this.$PhotoArrange1.has(p))return this.$PhotoArrange1.get(p);var q;try{q=this.$PhotoArrange4(m,n,o)}catch(r){q=this.$PhotoArrange5(m,n,o)}this.$PhotoArrange1.set(p,q);return q};k.prototype.$PhotoArrange3=function(m,n){"use strict";var o=[String(m.containerWidth),String(m.marginPerImage),String(m.maxImageHeight),String(m.minImageHeight),String(m.minImageWidth)].concat(n.map(function(p){return[String(p.width),String(p.height)].join(",")})).join(",");return c("sha256")(o)};k.prototype.$PhotoArrange5=function(m,n,o){"use strict";var p=(m.maxImageHeight+m.minImageHeight)/2;return n.map(function(q,r){var s=p/o[r];return{height:p,width:s}})};k.prototype.$PhotoArrange4=function(m,n,o){"use strict";__p&&__p();if(!n.length)return[];var p=j,q=0,r=j,s=0,t=n.length,u=m.maxImageHeight,v=m.minImageWidth,w=m.containerWidth,x=u/o[0],y=0;while(y<t-1){var z=Math.max(v,u/o[y+1]);if(x+z>w)break;else{x+=z+m.marginPerImage;y++}}var A=[],B=[],C;for(;y<t;y++){q=y+1;A=n.slice(0,q);B=o.slice(0,q);C=this.$PhotoArrange3(m,A);if(this.$PhotoArrange2.has(C))p=this.$PhotoArrange2.get(C);else{p=new l(m,B.slice(0,q)).solve();this.$PhotoArrange2.set(C,p)}if(p.isValid&&p.isOptimal)break;else if(p.isValid){r=p;s=q}else{p=r;q=s;break}}if(p.isValid){var D=p.height,E=n.slice(0,q);E=E.map(function(F,y){return{width:D/o[y],height:D}});return E.concat(this.$PhotoArrange4(m,n.slice(q),o.slice(q)))}else throw new Error("There is no valid solution to arrange these photos\n        under the specified constraints")};function l(m,n){var o=m.containerWidth,p=m.marginPerImage,q=m.maxImageHeight,r=m.minImageHeight,s=m.minImageWidth;"use strict";this.$ImagesBSSolver1=o;this.$ImagesBSSolver2=n;this.$ImagesBSSolver3=p;this.$ImagesBSSolver4=q;this.$ImagesBSSolver5=r;this.$ImagesBSSolver6=s}l.prototype.solve=function(){"use strict";__p&&__p();var m=this.$ImagesBSSolver5,n=this.$ImagesBSSolver4,o=(n+m)/2,p=this.$ImagesBSSolver7(m),q=this.$ImagesBSSolver7(o),r=this.$ImagesBSSolver7(n);if(!p.isValid)return j;else if(r.isValid)return{height:n,isOptimal:r.isOptimal,isValid:r.isValid};else{while(!q.isValid||n-m>h){if(!q.isValid)n=o;else m=o;o=(n+m)/2;q=this.$ImagesBSSolver7(o)}return{height:o,isOptimal:q.isOptimal,isValid:q.isValid}}};l.prototype.$ImagesBSSolver7=function(m){"use strict";var n=this.$ImagesBSSolver2.reduce(function(q,r){var s=Math.max(this.$ImagesBSSolver6,m/r);return q+s+this.$ImagesBSSolver3}.bind(this),-this.$ImagesBSSolver3),o=n<this.$ImagesBSSolver1,p=o&&n+i>this.$ImagesBSSolver1;return{isOptimal:p,isValid:o}};f.exports=new k()}),null);
__d("AdsMediaLibrary.react",["cx","invariant","AdsImageLegacy","AdsImageValidation","AdsMediaLibraryExpandedAsset.react","AdsMediaPanelImageBoxContainer.react","AdsMediaStandaloneLibraryImage.react","AdsPageTypes","DimensionTracker","ImageRowItem.react","InfiniteScroll.react","MediaLibraryPlacement","PhotoArrange","React","ReactDOM","Scroll","SimpleList.react","SUIBusinessTheme","SUISpinner.react","emptyFunction","joinClasses","setImmediate"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m={height:100,width:100},n=60,o=60,p=290,q=90,r=210,s=14,t=48,u=550,v=60,w=50,x=0,y=12,z=49;j=babelHelpers.inherits(A,c("React").Component);k=j&&j.prototype;function A(){__p&&__p();var B,C;for(var D=arguments.length,E=Array(D),F=0;F<D;F++)E[F]=arguments[F];return C=(B=k.constructor).call.apply(B,[this].concat(E)),this.state={containerWidth:0,expandedImage:null},this.measureContainerWidth=function(){var G=this.refs.imagesContainer;if(G){var H=c("ReactDOM").findDOMNode(G),I=H.offsetWidth;this.setState({containerWidth:I})}}.bind(this),this.$AdsMediaLibrary7=function(G){this.setState({expandedImage:G})}.bind(this),this.$AdsMediaLibrary6=function(){this.setState({expandedImage:null})}.bind(this),this.$AdsMediaLibrary2=function(G){return c("React").createElement(c("AdsMediaStandaloneLibraryImage.react"),{decoration:this.$AdsMediaLibrary9(G),image:G,imageSpec:this.props.imageSpec,key:G.getUniqueIdentifier(),ref:G.getUniqueIdentifier(),showImageMetadata:this.props.showStandaloneImageMetadata,onExpandClick:this.$AdsMediaLibrary7,onImageClick:function(event){return this.props.onImageClick(G,event.shiftKey)}.bind(this)})}.bind(this),this.$AdsMediaLibrary5=function(G){var H=false,I=this.props.imageSpec;if(I){H=!c("AdsImageValidation").isWarningSize(G,I);if(this.props.igSpecificImageSpec)H=H||!c("AdsImageValidation").isWarningSize(G,this.props.igSpecificImageSpec)}return c("React").createElement(c("AdsMediaPanelImageBoxContainer.react"),{buyingTypes:this.props.buyingTypes,className:"_13u0",decoration:this.$AdsMediaLibrary9(G),igSpecificImageSpec:this.props.igSpecificImageSpec,image:G,imageSpec:I,isTooSmall:this.props.disableTooSmallImages&&H,key:G.getUniqueIdentifier(),ref:G.getUniqueIdentifier(),useMediaPanelRedesign:this.props.useMediaPanelRedesign,onImageClick:function(event){this.props.onImageClick&&this.props.onImageClick(G)}.bind(this),onImageDoubleClick:function(event){this.props.onImageDoubleClick&&this.props.onImageDoubleClick(G)}.bind(this)})}.bind(this),C}A.prototype.componentDidMount=function(){c("setImmediate")(this.measureContainerWidth)};A.prototype.UNSAFE_componentWillReceiveProps=function(){this.measureContainerWidth()};A.prototype.render=function(){__p&&__p();var B,C=this,D,E=c("joinClasses")(this.props.className,"_3suv"),F=this.props.children;if(F)F=c("React").createElement("div",{className:"_13u2 clearfix"},F);var G=void 0,H=this.props.photoArrangeConstraints;if(this.state.containerWidth&&this.props.photoArrangeEnabled){var I,J;(function(){I=Math.max(0,C.state.containerWidth-H.containerPadding);J=C.props.imageList.map(function(M){return babelHelpers["extends"]({},M,{width:M.width||m.width,height:M.height||m.height})});var L=c("PhotoArrange").solve(babelHelpers["extends"]({},H,{containerWidth:I}),J);G=C.props.imageList.map(function(M,N){M.calculatedWidth=L[N].width;M.calculatedHeight=L[N].height;return M})})()}else G=this.props.imageList;if(this.props.standalone){var K=null;if(I)(function(){__p&&__p();var L=C.$AdsMediaLibrary1(G,I,H.marginPerImage,H.minImageWidth),M=new(c("DimensionTracker"))();L.forEach(function(P,Q){var R=P[0],S=this.props.showStandaloneImageMetadata?q:s;if(this.props.placement===c("MediaLibraryPlacement").BIZ_MEDIA_LIBRARY)S+=n;var T=R.calculatedHeight+S;M.setValue(Q,T)}.bind(C));M.setValue(L.length,z);var N=C.props.showStandaloneImageMetadata?p:r,O=C.state.containerWidth-t;K=c("React").createElement(c("SimpleList.react"),{height:C.props.height,item:c("React").createElement(c("ImageRowItem.react"),{footerRow:C.props.scrollingAreaFooter,imageRowItems:L,renderImage:C.$AdsMediaLibrary2}),rowCount:L.length+1,rowHeight:N,rowHeightTracker:M,width:O})})();return c("React").createElement("div",{className:E,ref:"AdsMediaLibraryRoot"},c("React").createElement("div",{className:"_13t_"+(this.state.expandedImage?" _fas":""),ref:"imagesContainer"},K),this.$AdsMediaLibrary3(),this.$AdsMediaLibrary4())}else return c("React").createElement("div",{className:E,ref:"AdsMediaLibraryRoot"},c("React").createElement(c("InfiniteScroll.react"),{className:"_13u1",style:{height:this.props.height},onEndReached:this.props.onEndReached},F,c("React").createElement("div",{className:"_13t_",ref:"imagesContainer"},G.map(this.$AdsMediaLibrary5)),this.props.scrollingAreaFooter),this.$AdsMediaLibrary4())};A.prototype.$AdsMediaLibrary1=function(B,C,D,E){__p&&__p();if(!B.length)return[];var F=[[]],G=0,H=0;B.forEach(function(I,J){var K=Math.max(E,I.calculatedWidth);if(H+K>C){F.push([]);H=0;G++}F[G].push(I);H+=K+D});return F};A.prototype.$AdsMediaLibrary4=function(){if(!this.props.isLoadingInitial)return null;return c("React").createElement("div",{className:"_13u3"},c("React").createElement(c("SUISpinner.react"),{background:"light",className:"_13t-",size:"large",theme:c("SUIBusinessTheme")}))};A.prototype.$AdsMediaLibrary3=function(){if(!this.state.expandedImage)return null;var B=this.state.expandedImage,C=Math.min(B.height,u),D=C*B.width/B.height;return c("React").createElement(c("AdsMediaLibraryExpandedAsset.react"),{height:C,key:"expanded_view",source:B.getUrl(),topBarHeight:this.props.topBarHeight,width:D,onClickClose:this.$AdsMediaLibrary6})};A.prototype.$AdsMediaLibrary8=function(B){return this.props.selectedImageList.some(function(C){return C.getUniqueIdentifier()==B})};A.prototype.$AdsMediaLibrary9=function(B){if(this.$AdsMediaLibrary8(B.getUniqueIdentifier()))return"selected";else if(!this.props.isClickEnabled)return"disabled";return"default"};A.prototype.scrollToImage=function(B){var C=B.getUniqueIdentifier();C in this.refs||i(0);var D=c("ReactDOM").findDOMNode(this.refs[C]),E=c("ReactDOM").findDOMNode(this),F=D.offsetTop;if(E!=D.offsetParent)F-=E.offsetTop;c("Scroll").setTop(E,F)};A.propTypes={buyingTypes:l.arrayOf(l.string),disableTooSmallImages:l.bool,height:l.number.isRequired,imageList:l.arrayOf(l.instanceOf(c("AdsImageLegacy"))).isRequired,imageSpec:l.shape({minWarningWidth:l.number.isRequired,minWarningHeight:l.number.isRequired}),isClickEnabled:l.bool.isRequired,isLoadingInitial:l.bool,igSpecificImageSpec:l.object,onEndReached:l.func,onImageClick:l.func.isRequired,onImageDoubleClick:l.func,photoArrangeConstraints:l.shape({containerPadding:l.number.isRequired,maxImageHeight:l.number.isRequired,minImageHeight:l.number.isRequired,minImageWidth:l.number.isRequired,marginPerImage:l.number.isRequired}).isRequired,photoArrangeEnabled:l.bool,selectedImageList:l.array.isRequired,scrollingAreaFooter:l.object,showStandaloneImageMetadata:l.bool,standalone:l.bool,topBarHeight:l.number,useMediaPanelRedesign:l.bool,placement:l.string};A.defaultProps={disableTooSmallImages:false,onImageClick:c("emptyFunction"),photoArrangeConstraints:{containerPadding:o,maxImageHeight:v,minImageHeight:w,minImageWidth:x,marginPerImage:y},selectedImageList:[],showStandaloneImageMetadata:false,standalone:false,useMediaPanelRedesign:false};f.exports=A}),null);
__d("AdsMediaPanelFilters",["fbt","invariant","AdImageSpecs","AdsGenericFilterField","AdsGenericFilterFieldType","AdsGenericFilterOperator","AdsGenericFilterOperatorConfig","AdsImageValidation","AdsPageTypes","keyMirror"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l={"16:9":16/9,"4:3":4/3,"9:16":9/16},m=(j={},j[c("AdsPageTypes").DESKTOP_FEED]=c("AdImageSpecs").PAGE_LIKE_DESKTOP_FEED,j[c("AdsPageTypes").INSTAGRAM_STORY]=c("AdImageSpecs").INSTAGRAM_STORY,j[c("AdsPageTypes").MOBILE_EXTERNAL]=c("AdImageSpecs").AUDIENCE_NETWORK_MOBILE_EXTERNAL,j[c("AdsPageTypes").MESSENGER]=c("AdImageSpecs").MESSENGER,j),n=(k={},k[c("AdsPageTypes").DESKTOP_FEED]=h._("Facebook"),k[c("AdsPageTypes").INSTAGRAM_STORY]=h._("Instagram"),k[c("AdsPageTypes").MOBILE_EXTERNAL]=h._("Audience Network"),k[c("AdsPageTypes").MESSENGER]=h._("Messenger"),k),o=c("keyMirror")({media_title:null,media_aspect:null,media_placement:null}),p={TITLE:{text:h._("Title"),field:new(c("AdsGenericFilterField"))(o.media_title,c("AdsGenericFilterFieldType").STRING),operators:[c("AdsGenericFilterOperatorConfig").CONTAIN,c("AdsGenericFilterOperatorConfig").NOT_CONTAIN],allowDuplication:true},ASPECT_RATIO:{text:h._("Aspect Ratio"),field:new(c("AdsGenericFilterField"))(o.media_aspect,c("AdsGenericFilterFieldType").STRING_SET),operators:[c("AdsGenericFilterOperatorConfig").EQUAL,c("AdsGenericFilterOperatorConfig").NOT_EQUAL],values:[{value:"16:9"},{value:"4:3"},{value:"9:16"}],allowDuplication:true},PLACEMENT_COMPATIBILITY:{text:h._("Placement"),field:new(c("AdsGenericFilterField"))(o.media_placement,c("AdsGenericFilterFieldType").STRING_SET),operators:[c("AdsGenericFilterOperatorConfig").EQUAL],values:[{value:c("AdsPageTypes").DESKTOP_FEED},{value:c("AdsPageTypes").INSTAGRAM_STORY},{value:c("AdsPageTypes").MOBILE_EXTERNAL},{value:c("AdsPageTypes").MESSENGER}],valueRenderer:x,allowDuplication:true}},q={ASPECT_RATIO:p.ASPECT_RATIO,PLACEMENT_COMPATIBILITY:p.PLACEMENT_COMPATIBILITY},r={TITLE:p.TITLE,ASPECT_RATIO:p.ASPECT_RATIO},s={},t={};function u(D,E){typeof E.value==="string"||i(0);var F=E.value&&E.value.toLowerCase(),G=typeof D==="string"?D.toLowerCase():null;switch(E.operator){case c("AdsGenericFilterOperator").CONTAIN:return G!=null&&G.includes(F);case c("AdsGenericFilterOperator").NOT_CONTAIN:return!(G!=null&&G.includes(F));default:throw new Error("invalid filter")}}function v(D,E){typeof E.value=="string"||i(0);var F=m[E.value];if(c("AdsImageValidation").isValidAspectRatio(D,F)&&c("AdsImageValidation").isWarningSize(D,F))return true;return false}function w(D,E){typeof E.value==="string"||i(0);var F=l[E.value]||0;switch(E.operator){case c("AdsGenericFilterOperator").EQUAL:return D<=F;case c("AdsGenericFilterOperator").NOT_EQUAL:return D>F;default:throw new Error("invalid filter")}}function x(D){return n[D]}var y={media_title:function D(E,F){return u(E.title,F)},media_aspect:function D(E,F){return w(E.width/E.height,F)}},z={media_aspect:function D(E,F){return w(E.getWidth()/E.getHeight(),F)},media_placement:function D(E,F){return v(E,F)}};function A(D,E,F){return D.filter(function(G){for(var H=0;H<E.values.length;H++){var I=E.values[H];if(!F[I.field.name](G,I))return false}return true})}function B(D,E){return A(D,E,y)}function C(D,E){return A(D,E,z)}f.exports={applyImageFilters:C,applyVideoFilters:B,ImageFilterFieldConfig:q,VideoFilterFieldConfig:r,ImageFilterValueConfig:s,VideoFilterValueConfig:t}}),null);
__d("AdsMediaPanelHeader.react",["cx","AdsTestIDs","LeftRight.react","Link.react","React","SUIBusinessTheme","SUICloseButton.react","XUIAmbientNUX.react","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l,m=c("React").PropTypes;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;function n(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=j.constructor).call.apply(p,[this].concat(s)),this.$AdsMediaPanelTabTitle1=function(){this.props.onTitleClick(this.props.tabKey)}.bind(this),q}n.prototype.render=function(){return c("React").createElement(c("Link.react"),babelHelpers["extends"]({},this.props,{onClick:this.$AdsMediaPanelTabTitle1}))};n.propTypes={tabKey:m.string.isRequired,onTitleClick:m.func.isRequired};k=babelHelpers.inherits(o,c("React").PureComponent);l=k&&k.prototype;function o(){__p&&__p();var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$AdsMediaPanelHeader1=function(u){var v=u.tabKey===this.props.selectedTab,w=c("joinClasses")(u.className,"_5jq6"+(v?" _5jq7":"")),x=c("AdsTestIDs").IMAGE_LIBRARY_HEADER+"-"+u.tabKey,y="_5jq8"+(this.props.useMediaPanelRedesign?" _4l0d":"");return c("React").createElement("span",{key:u.tabKey},c("React").createElement(n,{className:w,"data-testid":x,ref:u.tabKey,tabKey:u.tabKey,onTitleClick:this.$AdsMediaPanelHeader2},c("React").createElement("div",{className:y}),u.title),this.$AdsMediaPanelHeader3(u))}.bind(this),this.$AdsMediaPanelHeader3=function(u){if(u.nuxConfig){var v=function(){return this.refs[u.tabKey]}.bind(this);return c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:v,key:u.tabKey,position:"below",shown:u.nuxConfig.shown,onCloseButtonClick:u.nuxConfig.onClose},u.nuxConfig.message)}return null}.bind(this),this.$AdsMediaPanelHeader2=function(u){this.props.onTabSwitch(u)}.bind(this),q}o.prototype.getDefaultProps=function(){return{useMediaPanelRedesign:false}};o.prototype.render=function(){var p="_5jq0"+(this.props.useMediaPanelRedesign?" _4l0e":"");if(this.props.useMediaPanelRedesign)return c("React").createElement("div",{className:p},c("React").createElement(c("LeftRight.react"),null,c("React").createElement("div",null,this.props.tabConfigs.map(this.$AdsMediaPanelHeader1)),c("React").createElement("div",{className:"_4l0h"},c("React").createElement(c("SUICloseButton.react"),{className_DEPRECATED:"layerCancel",shade:"dark",size:"small",theme:c("SUIBusinessTheme"),useLegacyPadding:true}))));else return c("React").createElement("div",{className:p},this.props.tabConfigs.map(this.$AdsMediaPanelHeader1))};o.propTypes={selectedTab:m.string.isRequired,tabConfigs:m.arrayOf(m.shape({className:m.string.isRequired,tabKey:m.string.isRequired,title:m.string.isRequired,nuxConfigs:m.shape({message:m.string.isRequired,onClose:m.func.isRequired,shown:m.bool.isRequired})})).isRequired,useMediaPanelRedesign:m.bool,onTabSwitch:m.func.isRequired};f.exports=o}),null);
__d("AdsMediaPanelInfiniteScrollFooter.react",["cx","fbt","React","SUIBusinessTheme","SUISpinner.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;m.prototype.componentDidMount=function(){if(this.props.onEndReached)this.props.onEndReached()};m.prototype.render=function(){if(!this.props.imagesLoaded)return null;if(this.props.fetchingNextPage)return c("React").createElement("div",{className:"_4bnz"},c("React").createElement(c("SUISpinner.react"),{background:"light",size:"large",theme:c("SUIBusinessTheme")}));return c("React").createElement("div",{className:"_4bn-"},c("React").createElement("div",{className:"_4bn_"},c("React").createElement("div",{className:"_4bo2"},i._("No more images found"))))};function m(){j.apply(this,arguments)}m.propTypes={fetchingNextPage:l.bool.isRequired,imagesLoaded:l.bool.isRequired,onEndReached:l.func};f.exports=m}),null);
__d("AdsMediaPanelMessage.react",["cx","Image.react","React","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m=c("joinClasses")("_3suv",this.props.className);return c("React").createElement("div",{className:m,style:this.props.style},c("React").createElement("div",{className:"_5y4t"},c("React").createElement(c("Image.react"),{src:this.props.icon}),c("React").createElement("div",{className:"_5y4u"},c("React").createElement("div",null,this.props.title),c("React").createElement("div",null,this.props.subtitle))))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={icon:k.object.isRequired,subtitle:k.string,title:k.string.isRequired};f.exports=l}),null);
__d("SUINoticeGroup.react",["React","SUIComponent","SUITheme"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("SUIComponent"));i=h&&h.prototype;k.prototype.render=function(){var l=c("SUITheme").get(this).SUINoticeGroup.margin,m=c("React").Children.toArray(this.props.children).filter(function(n){return n}).map(function(n,o){return c("React").createElement("div",{key:o,style:{marginTop:o?l:0}},n)});return c("React").createElement("div",{"data-testid":this.props["data-testid"]},m)};function k(){h.apply(this,arguments)}k.propTypes={"data-testid":j.string,theme:j.instanceOf(c("SUITheme"))};f.exports=k}),null);
__d("AdsMediaPanelPageLinkInstagramAccountUnit.react",["cx","fbt","ix","ActionList.react","AdsImageLegacy","AdsLoadState_LEGACY","AdsMediaLibrary.react","AdsPageInstagramAccountActions","CenteredContainer.react","Grid.react","Image.react","Link.react","React","ScrollableArea.react","SUIBusinessTheme","SUINotice.react","SUINoticeGroup.react","SUISpinner.react","SUIText.react","XPagesManagerSettingsController","XUIButton.react","XUITextInput.react","PageSettingsRef"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("Grid.react").GridItem,n=c("React").PropTypes,o=30,p=32,q=36,r="https://instagram.com/accounts/password/reset/",s="https://www.facebook.com/business/help/898752960195806";k=babelHelpers.inherits(t,c("React").Component);l=k&&k.prototype;function t(){var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=l.constructor).call.apply(u,[this].concat(x)),this.state={password:"",username:""},this.$AdsMediaPanelPageLinkInstagramAccountUnit9=function(event){this.setState({password:event.target.value})}.bind(this),this.$AdsMediaPanelPageLinkInstagramAccountUnit8=function(event){this.setState({username:event.target.value})}.bind(this),this.$AdsMediaPanelPageLinkInstagramAccountUnit10=function(){if(this.props.pageID)c("AdsPageInstagramAccountActions").linkInstagramAccount(this.props.pageID,this.state.password,this.state.username)}.bind(this),v}t.prototype.render=function(){if(this.props.instagramAccount&&this.props.instagramAccount.is_published)return this.$AdsMediaPanelPageLinkInstagramAccountUnit1();else if(this.props.instagramAccountLoadState===c("AdsLoadState_LEGACY").LOADING)return this.$AdsMediaPanelPageLinkInstagramAccountUnit2();else return this.$AdsMediaPanelPageLinkInstagramAccountUnit3()};t.prototype.$AdsMediaPanelPageLinkInstagramAccountUnit2=function(){return c("React").createElement(c("ScrollableArea.react"),{height:this.props.totalHeight},this.$AdsMediaPanelPageLinkInstagramAccountUnit4(),c("React").createElement(c("CenteredContainer.react"),{fullHeight:true,horizontal:true,vertical:true},this.$AdsMediaPanelPageLinkInstagramAccountUnit5(),c("React").createElement(c("CenteredContainer.react"),{className:"_hrr",horizontal:true,vertical:true},c("React").createElement(c("SUISpinner.react"),{size:"large",theme:c("SUIBusinessTheme")}))))};t.prototype.$AdsMediaPanelPageLinkInstagramAccountUnit3=function(){return c("React").createElement(c("ScrollableArea.react"),{height:this.props.totalHeight},this.$AdsMediaPanelPageLinkInstagramAccountUnit4(),c("React").createElement(c("CenteredContainer.react"),{fullHeight:true,horizontal:true,vertical:true},this.$AdsMediaPanelPageLinkInstagramAccountUnit5(),this.props.pageID?this.$AdsMediaPanelPageLinkInstagramAccountUnit6():null))};t.prototype.$AdsMediaPanelPageLinkInstagramAccountUnit1=function(){var u=this.$AdsMediaPanelPageLinkInstagramAccountUnit4()?this.props.totalHeight-p-q:this.props.totalHeight-p,v=this.props.instagramAccountLoadState===c("AdsLoadState_LEGACY").LOADING?c("React").createElement(c("SUISpinner.react"),{size:"large",theme:c("SUIBusinessTheme")}):this.$AdsMediaPanelPageLinkInstagramAccountUnit7();return c("React").createElement("div",{style:{height:this.props.totalHeight}},this.$AdsMediaPanelPageLinkInstagramAccountUnit4(),c("React").createElement(c("AdsMediaLibrary.react"),babelHelpers["extends"]({},this.props,{height:u})),c("React").createElement("div",{className:"_hrs"},v))};t.prototype.$AdsMediaPanelPageLinkInstagramAccountUnit5=function(){var u=i._("Connect an Instagram Account"),v=null;if(this.props.instagramAccount)v=i._("Log into Instagram to select images for your Facebook ads. The Instagram account you add will represent your business in your Instagram ads. You can only connect one Instagram account to your Page.");else v=c("React").createElement("div",null,i._("Log into an Instagram account to select Instagram images to use in your Facebook ads.")," ",c("React").createElement(c("Link.react"),{href:s,target:"_blank"},i._("Learn more")),".");return c("React").createElement(c("CenteredContainer.react"),{className:"_2pie",horizontal:true},c("React").createElement(c("Image.react"),{src:j("22909")}),c("React").createElement("div",{className:"_hru"},u),c("React").createElement("div",{className:"_hrx"},v))};t.prototype.$AdsMediaPanelPageLinkInstagramAccountUnit6=function(){return c("React").createElement(c("Grid.react"),{className:"_3-8k",cols:2,spacing:"prl pts"},c("React").createElement(m,null,c("React").createElement(c("XUITextInput.react"),{className:"_hry",height:"tall",maxLength:o,placeholder:i._("Username"),value:this.state.username,onChange:this.$AdsMediaPanelPageLinkInstagramAccountUnit8})),c("React").createElement(m,null,c("React").createElement(c("XUITextInput.react"),{className:"_hry",height:"tall",placeholder:i._("Password"),type:"password",value:this.state.password,onChange:this.$AdsMediaPanelPageLinkInstagramAccountUnit9})),c("React").createElement(m,null,c("React").createElement(c("SUIText.react"),{className:"lfloat",size:"meta1",theme:c("SUIBusinessTheme")},c("React").createElement(c("Link.react"),{href:r,target:"_blank"},i._("Forgot password?")))),c("React").createElement(m,null,c("React").createElement(c("XUIButton.react"),{className:"rfloat",disabled:this.state.username===""||this.state.password==="",label:i._("Connect"),use:"confirm",onClick:this.$AdsMediaPanelPageLinkInstagramAccountUnit10})))};t.prototype.$AdsMediaPanelPageLinkInstagramAccountUnit7=function(){var u=this.props.instagramAccount?"@"+this.props.instagramAccount.username:"",v=void 0;if(this.props.pageID){var w=c("XPagesManagerSettingsController").getURIBuilder().setString("page_token",this.props.pageID).setString("tab","instagram_ads").setString("ref",c("PageSettingsRef").INSTAGRAM_ADS).getURI();v=c("React").createElement(c("SUIText.react"),{size:"meta1",theme:c("SUIBusinessTheme")},c("React").createElement(c("Link.react"),{href:w,target:"_blank"},i._("Edit")))}return c("React").createElement(c("ActionList.react"),{className:"rfloat"},c("React").createElement(c("SUIText.react"),{shade:"dark",size:"meta1",theme:c("SUIBusinessTheme"),weight:"bold"},u),v)};t.prototype.$AdsMediaPanelPageLinkInstagramAccountUnit4=function(){if(this.props.pageLinkOrUnlinkAccountError.length===0)return null;return c("React").createElement(c("SUINoticeGroup.react"),{theme:c("SUIBusinessTheme")},this.props.pageLinkOrUnlinkAccountError.map(function(u,v){return c("React").createElement(c("SUINotice.react"),{key:v,type:"error"},u)}))};t.propTypes={imageList:n.arrayOf(n.instanceOf(c("AdsImageLegacy"))).isRequired,instagramAccount:n.shape({id:n.string.isRequired,is_published:n.bool.isRequired,profile_pic:n.string.isRequired,username:n.string.isRequired}),instagramAccountLoadState:n.oneOf(Object.keys(c("AdsLoadState_LEGACY"))).isRequired,isClickEnabled:n.bool.isRequired,pageID:n.string,pageLinkOrUnlinkAccountError:n.arrayOf(n.string).isRequired,totalHeight:n.number.isRequired};t.defaultProps={imageList:[],instagramAccount:null,instagramAccountLoadState:c("AdsLoadState_LEGACY").NOT_LOADED,pageLinkOrUnlinkAccountError:[]};f.exports=t}),null);
__d("AdsMediaPanelTabs",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({UPLOAD:null,LIBRARY:null,STOCK:null});f.exports=h}),null);
__d("AdsMediaPanelViewFilterBar.react",["cx","fbt","AdsImageCollectionViews","Link.react","React","SimpleNUXMessage","SimpleNUXMessageTypes","XUIAmbientNUX.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l,m,n,o,p=c("React").PropTypes;j=babelHelpers.inherits(q,c("React").Component);k=j&&j.prototype;function q(){var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=k.constructor).call.apply(t,[this].concat(w)),this.$AdsMediaPanelViewFilterBar1=function(y){if(y.view===c("AdsImageCollectionViews").views.INSTAGRAM&&!this.props.instagramAccountLinked)return c("React").createElement(s,{key:y.view||"ALL",selectedFilter:this.props.viewFilter,showImageCount:false,viewFilter:y,onViewFilterChoose:this.props.onViewFilterChoose});else return c("React").createElement(r,{key:y.view||"ALL",selectedFilter:this.props.viewFilter,showImageCount:true,viewFilter:y,onViewFilterChoose:this.props.onViewFilterChoose})}.bind(this),u}q.prototype.render=function(){var t="_5y6l"+(this.props.useMediaPanelRedesign?" _2wrx":"");if(this.props.availableViewFilters.length===0)return c("React").createElement("div",{className:t});var u="_5y6m"+(this.props.useMediaPanelRedesign?" _2wrx":"");return c("React").createElement("div",{className:u},this.props.availableViewFilters.map(this.$AdsMediaPanelViewFilterBar1))};q.propTypes={availableViewFilters:p.array.isRequired,instagramAccountLinked:p.bool.isRequired,viewFilter:p.object.isRequired,onViewFilterChoose:p.func};l=babelHelpers.inherits(r,c("React").Component);m=l&&l.prototype;function r(){var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=m.constructor).call.apply(t,[this].concat(w)),this.$LinkItem1=function(){this.props.onViewFilterChoose&&this.props.onViewFilterChoose(this.props.viewFilter)}.bind(this),u}r.prototype.render=function(){var t=this.props.showImageCount?c("React").createElement("span",{className:"_5y6p"},this.props.viewFilter.count):null;return c("React").createElement(c("Link.react"),{className:"_5y6n"+(this.props.viewFilter.view===this.props.selectedFilter.view?" _5y6o":""),onClick:this.$LinkItem1},c("React").createElement("span",null,c("React").createElement("span",null,this.props.viewFilter.text),t))};n=babelHelpers.inherits(s,c("React").Component);o=n&&n.prototype;function s(){var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=o.constructor).call.apply(t,[this].concat(w)),this.state={nuxShown:!c("SimpleNUXMessage").hasUserSeenMessage(c("SimpleNUXMessageTypes").BOOSTED_COMPONENT_INSTAGRAM_LIBRARY)},this.renderLayers=function(){return c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:this.$LinkItemWithNux1,position:"above",shown:this.state.nuxShown,onCloseButtonClick:this.$LinkItemWithNux2,key:"nux_above"},i._("Connect an Instagram account to use its photos in your ads."))}.bind(this),this.$LinkItemWithNux1=function(){return this.refs.instagram_view_filter}.bind(this),this.$LinkItemWithNux2=function(){c("SimpleNUXMessage").markMessageSeenByUser(c("SimpleNUXMessageTypes").BOOSTED_COMPONENT_INSTAGRAM_LIBRARY);this.setState({nuxShown:false})}.bind(this),u}s.prototype.render=function(){return c("React").createElement("span",null,c("React").createElement(r,babelHelpers["extends"]({},this.props,{ref:"instagram_view_filter"})),this.renderLayers())};f.exports=q}),null);
__d("AdsMediaPanelViewFilters",["fbt","AdsImageCollectionViews"],(function a(b,c,d,e,f,g,h){var i=[{view:c("AdsImageCollectionViews").views.LIBRARY,text:h._("Ad Images")},{view:c("AdsImageCollectionViews").views.INSTAGRAM,text:h._("Instagram Images")},{view:c("AdsImageCollectionViews").views.PAGE,text:h._("Page Images")},{view:c("AdsImageCollectionViews").views.SCRAPED,text:h._("Website Images")}],j=0;i.forEach(function(m){j|=m.view});var k={view:j,text:h._("All")};i.unshift(k);var l={filters:i,all:k};f.exports=l}),null);
__d("AdsShutterstockSearchBar.react",["cx","fbt","ix","Image.react","React","XUITextInput.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){var o,p;"use strict";for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$AdsShutterstockSearchBar2=function(){this.props.onTriggerSearch()}.bind(this),this.$AdsShutterstockSearchBar1=function(event){this.props.onTextChange(event.target.value)}.bind(this),p}n.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_134r"},c("React").createElement("div",{className:"_134s"},c("React").createElement(c("Image.react"),{className:"_134t",src:j("22543")}),c("React").createElement("div",{className:"_134u"},i._("Powered by {partner-company-name}",[i._param("partner-company-name","Shutterstock")])),c("React").createElement(c("XUITextInput.react"),{className:"_134v",defaultValue:this.props.searchText,height:"tall",placeholder:i._("Search Free Stock Images"),onChange:this.$AdsShutterstockSearchBar1,onEnter:this.$AdsShutterstockSearchBar2})))};n.propTypes={searchText:m.string,onTriggerSearch:m.func,onTextChange:m.func};n.defaultProps={onTriggerSearch:c("emptyFunction"),onTextChange:c("emptyFunction")};f.exports=n}),null);
__d("AdsShutterstockSearchLoader",["AdsGraphAPI"],(function a(b,c,d,e,f,g){"use strict";var h=25,i={loadSearchResults:function j(k,l){if(l)return l();return c("AdsGraphAPI").get(f.id).search("adstockimage").get({limit:h,locale:"user",q:k})}};f.exports=i}),null);
__d("AdsShutterstockSearchDispatcher",["AdsImageLegacy","AdsShutterstockSearchActions","AdsShutterstockSearchLoader"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={convertStockImages:function i(j){return j.map(function(k){return new(c("AdsImageLegacy"))({previewHeight:k.preview.height,previewUrl:k.preview.url,previewWidth:k.preview.width,stockImageID:k.id,thumbHeight:k.thumbnail.height,thumbWidth:k.thumbnail.width,url:k.thumbnail.url})})},loadSearchResults:function i(j,k){var l=Date.now();c("AdsShutterstockSearchLoader").loadSearchResults(j,k).done(function(m){var n=Date.now(),o=n-l,p={images:this.convertStockImages(m.data),next:null};if(m.next)p.next=m.next.bind(m);c("AdsShutterstockSearchActions").searchResultsLoaded(j,p,o)}.bind(this),function(m){c("AdsShutterstockSearchActions").searchResultsError(j,m)})}};f.exports=h}),null);
__d("AdsShutterstockSearchStore",["AdsDataAtom","AdsShutterstockSearchDispatcher","AdsShutterstockSearchResultsErrorDataAction","AdsShutterstockSearchResultsLoadedDataAction","FluxStore","immutable","LoadObject","adsBaseStoreMixin_DEPRECATED","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxStore"));i=h&&h.prototype;function j(){i.constructor.call(this,c("AdsDataAtom"));this.__moduleID=f.id;c("adsBaseStoreMixin_DEPRECATED")(this);this.$AdsShutterstockSearchStoreClass1=new Map();this.$AdsShutterstockSearchStoreClass2=new Map()}j.prototype.__onDispatch=function(k){__p&&__p();var l=k.action;switch(l.type){case c("AdsShutterstockSearchResultsLoadedDataAction").actionType:var m=this.$AdsShutterstockSearchStoreClass1.get(l.data.query),n=null;if(m&&m.hasValue())n=m.getValueEnforcing().images.concat(l.data.results.images);else n=c("immutable").OrderedSet(l.data.results.images);this.$AdsShutterstockSearchStoreClass3(l.data.results.images);this.$AdsShutterstockSearchStoreClass1.set(l.data.query,m.setValue(babelHelpers["extends"]({},l.data.results,{images:n})).done());this.__emitChange();break;case c("AdsShutterstockSearchResultsErrorDataAction").actionType:this.$AdsShutterstockSearchStoreClass1.set(l.data.query,this.$AdsShutterstockSearchStoreClass1.get(l.data.query).setError(l.data.error).done());this.__emitChange();break}};j.prototype.$AdsShutterstockSearchStoreClass3=function(k){k.forEach(function(l){var m=c("nullthrows")(l.getStockImageID());this.$AdsShutterstockSearchStoreClass2.set(m,l)}.bind(this))};j.prototype.getSearchResults=function(k,l){__p&&__p();var m=this.$AdsShutterstockSearchStoreClass1.get(k);if(!m){m=c("LoadObject").loading();this.$AdsShutterstockSearchStoreClass1.set(k,m);c("AdsShutterstockSearchDispatcher").loadSearchResults(k)}else if(m&&m.hasValue()&&!m.hasOperation()&&m.getValueEnforcing().images.size<=l){var n=m.getValueEnforcing().next;if(n){m=m.loading();this.$AdsShutterstockSearchStoreClass1.set(k,m);c("AdsShutterstockSearchDispatcher").loadSearchResults(k,n)}}return m};j.prototype.getShutterstockImageByID=function(k){return this.$AdsShutterstockSearchStoreClass2.get(k)};f.exports=new j()}),null);
__d("AdsShutterstockGuidelinesShowDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"SHUTTERSTOCK.GUIDELINES_SHOW");f.exports=h}),null);
__d("AdsShutterstockUseGuidelines.react",["cx","fbt","AdsShutterstockGuidelinesShowDataAction","ContextualDialog.react","LayerFadeOnHide","Link.react","React","ReactLayeredComponentMixin_DEPRECATED","debounce","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k=250,l=320,m=c("React").createClass({displayName:"AdsShutterstockUseGuidelines",mixins:[c("ReactLayeredComponentMixin_DEPRECATED")],propTypes:{dialogPosition:j.string},getDefaultProps:function n(){return{dialogPosition:"right"}},getInitialState:function n(){return{dialogShown:false}},_cancelScheduledHides:function n(){this._scheduleHide.reset()},_hideDialog:function n(){this._cancelScheduledHides();this.setState({dialogShown:false})},_toggleDialog:function n(){this._cancelScheduledHides();var o=!this.state.dialogShown;this.setState({dialogShown:o});if(o)c("AdsShutterstockGuidelinesShowDataAction").dispatch({})},UNSAFE_componentWillMount:function n(){this._scheduleHide=c("debounce")(this._hideDialog,k)},componentWillUnmount:function n(){this._cancelScheduledHides();this._scheduleHide=null},render:function n(){var o=c("joinClasses")("_54kg",this.props.className);return c("React").createElement(c("Link.react"),{className:o,ref:"link",onClick:this._toggleDialog,onMouseEnter:this._cancelScheduledHides,onMouseLeave:this._scheduleHide},i._("Some stock images may not comply with Facebook policies. Read our Advertising Policies before selecting an image."))},getLegalLanguage:function n(){return i._("Shutterstock images are available at no additional cost for use in your Facebook ads, with the following guidelines: {list of legal guidelines}",[i._param("list of legal guidelines",c("React").createElement("ul",{className:"_3-9n"},c("React").createElement("li",null,i._("You can't use the image as a trademark for a business.")),c("React").createElement("li",null,i._("You may not portray a person in a way that may be offensive, including: a) in ads for dating services; b) in connection with political endorsements; c) with defamatory, unlawful, offensive or immoral content; and d) as suffering from, or being treated for, a physical or mental ailment.")),c("React").createElement("li",null,i._("You may only use the image in ads and content on Facebook, and not with other websites or advertising services."))))])},renderLayers:function n(){return{dialog:c("React").createElement(c("ContextualDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},contextRef:function(){return this.refs.link}.bind(this),position:this.props.dialogPosition,shown:this.state.dialogShown,width:l},c("React").createElement("div",{className:"_54kh",onMouseEnter:this._cancelScheduledHides,onMouseLeave:this._scheduleHide},c("React").createElement("h2",{className:"_54ki"},i._("Stock Image Use Guidelines")),this.getLegalLanguage()))}}});f.exports=m}),null);
__d("AdsShutterstockViewStore",["AdsDataAtom","AdsShutterstockEndReachedDataAction","AdsShutterstockSearchDoneDataAction","AdsShutterstockSearchTextChangedDataAction","FluxStore","adsBaseStoreMixin_DEPRECATED"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxStore"));i=h&&h.prototype;function j(){i.constructor.call(this,c("AdsDataAtom"));this.__moduleID=f.id;c("adsBaseStoreMixin_DEPRECATED")(this);this.$AdsShutterstockViewStoreClass3=new Map()}j.prototype.__onDispatch=function(k){__p&&__p();var l=k.action;switch(l.type){case c("AdsShutterstockSearchTextChangedDataAction").actionType:this.$AdsShutterstockViewStoreClass1=l.data.searchText;this.__emitChange();break;case c("AdsShutterstockSearchDoneDataAction").actionType:this.$AdsShutterstockViewStoreClass2=l.data.searchText;if(!this.$AdsShutterstockViewStoreClass3.get(this.$AdsShutterstockViewStoreClass2))this.$AdsShutterstockViewStoreClass3.set(this.$AdsShutterstockViewStoreClass2,1);this.__emitChange();break;case c("AdsShutterstockEndReachedDataAction").actionType:var m=this.$AdsShutterstockViewStoreClass3.get(l.data.searchText);if(!m)this.$AdsShutterstockViewStoreClass3.set(l.data.searchText,2);else this.$AdsShutterstockViewStoreClass3.set(l.data.searchText,m+1);this.__emitChange();break}};j.prototype.getNumPagesForQuery=function(k){var l=this.$AdsShutterstockViewStoreClass3.get(k);return l||0};j.prototype.getCurrentText=function(){return this.$AdsShutterstockViewStoreClass1};j.prototype.getDelayedText=function(){return this.$AdsShutterstockViewStoreClass2};j.prototype.isTyping=function(){var k=this.$AdsShutterstockViewStoreClass1!==null&&this.$AdsShutterstockViewStoreClass1!==undefined;return k&&this.$AdsShutterstockViewStoreClass1!==this.$AdsShutterstockViewStoreClass2};f.exports=new j()}),null);
__d("AdsShutterstockLibrary.react",["cx","fbt","ix","AdsFluxContainer","AdsMediaLibrary.react","AdsMediaPanelInfiniteScrollFooter.react","AdsMediaPanelMessage.react","AdsShutterstockSearchBar.react","AdsShutterstockSearchStore","AdsShutterstockUseGuidelines.react","AdsShutterstockViewActions","AdsShutterstockViewStore","React","ShutterstockApiStatus","adsFormatErrorMessage","debounce","keyMirror","setImmediate"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes,n=25,o=c("keyMirror")({ERROR:null,HAS_MORE:null,LOADING_INITIAL:null,LOADING_MORE:null,NO_MORE_RESULTS:null,NO_REQUEST:null,NO_RESULTS:null}),p=c("debounce")(function(r){return c("AdsShutterstockViewActions").searchDone(r)},200);k=babelHelpers.inherits(q,c("React").PureComponent);l=k&&k.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=l.constructor).call.apply(r,[this].concat(u)),this.$AdsShutterstockLibrary4=function(){var w=this.$AdsShutterstockLibrary2(),x=w.state;if(x===o.HAS_MORE)c("setImmediate")(function(){return c("AdsShutterstockViewActions").endReached(this.state.query)}.bind(this))}.bind(this),s}q.getStores=function(){return[c("AdsShutterstockSearchStore"),c("AdsShutterstockViewStore")]};q.calculateState=function(r,s){var t=c("AdsShutterstockViewStore").getDelayedText()||s.defaultSearchText,u=c("AdsShutterstockViewStore").getNumPagesForQuery(t)||1,v=null;if(t)v=c("AdsShutterstockSearchStore").getSearchResults(t,n*u);return{currentSearchText:c("AdsShutterstockViewStore").getCurrentText(),isTyping:c("AdsShutterstockViewStore").isTyping(),query:t,results:v}};q.prototype.$AdsShutterstockLibrary1=function(r,s,t){return c("React").createElement(c("AdsMediaPanelMessage.react"),{icon:r,style:{height:this.props.imageContainerHeight},subtitle:s,title:t})};q.prototype.$AdsShutterstockLibrary2=function(){__p&&__p();var r=this.state.results,s=null,t=[];if(!r)if(this.state.isTyping)s=o.LOADING_INITIAL;else s=o.NO_REQUEST;else if(r.hasError())s=o.ERROR;else if(!r.hasValue())s=o.LOADING_INITIAL;else if(!r.getValueEnforcing().next){t=r.getValueEnforcing().images.toArray();if(t.length===0)s=o.NO_RESULTS;else s=o.NO_MORE_RESULTS}else{t=r.getValueEnforcing().images.toArray();if(r.hasOperation())s=o.LOADING_MORE;else s=o.HAS_MORE}return{state:s,imageList:t}};q.prototype.$AdsShutterstockLibrary3=function(){var r=this.$AdsShutterstockLibrary2(),s=r.state,t=r.imageList;switch(s){case o.NO_REQUEST:return this.$AdsShutterstockLibrary1(j("22542"),i._("Any images you select will be saved in your image library."),i._("Search for professional images to use in your ads."));case o.NO_RESULTS:return this.$AdsShutterstockLibrary1(j("22544"),i._("Try using other keywords."),i._("There aren't any images that match what you searched."));case o.ERROR:return this.$AdsShutterstockLibrary1(j("22544"),null,i._("An error occurred while searching for stock images: {error message}",[i._param("error message",c("adsFormatErrorMessage")(this.state.results.error))]));default:var u=s===o.HAS_MORE||s===o.LOADING_MORE,v=c("React").createElement(c("AdsMediaPanelInfiniteScrollFooter.react"),{fetchingNextPage:u,imagesLoaded:s!==o.LOADING_INITIAL}),w=s===o.LOADING_INITIAL||this.state.isTyping;return c("React").createElement(c("AdsMediaLibrary.react"),{disableTooSmallImages:this.props.disableTooSmallImages,height:this.props.imageContainerHeight,imageList:t,imageSpec:this.props.imageSpec,isClickEnabled:this.props.isClickEnabled,isLoadingInitial:w,scrollingAreaFooter:v,selectedImageList:this.props.selectedImageList,onEndReached:this.$AdsShutterstockLibrary4,onImageClick:this.props.onImageClick},c("React").createElement(c("AdsShutterstockUseGuidelines.react"),{className:"_3cl1",dialogPosition:"left"}))}};q.prototype.render=function(){if(!c("ShutterstockApiStatus").available)return c("React").createElement(c("AdsMediaPanelMessage.react"),{className:this.props.className,icon:j("22544"),style:{height:this.props.imageContainerHeight},subtitle:i._("Please try again later."),title:i._("Sorry, stock images aren't available right now.")});return c("React").createElement("div",{className:this.props.className},c("React").createElement(c("AdsShutterstockSearchBar.react"),{searchText:this.state.currentSearchText,onTextChange:this.$AdsShutterstockLibrary5}),this.$AdsShutterstockLibrary3())};q.prototype.$AdsShutterstockLibrary5=function(r){c("AdsShutterstockViewActions").searchTextChanged(r);p(r)};q.defaultProps={disableTooSmallImages:false,isClickEnabled:true,selectedImageList:[]};q.propTypes={defaultSearchText:m.string,disableTooSmallImages:m.bool,imageContainerHeight:m.number.isRequired,imageSpec:m.shape({minWarningWidth:m.number.isRequired,minWarningHeight:m.number.isRequired}),isClickEnabled:m.bool.isRequired,selectedImageList:m.array.isRequired,onImageClick:m.func.isRequired};f.exports=c("AdsFluxContainer").create(q,{withProps:true,name:f.id})}),null);
__d("AdsMediaPanel.react",["cx","fbt","ix","Promise","AdsArrowedCarouselEnhanced.react","AdsEditInlinePostWarning.react","AdsImageActions","AdsImageCollectionViews","AdsImageDimensionDataLoader","AdsImageSecondaryActions","AdsImageStore","AdsImageUploadErrorActions","AdsImageValidation","AdsLoadState_LEGACY","AdsMediaLibrary.react","AdsMediaPanelFilters","AdsMediaPanelHeader.react","AdsMediaPanelImageBoxContainer.react","AdsMediaPanelInfiniteScrollFooter.react","AdsMediaPanelMessage.react","AdsMediaPanelPageLinkInstagramAccountUnit.react","AdsMediaPanelTabs","AdsMediaPanelViewFilterBar.react","AdsMediaPanelViewFilters","AdsShutterstockLibrary.react","AdsTestIDs","BootloadedComponent.react","Event","FluxMixinLegacy","JSResource","React","ReactComponentWithPureRenderMixin","ReactDOM","SUIBusinessTheme","SUISpinner.react","SUIThemeContainer.react","emptyFunction","getViewportDimensions","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=c("React").PropTypes,l=49,m=25,n=84,o=144,p=215,q=332,r=658,s=523,t=100,u=60,v=60,w=50,x=0,y=12,z=0,A=0,B=100,C=80,D={};D[c("AdsMediaPanelTabs").UPLOAD]={className:"_5xhy",title:i._("Upload Images"),renderer:"_renderUploadTab"};D[c("AdsMediaPanelTabs").LIBRARY]={className:"_5xh-",title:i._("Image Library"),renderer:"_renderLibraryTab"};D[c("AdsMediaPanelTabs").STOCK]={className:"_5xh_",title:i._("Stock Images"),renderer:"_renderStockTab"};var E=c("React").createClass({displayName:"AdsMediaPanel",mixins:[c("FluxMixinLegacy")([c("AdsImageStore")],{withProps:true}),c("ReactComponentWithPureRenderMixin")],propTypes:{accountID:k.string.isRequired,allowMultiImage:k.bool,buyingTypes:k.arrayOf(k.string),defaultStockSearchText:k.string,disableTooSmallImages:k.bool,igSpecificImageSpec:k.object,imageCollection:k.object.isRequired,imageHandlers:k.shape({onClick:k.func,onDoubleClick:k.func,onSecondaryAction:k.func}).isRequired,imageSpec:k.shape({minWarningWidth:k.number.isRequired,minWarningHeight:k.number.isRequired,placement:k.string}),initialSelectedTab:k.oneOf(Object.keys(D)),instagramAccount:k.shape({id:k.string.isRequired,is_published:k.bool.isRequired,profile_pic:k.string.isRequired,username:k.string.isRequired}),instagramAccountLoadState:k.oneOf(Object.keys(c("AdsLoadState_LEGACY"))),maxSelectedImages:k.number.isRequired,pageID:k.string,pageLinkOrUnlinkAccountError:k.arrayOf(k.string),selectedImageList:k.array.isRequired,tabKeys:k.arrayOf(k.string).isRequired,theme:k.object,uploadHandlers:k.shape({onClick:k.func,onEnd:k.func,onFail:k.func,onStart:k.func,onSuccess:k.func}).isRequired,useInstagramImageCreative:k.bool,useMediaPanelRedesign:k.bool,userImagesLoaded:k.bool,validateImageFormat:k.bool,validateImageSize:k.bool,onTabSwitch:k.func.isRequired},getDefaultProps:function F(){return{adEditWarningMessage:null,disableTooSmallImages:false,imageHandlers:{onClick:c("emptyFunction"),onDoubleClick:c("emptyFunction"),onSecondaryAction:c("emptyFunction")},maxSelectedImages:1,onTabSwitch:c("emptyFunction"),pageFetchingNextPage:false,pageImagesLoaded:true,pageOnEndReached:c("emptyFunction"),selectedImageList:[],uploadHandlers:{},useMediaPanelRedesign:false,userImagesLoaded:true,validateImageFormat:true,validateImageSize:true}},getInitialState:function F(){return{multiImageRowHeight:0,viewFilter:c("AdsMediaPanelViewFilters").all,selectedTab:this.props.initialSelectedTab||c("AdsMediaPanelTabs").LIBRARY,uploadedImages:[],filterSet:null}},statics:{calculateState:function F(G,H){return{canFetchNextLibraryPage:c("AdsImageStore").hasCursorForNextPage(H.accountID),fetchingNextLibraryPage:c("AdsImageStore").isFetchingNextPage(H.accountID)}}},UNSAFE_componentWillMount:function F(){this._setResizeHandlerRef(c("Event").listen(window,"resize",function(){return this.forceUpdate()}.bind(this)))},componentWillUnmount:function F(){this._removeResizeHandlerRef();this._setResizeHandlerRef(null)},componentDidMount:function F(){this._setSelectedImagesRowHeight()},componentDidUpdate:function F(){this._setSelectedImagesRowHeight()},_getTabContentHeight:function F(){__p&&__p();var G=this.props.useMediaPanelRedesign?n:o,H=0,I=0,J=0;if(this.props.useMediaPanelRedesign){H=l+m;if(this.props.maxSelectedImages>1)H+=G;I=p+H;J=s}else{I=p+l;J=q+l;H=r-J}var K=c("getViewportDimensions")().height,L=K-t-H;return Math.max(I,Math.min(J,L))},_removeResizeHandlerRef:function F(){var G=this;G._resizeHandlerRef.remove()},_setResizeHandlerRef:function F(G){var H=this;H._resizeHandlerRef=G},_isTabAllowed:function F(G){return this.props.tabKeys.indexOf(G)!==-1},_renderMultipleSelectedImagesRow:function F(){var G=this.state.multiImageRowHeight===0?0:this.state.multiImageRowHeight/B,H=null;if(this.props.maxSelectedImages>1){var I=this.props.selectedImageList.map(function(K,L){return c("React").createElement(c("AdsMediaPanelImageBoxContainer.react"),{alt:i._("Selected Image {number} of {total}",[i._param("number",L+1),i._param("total",this.props.selectedImageList.length)]),buyingTypes:this.props.buyingTypes,className:"_16es",decoration:"removable",image:K,imageSpec:this.props.imageSpec,key:K.getUniqueIdentifier(),scaleImageFactor:G,useMediaPanelRedesign:this.props.useMediaPanelRedesign,onDecorationIconClick:this.props.imageHandlers.onSecondaryAction&&this.props.imageHandlers.onSecondaryAction.bind(null,K,c("AdsImageSecondaryActions").X)})}.bind(this)),J="_16et _5xi2"+(this.props.useMediaPanelRedesign?" _2xcc":"")+" clearfix";H=c("React").createElement("div",{className:J,"data-testid":c("AdsTestIDs").SELECTED_IMAGE_PANEL},c("React").createElement("div",{className:"_16eu"},c("React").createElement("h2",{className:"_5xht"},i._("Selected Images")),c("React").createElement("span",{className:"_5xi4"},i._({"*":{"*":"({images} of {max-images})"}},[i._param("images",this.props.selectedImageList.length,[0]),i._param("max-images",this.props.maxSelectedImages,[0])]))),c("React").createElement("div",{className:"_3k2_",ref:"selectedImagesCarouselContainer"},c("React").createElement(c("AdsArrowedCarouselEnhanced.react"),{maxChangeAmount:6},I)))}return H},render:function F(){D[c("AdsMediaPanelTabs").UPLOAD].title=i._({"*":"Upload Images","_1":"Upload Image"},[i._plural(this.props.maxSelectedImages)]);var G=this.props.tabKeys.map(function(I){return{tabKey:I,className:D[I].className,title:D[I].title}}),H=c("React").createElement("div",{"data-testid":c("AdsTestIDs").IMAGE_LIBRARY},c("React").createElement(c("AdsMediaPanelHeader.react"),{selectedTab:this.state.selectedTab,tabConfigs:G,useMediaPanelRedesign:this.props.useMediaPanelRedesign,onTabSwitch:this._switchToTab}),this._renderTabContent(),this._renderEditInlinePostWarning(),this._renderMultipleSelectedImagesRow());if(this.props.theme)return c("React").createElement(c("SUIThemeContainer.react"),{theme:this.props.theme},H);else return H},_switchToTab:function F(G){this.setState({selectedTab:G});this.props.onTabSwitch(G)},_renderEditInlinePostWarning:function F(){return c("React").createElement(c("AdsEditInlinePostWarning.react"),{className:"_5zio",message:this.props.adEditWarningMessage})},_renderTabContent:function F(){var G=D[this.state.selectedTab],H=c("joinClasses")(G.className,"_5xhx _5xhw"),I=this;return I[G.renderer](this.state.selectedTab,H)},_renderUploadTab:function F(G,H){c("AdsImageUploadErrorActions").removeErrors();var I=c("React").createElement("div",{className:"_2z5_"},c("React").createElement(c("SUISpinner.react"),{theme:c("SUIBusinessTheme")}));return c("React").createElement("div",{className:H,key:G},c("React").createElement(c("BootloadedComponent.react"),{accountId:this.props.accountID,allowMultiImage:this.props.allowMultiImage||this.props.maxSelectedImages>1,bootloadLoader:c("JSResource")("AdsUploadImageBox.react").__setRef("AdsMediaPanel.react"),bootloadPlaceholder:I,height:this._getTabContentHeight(),imageSpec:this.props.imageSpec,useMediaPanelRedesign:this.props.useMediaPanelRedesign,validateImageFormat:this.props.validateImageFormat,validateImageSize:this.props.validateImageSize,onUploadClick:this.props.uploadHandlers.onClick,onUploadEnd:this._onUploadEnd,onUploadFail:this.props.uploadHandlers.onFail,onUploadStart:this.props.uploadHandlers.onStart,onUploadSuccess:this.props.uploadHandlers.onSuccess}))},_onUploadEnd:function F(G){__p&&__p();c("Promise").all(G.map(function(H){return c("AdsImageDimensionDataLoader").getDimensionByURL(H.getUrl()).then(function(I){var J=I.width,K=I.height;return H.clone({width:J,height:K})})})).done(function(G){__p&&__p();if(this.props.uploadHandlers.onEnd)this.props.uploadHandlers.onEnd(G);if(!G.length)return;var H=this.state.uploadedImages||[],I=this._filterDuplicateImages(H,G);H=H.concat(I);this.setState({uploadedImages:H});if(this.props.maxSelectedImages===1)this.setState({selectedTab:c("AdsMediaPanelTabs").LIBRARY,filterSet:null},function(){return this.scrollToImage(G[0])}.bind(this))}.bind(this))},_sortDownTooSmallImages:function F(G){__p&&__p();var H=this.props.imageSpec,I=this.props.igSpecificImageSpec,J=this.state.uploadedImages;G=this._filterDuplicateImages(J,G);var K=new Map();G.forEach(function(M,N){return K.set(M,N)});var L=G.sort(function(M,N){__p&&__p();var O=0,P=0;if(I){O+=c("AdsImageValidation").isWarningSize(M,I)?1:0;P+=c("AdsImageValidation").isWarningSize(N,I)?1:0}O+=H&&c("AdsImageValidation").isWarningSize(M,H)?1:0;P+=H&&c("AdsImageValidation").isWarningSize(N,H)?1:0;if(O>P)return-1;else if(O<P)return 1;else return K.get(M)-K.get(N)});return J?J.concat(L):L},_filterDuplicateImages:function F(G,H){if(!G)return H;var I=new Set();G.forEach(function(J){return I.add(J.getUniqueIdentifier())});return H.filter(function(J){return!I.has(J.getUniqueIdentifier())})},_onLibraryEndReached:function F(){if(this.state.canFetchNextLibraryPage&&!this.state.fetchingNextLibraryPage)c("AdsImageActions").loadNextPage(this.props.accountID)},_canSelectImages:function F(){return this.props.maxSelectedImages===1||this.props.selectedImageList.length<this.props.maxSelectedImages},_renderLibraryTab:function F(G,H){__p&&__p();var I=this.props.imageCollection,J=I.getImageCount(this.state.viewFilter.view),K=I.getImages(this.state.viewFilter.view);if(this.props.disableTooSmallImages)K=this._sortDownTooSmallImages(K);if(this.props.filters!=null&&this.state.filterSet!=null)K=c("AdsMediaPanelFilters").applyImageFilters(K,this.state.filterSet);var L=this._onLibraryEndReached,M=null;if(this.state.fetchingNextLibraryPage||!this.state.canFetchNextLibraryPage)M=c("React").createElement(c("AdsMediaPanelInfiniteScrollFooter.react"),{fetchingNextPage:this.state.fetchingNextLibraryPage,imagesLoaded:this.props.userImagesLoaded});if(this.state.viewFilter.view===c("AdsImageCollectionViews").views.PAGE){M=c("React").createElement(c("AdsMediaPanelInfiniteScrollFooter.react"),{fetchingNextPage:this.props.pageFetchingNextPage,imagesLoaded:this.props.pageImagesLoaded});L=this.props.pageOnEndReached}var N=null;if(this.props.useMediaPanelRedesign)N={containerPadding:z,maxImageHeight:B,minImageHeight:C,minImageWidth:x,marginPerImage:A};else N={containerPadding:u,maxImageHeight:v,minImageHeight:w,minImageWidth:x,marginPerImage:y};var O=this._getTabContentHeight()-l,P=void 0;if(this.state.viewFilter.view===c("AdsImageCollectionViews").views.INSTAGRAM)P=c("React").createElement(c("AdsMediaPanelPageLinkInstagramAccountUnit.react"),babelHelpers["extends"]({},this.props,{imageList:K,isClickEnabled:this._canSelectImages(),isLoadingInitial:!this.props.userImagesLoaded,photoArrangeConstraints:N,photoArrangeEnabled:true,ref:"imageLib",scrollingAreaFooter:M,totalHeight:O,onEndReached:L,onImageClick:this.props.imageHandlers.onClick,onImageDoubleClick:this.props.imageHandlers.onDoubleClick}));else if(J>0||!this.props.userImagesLoaded)P=c("React").createElement(c("AdsMediaLibrary.react"),{buyingTypes:this.props.buyingTypes,disableTooSmallImages:this.props.disableTooSmallImages,height:O,igSpecificImageSpec:this.props.igSpecificImageSpec,imageList:K,imageSpec:this.props.imageSpec,isClickEnabled:this._canSelectImages(),isLoadingInitial:!this.props.userImagesLoaded,key:G,photoArrangeConstraints:N,photoArrangeEnabled:true,ref:"imageLib",useMediaPanelRedesign:this.props.useMediaPanelRedesign,scrollingAreaFooter:M,selectedImageList:this.props.selectedImageList,onEndReached:L,onImageClick:this.props.imageHandlers.onClick,onImageDoubleClick:this.props.imageHandlers.onDoubleClick});else{var Q=this._isTabAllowed(c("AdsMediaPanelTabs").STOCK)?i._("Upload images or try using professional stock images at no extra cost."):i._("Upload images to use them for your ads.");P=c("React").createElement(c("AdsMediaPanelMessage.react"),{className:H,icon:j("22542"),style:{height:String(O)+"px"},subtitle:Q,title:i._("There aren't any images in your library.")})}var R=c("AdsMediaPanelViewFilters").filters.map(function(T){return babelHelpers["extends"]({},T,{count:I.getImageCount(T.view)})}).filter(function(T){return T.view!==c("AdsImageCollectionViews").views.INSTAGRAM&&T.count>0||T.view===c("AdsImageCollectionViews").views.INSTAGRAM&&this.props.useInstagramImageCreative}.bind(this)),S=this.props.filters?c("React").createElement("div",{className:"_5y6m"+(this.props.useMediaPanelRedesign?" _2wrx":"")},c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("AdsMediaPanelFilterBar.react").__setRef("AdsMediaPanel.react"),bootloadPlaceholder:c("React").createElement(c("SUISpinner.react"),{theme:c("SUIBusinessTheme")}),filterSet:this.state.filterSet,mediaType:"image",onChange:this._onFilterChange})):null;return c("React").createElement("div",{className:H},c("React").createElement(c("AdsMediaPanelViewFilterBar.react"),{availableViewFilters:R,instagramAccountLinked:!!this.props.instagramAccount&&this.props.instagramAccount.is_published,useMediaPanelRedesign:this.props.useMediaPanelRedesign,viewFilter:this.state.viewFilter,onViewFilterChoose:this._onViewFilterChoose}),S,P)},_onViewFilterChoose:function F(G){if(G.view===this.state.viewFilter.view)return;this.setState({viewFilter:G})},_onFilterChange:function F(G){this.setState({filterSet:G})},_onStockImageClick:function F(G){this.props.imageCollection.addImagesToBack_UNSAFE([G],c("AdsImageCollectionViews").views.STOCK);var H=this.props.imageHandlers.onClick;if(H)H.call(this.props.imageHandlers,G)},_renderStockTab:function F(G,H){return c("React").createElement(c("AdsShutterstockLibrary.react"),{className:H,defaultSearchText:this.props.defaultStockSearchText,disableTooSmallImages:this.props.disableTooSmallImages,imageContainerHeight:this._getTabContentHeight()-l,imageSpec:this.props.imageSpec,isClickEnabled:this._canSelectImages(),key:G,selectedImageList:this.props.selectedImageList,onImageClick:this._onStockImageClick})},_setSelectedImagesRowHeight:function F(){if(this.props.maxSelectedImages>1){var G=c("ReactDOM").findDOMNode(this.refs.selectedImagesCarouselContainer);this.setState({multiImageRowHeight:G.offsetHeight})}},scrollToImage:function F(G){this.refs.imageLib.scrollToImage(G)}});f.exports=E}),null);
__d("SUIModalCancelButton.react",["fbt","React","SUIButton.react","SUIComponent"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("SUIComponent"));j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement(c("SUIButton.react"),babelHelpers["extends"]({},this.props,{label:h._("Cancel"),layerAction:"cancel"}))};function k(){i.apply(this,arguments)}k.defaultProps=c("SUIButton.react").defaultProps;f.exports=k}),null);
__d("BUIAdoptionDialogCancelButton.react",["BUIAdoptionButton.react","React","SUIBusinessTheme","SUIButton.react","SUIModalCancelButton.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){return c("React").createElement(c("SUIModalCancelButton.react"),babelHelpers["extends"]({theme:c("SUIBusinessTheme")},this.props))};j.getButtonSize=function(k){return c("BUIAdoptionButton.react").getButtonSize(k)};function j(){h.apply(this,arguments)}j.defaultProps=c("SUIButton.react").defaultProps;j.propTypes=c("SUIButton.react").propTypes;f.exports=j}),null);
__d("SUIModalConfirmButton.react",["fbt","React","SUIButton.react","SUIComponent"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("SUIComponent"));j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement(c("SUIButton.react"),babelHelpers["extends"]({},this.props,{label:h._("Confirm"),layerAction:"confirm",use:"confirm"}))};function k(){i.apply(this,arguments)}k.defaultProps=c("SUIButton.react").defaultProps;f.exports=k}),null);
__d("BUIAdoptionDialogConfirmButton.react",["BUIAdoptionButton.react","React","SUIBusinessTheme","SUIButton.react","SUIModalConfirmButton.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){return c("React").createElement(c("SUIModalConfirmButton.react"),babelHelpers["extends"]({theme:c("SUIBusinessTheme")},this.props))};j.getButtonSize=function(k){return c("BUIAdoptionButton.react").getButtonSize(k)};function j(){h.apply(this,arguments)}j.defaultProps=c("SUIButton.react").defaultProps;j.propTypes=c("SUIButton.react").propTypes;f.exports=j}),null);
__d("BUIAdoptionHorizontalLayout.react",["BUIAdoptionWrapper.react","React","SUIBusinessTheme","SUIHorizontalLayout.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){var k=c("React").createElement(c("SUIHorizontalLayout.react"),babelHelpers["extends"]({},this.props,{theme:c("SUIBusinessTheme")}),this.props.children);return c("React").createElement(c("BUIAdoptionWrapper.react"),{enabled:true,fallback:k},k)};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("AdsImageDialog.react",["cx","invariant","Promise","AdImageSpecsUtils","AdsImageCollection","AdsImageCollectionViews","AdsImageLegacy","AdsImageSecondaryActions","AdsImageUploadStartDataAction","AdsImageUploadUploadSuccessDataAction","AdsMediaPanel.react","AdsMediaPanelTabs","AdsShutterstockImageByIDStore","AdsTestIDs","BUIAdoptionDialogCancelButton.react","BUIAdoptionDialogConfirmButton.react","BUIAdoptionHorizontalLayout.react","LayerFadeOnHide","LayerHideOnEscape","LayerHideOnTransition","LayerRemoveOnHide","React","XUIDialog.react","XUIDialogFooter.react","deepFreezeValue","emptyFunction","nullthrows"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l,m,n=c("React").PropTypes,o=[c("AdsMediaPanelTabs").UPLOAD,c("AdsMediaPanelTabs").LIBRARY,c("AdsMediaPanelTabs").STOCK],p={LayerFadeOnHide:c("LayerFadeOnHide"),LayerHideOnEscape:c("LayerHideOnEscape"),LayerHideOnTransition:c("LayerHideOnTransition"),LayerRemoveOnHide:c("LayerRemoveOnHide")},q=[];c("deepFreezeValue")(q);j=babelHelpers.inherits(r,c("React").PureComponent);k=j&&j.prototype;function r(A){k.constructor.call(this,A);s.call(this);var B=A.selectedImages.map(x);this.state={selectedLegacyImageList:B,userConfirmed:false,userSelected:false}}r.prototype.UNSAFE_componentWillMount=function(){t(this.props.accountID,this.props.libraryImages,this.props.instagramAccount,this.props.instagramImages,this.props.pageImages||[],this.state.selectedLegacyImageList||[],{maxSelectedImages:this.props.maxSelectedImages})};r.prototype.UNSAFE_componentWillReceiveProps=function(A){var B=A.accountID,C=A.libraryImages,D=A.instagramAccount,E=A.instagramImages,F=A.pageImages,G=A.maxSelectedImages;t(B,C,D,E,F,this.state.selectedLegacyImageList||[],{maxSelectedImages:G})};r.prototype.render=function(){var A=c("AdImageSpecsUtils").reduceMinImageSpec(this.props.specs),B=A.imageSpec,C=A.igSpecificImageSpec,D={onClick:this.$AdsImageLegacyDialog1,onDoubleClick:this.$AdsImageLegacyDialog2,onSecondaryAction:this.$AdsImageLegacyDialog3},E={onEnd:this.$AdsImageLegacyDialog4,onStart:this.$AdsImageLegacyDialog5},F=this.props.maxSelectedImages,G=y(this.props.accountID,{maxSelectedImages:F});return c("React").createElement(c("XUIDialog.react"),{behaviors:p,shown:true,width:860,onToggle:this.props.onCancel},c("React").createElement(c("AdsMediaPanel.react"),babelHelpers["extends"]({},this.props,{buttonStyle:"done",disableTooSmallImages:!!B,igSpecificImageSpec:C,imageCollection:G,imageHandlers:D,imageSpec:B,initialSelectedTab:this.props.initialTab,instagramAccount:this.props.instagramAccount,maxSelectedImages:F,selectedImageList:this.state.selectedLegacyImageList,stockSearchText:"",tabKeys:this.props.tabKeys||o,uploadHandlers:E})),c("React").createElement(c("XUIDialogFooter.react"),{className:"_5h0r"},c("React").createElement(c("BUIAdoptionHorizontalLayout.react"),null,c("React").createElement(c("BUIAdoptionDialogCancelButton.react"),null),c("React").createElement(c("BUIAdoptionDialogConfirmButton.react"),{"data-testid":c("AdsTestIDs").IMAGE_DIALOG_CLOSE_BUTTON,disabled:!this.state.userSelected||this.state.userConfirmed,use:"confirm",onClick:this.$AdsImageLegacyDialog6}))))};r.prototype.$AdsImageLegacyDialog10=function(A){return new(c("Promise"))(function(B,C){c("AdsShutterstockImageByIDStore").addLegacyCallback_DONT_USE_IN_NEW_CODE(c("nullthrows")(A.getStockImageID()),function(D){if(D.hasError()){this.setState({userConfirmed:false});i(0)}else if(D.hasValue())B(babelHelpers["extends"]({},A.toJSON(),{url:D.getValueEnforcing().get("preview_url")}))}.bind(this))}.bind(this))};r.prototype.$AdsImageLegacyDialog5=function(){c("AdsImageUploadStartDataAction").dispatch({})};r.propTypes={accountID:n.string.isRequired,allowMultiImage:n.bool,defaultStockSearchText:n.string,initialTab:n.string,instagramAccount:n.object,libraryImages:n.arrayOf(n.shape({url:n.string.isRequired,hash:n.oneOfType([n.string,n.oneOf([null,undefined])])})).isRequired,maxSelectedImages:n.number.isRequired,pageImages:n.arrayOf(n.instanceOf(c("AdsImageLegacy"))),selectedImages:n.arrayOf(n.shape({stockImageID:n.string,url:n.string,hash:n.string}).isRequired).isRequired,specs:n.arrayOf(n.shape({minWarningWidth:n.number.isRequired,minWarningHeight:n.number.isRequired})).isRequired,tabKeys:n.arrayOf(n.string),onCancel:n.func,onSelect:n.func.isRequired};r.defaultProps={defaultStockSearchText:"",initialTab:c("AdsMediaPanelTabs").LIBRARY,instagramAccount:null,instagramImages:[],libraryImages:[],maxSelectedImages:1,onSelect:c("emptyFunction"),pageFetchingNextPage:false,pageImages:[],pageImagesLoaded:true,pageOnEndReached:c("emptyFunction"),selectedImages:[],specs:[]};var s=function s(){__p&&__p();this.$AdsImageLegacyDialog7=function(A,B){var C=this.props.maxSelectedImages,D=y(this.props.accountID,{maxSelectedImages:C});D.setImageSelected(A,true);var E=this.state.selectedLegacyImageList.concat(A),F=E.length-C;if(F>0){for(var G=0;G<F;G++)D.setImageSelected(A,false);E=E.slice(F,E.length)}this.setState({selectedLegacyImageList:E,userSelected:true},B||c("emptyFunction"))}.bind(this);this.$AdsImageLegacyDialog3=function(A,B){if(B===c("AdsImageSecondaryActions").X)this.$AdsImageLegacyDialog8(A)}.bind(this);this.$AdsImageLegacyDialog8=function(A){var B=y(this.props.accountID,{maxSelectedImages:this.props.maxSelectedImages});B.setImageSelected(A,false);var C=this.state.selectedLegacyImageList.filter(function(D){return!D.equals(A)});this.setState({selectedLegacyImageList:C,userSelected:true})}.bind(this);this.$AdsImageLegacyDialog9=function(A){A.forEach(function(B){return delete B.crops});if(this.props.maxSelectedImages===1)A.length||i(0);this.props.onSelect(A)}.bind(this);this.$AdsImageLegacyDialog6=function(A){__p&&__p();var B,C=this;A&&A.preventDefault();var D=[];if(this.state.userSelected)(function(){__p&&__p();var E=[];C.state.selectedLegacyImageList.forEach(function(F){if(F.isStockImage())E.push(this.$AdsImageLegacyDialog10(F))}.bind(C));if(E.length>0)C.setState({userConfirmed:true});c("Promise").all(E).done(function(F){F.reverse();this.state.selectedLegacyImageList.forEach(function(G){if(G.isStockImage())D.push(F.pop());else D.push(G.toJSON())});this.$AdsImageLegacyDialog9(D)}.bind(C))})()}.bind(this);this.$AdsImageLegacyDialog1=function(A){var B=this.state.selectedLegacyImageList.some(function(C){return C.equals(A)});if(B){if(this.props.maxSelectedImages>1)this.$AdsImageLegacyDialog8(A)}else this.$AdsImageLegacyDialog7(A)}.bind(this);this.$AdsImageLegacyDialog2=function(A){var B=this.props.selectedImages;if(this.props.maxSelectedImages==1&&B.length){var C=x(B[0]);if(C&&C.equals(A))return;else if(C)this.$AdsImageLegacyDialog7(A,this.$AdsImageLegacyDialog6)}}.bind(this);this.$AdsImageLegacyDialog4=function(A){__p&&__p();var B=A.filter(function(E){return!this.state.selectedLegacyImageList.find(function(F){return F.equals(E)})}.bind(this)),C=B.map(function(E){return{hash:E.getAdAccountHash(),url:E.getUrl(),id:E.getID()}});c("AdsImageUploadUploadSuccessDataAction").dispatch({imagesData:{imagesData:C}});var D=[];D=B.map(function(E){return{legacyImage:E,view:c("AdsImageCollectionViews").views.LIBRARY}});u(this.props.accountID,this.props.instagramAccount,D,false,{maxSelectedImages:this.maxSelectedImages});B.forEach(function(E){return this.$AdsImageLegacyDialog7(E)}.bind(this))}.bind(this)};function t(A,B,C,D,E,F,G){__p&&__p();var H=[];if(B.length)B.forEach(function(I){H.push({legacyImage:new(c("AdsImageLegacy"))(I),view:c("AdsImageCollectionViews").views.LIBRARY})});if(D.length)D.forEach(function(I){H.push({legacyImage:new(c("AdsImageLegacy"))({url:I.url,imageType:"INSTAGRAM"}),view:c("AdsImageCollectionViews").views.INSTAGRAM})});if(E.length)E.forEach(function(I){H.push({legacyImage:I,view:c("AdsImageCollectionViews").views.PAGE})});if(F.length)F.filter(function(I){return!!I.getAdAccountHash()}).forEach(function(I){H.push({legacyImage:I,view:c("AdsImageCollectionViews").views.LIBRARY})});if(H.length)u(A,C,H,true,G)}function u(A,B,C,D,E){__p&&__p();var F;if(C&&C.length)(function(){__p&&__p();var G=y(A,E),H=[],I=B?B.id:null,J=w[A];if(I!==J){w[A]=I;G.clearImagesByViewBitmask(c("AdsImageCollectionViews").views.INSTAGRAM)}C.forEach(function(L){if(!G.hasImage(L.legacyImage))H.push(L)});if(H.length){var K=[c("AdsImageCollectionViews").views.INSTAGRAM,c("AdsImageCollectionViews").views.LIBRARY,c("AdsImageCollectionViews").views.PAGE];K.map(function(L){var M=H.filter(function(N){return N.view===L}).map(function(N){return N.legacyImage});if(D)G.addImagesToBack(M,L);else G.addImagesToFront(M,L)})}})()}var v={},w={};function x(A){if(A)return new(c("AdsImageLegacy"))(A);else return null}function y(A,B){var C=v[A];if(!C){C=new(c("AdsImageCollection"))(B);v[A]=C}return C}l=babelHelpers.inherits(z,c("React").Component);m=l&&l.prototype;z.prototype.render=function(){return c("React").createElement(r,this.props)};function z(){l.apply(this,arguments)}f.exports=z}),null);
__d("AssetLibraryAPIUtils.brands",["BizSiteIdentifier.brands"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={getTagFieldsForAudiences:function i(){var j=[];if(c("BizSiteIdentifier.brands").isBizSite()){var k=c("BizSiteIdentifier.brands").getBusinessID();if(k)j.push("business_object_tags.business_id("+k+").fields(name)")}return j}};f.exports=h}),null);
__d("AdsAPIAssetLibraryFilteringFields",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BUSINESS_TAG_ID:"business_tag_id",BUSINESS_SMART_FOLDER:"business_smart_folder"})}),null);
__d("AssetLibrarySearchUtils.brands",["cx","AdsAPIAssetLibraryFilteringFields","AdsGenericFilterField","AdsGenericFilterFieldType","AdsGenericFilter","AdsGenericFilterSet","AdsGenericFilterOperatorConfig","SearchableEntry","AssetLibraryAppConstants.brands"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("AssetLibraryAppConstants.brands").SEARCH_RESULT_TYPES,j={getFilterSetForTag:function k(l){if(l===""||!l)return null;return new(c("AdsGenericFilterSet"))([new(c("AdsGenericFilter"))(new(c("AdsGenericFilterField"))("business_tag_id",c("AdsGenericFilterFieldType").NUMBER),c("AdsGenericFilterOperatorConfig").EQUAL.operator,l)])},getFilterSetForSmartFolder:function k(l){return new(c("AdsGenericFilterSet"))([new(c("AdsGenericFilter"))(new(c("AdsGenericFilterField"))(l.field,c("AdsGenericFilterFieldType").STRING),l.operator,l.value)])},getAssetLibraryFilteringParams:function k(l){if(!l)return[];var m=l.toAPI(),n=[];m.forEach(function(o){var p=this._getFilteringParam(o);if(p)n.push(p)}.bind(this));return n},getSearchableEntryFromTag:function k(l){return new(c("SearchableEntry"))({type:i.TAG,auxiliaryData:{iconClass:"_11_6"},uniqueID:l.id,title:l.name,keywordString:l.name})},_getFilteringParam:function k(l){var m=Object.values(c("AdsAPIAssetLibraryFilteringFields"));if(m.indexOf(l.field)>-1)return{field:l.field,operator:l.operator,value:l.value};return null}};f.exports=j}),null);
__d("AdsImageListDataManager",["Promise","AdsAPIAdAccountFields","AdsGraphAPI","AdsImageActions","AdsImageDataManagerFields","AssetLibraryAPIUtils.brands","AssetLibrarySearchUtils.brands","BizSiteIdentifier.brands"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=100;i.prototype.load=function(j){var k=j.accountID,l=j.sortBy,m=j.query,n=j.filterSet,o=n?c("AssetLibrarySearchUtils.brands").getAssetLibraryFilteringParams(n):null,p=c("AdsImageDataManagerFields").concat(c("AssetLibraryAPIUtils.brands").getTagFieldsForAudiences()),q={date_format:"U",fields:p,limit:h,sort:l,name:m,filtering:o,business_id:c("BizSiteIdentifier.brands").getBusinessID()};c("AdsGraphAPI").get(f.id).adaccount(k).edge(c("AdsAPIAdAccountFields").ADIMAGES).batched().get(q).done(function(r){return c("AdsImageActions").imageListLoaded(j,r.data,r.next)},function(r){return c("AdsImageActions").imagesLoadError(r)})};i.prototype.loadNextPage=function(j,k){k().then(function(l){return c("AdsImageActions").imageListLoaded(j,l.data,l.next)})};i.prototype.deleteChild=function(j,k,l){return new(c("Promise"))(function(m,n){c("AdsGraphAPI").get(f.id).adaccount(j).edge("adimages").batched().remove({hash:k}).done(function(o){return m(o)},function(o){var p=o.error_user_msg||o.message;l&&l(p);n(o)})})};i.prototype.deleteCreative=function(j){return new(c("Promise"))(function(k,l){c("AdsGraphAPI").get(f.id).object("adcreative",j).batched().remove().done(function(m){return k(m)},function(m){return l(m)})})};function i(){}f.exports=new i()}),null);
__d("AdsImageListStore",["Promise","AdsDataAtom","AdsImageActions","AdsImageImagesDeleteDataAction","AdsImageImagesEndReachedDataAction","AdsImageImagesInvalidatedDataAction","AdsImageListDataManager","AdsImageListLoadedDataAction","AssetLibraryAppConstants.brands","FluxLoadObjectStore","LoadObject"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("AssetLibraryAppConstants.brands").ACTION;h=babelHelpers.inherits(k,c("FluxLoadObjectStore"));i=h&&h.prototype;function k(l){i.constructor.call(this,l);this.__moduleID=f.id}k.prototype.reduce=function(l,m){__p&&__p();var n=m.action;switch(n.actionType){case c("AdsImageImagesDeleteDataAction").actionType:l=this.$AdsImageListStore1(l,n);break;case c("AdsImageImagesInvalidatedDataAction").actionType:l=l.clear();break;case c("AdsImageListLoadedDataAction").actionType:l=this.$AdsImageListStore2(l,n);break;case c("AdsImageImagesEndReachedDataAction").actionType:l=this.$AdsImageListStore3(l,n);break;case j.ADD_TAG_TO_OBJECT_SUCCESS:l=l.clear();break}return l};k.prototype.$AdsImageListStore1=function(l,m){var n=m.imageListRecord,o=n.accountID,p=c("LoadObject").empty(),q=this.$AdsImageListStore4(l,n),r=q.imageList;this.$AdsImageListStore5(o,m.imageList,r);p=p.setValue({imageList:[]}).deleting();return l.set(n,p)};k.prototype.$AdsImageListStore2=function(l,m){var n=m.imageListRecord,o=this.$AdsImageListStore4(l,n),p=o.imageList,q=m.loadNextPage,r=c("LoadObject").empty(),s=m.images.map(function(t){return t.hash});p=p.concat(s);r=r.setValue({imageList:p,loadNextPage:q}).done();l=l.set(n,r);return l};k.prototype.$AdsImageListStore3=function(l,m){var n=m.imageListRecord,o=this.$AdsImageListStore4(l,n),p=o.imageList,q=o.loadNextPage;if(q){var r=c("LoadObject").empty();r=r.setValue({imageList:p,loadNextPage:undefined}).updating();l=l.set(n,r);this.$AdsImageListStore6(n,q)}return l};k.prototype.$AdsImageListStore4=function(l,m){var n=l.get(m)||c("LoadObject").empty(),o=n.getValue()||{},p=o.imageList||[],q=o.loadNextPage;return{imageList:p,loadNextPage:q}};k.prototype.$AdsImageListStore5=function(l,m){var n=c("Promise").all(m.map(function(o){return this.$AdsImageListStore7(l,o)}.bind(this)));n.then(function(o){return c("AdsImageActions").imagesInvalidated()})};k.prototype.$AdsImageListStore7=function(l,m){return c("AdsImageListDataManager").deleteChild(l,m)};k.prototype.$AdsImageListStore6=function(l,m){c("AdsImageListDataManager").loadNextPage(l,m)};k.prototype.__load=function(l){c("AdsImageListDataManager").load(l)};f.exports=new k(c("AdsDataAtom"))}),null);
__d("AdsImageListStoreRecord",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h=c("immutable").Record({accountID:"",sortBy:"",query:"",filterSet:null});f.exports=h}),null);
__d("AdsInstagramAccountMediaQuery",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({accountID:undefined,contentType:undefined,limit:undefined,sortBy:""});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("AdsInstagramMediaListBatchLoadErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"INSTAGRAM_MEDIA_LIST.BATCH_LOAD_ERROR");f.exports=h}),null);
__d("AdsInstagramMediaListBatchLoadedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"INSTAGRAM_MEDIA_LIST.BATCH_LOADED");f.exports=h}),null);
__d("AdsInstagramMediaListPartialLoadDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"INSTAGRAM_MEDIA_LIST.PARTIAL_LOAD");f.exports=h}),null);
__d("AdsInstagramMediaSingleListLoadedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"INSTAGRAM_MEDIA_LIST.SINGLE_LOADED");f.exports=h}),null);
__d("AdsInstagramAccountMediaListActions",["AdsInstagramMediaListBatchLoadedDataAction","AdsInstagramMediaListBatchLoadErrorDataAction","AdsInstagramMediaListPartialLoadDataAction","AdsInstagramMediaSingleListLoadedDataAction"],(function a(b,c,d,e,f,g){"use strict";var h={mediaListLoaded:function i(j,k){c("AdsInstagramMediaSingleListLoadedDataAction").dispatch({data:{instagramUserID:j,media:k}})},mediaListBatchLoaded:function i(j){c("AdsInstagramMediaListBatchLoadedDataAction").dispatch({responses:j})},mediaListBatchLoadError:function i(j){c("AdsInstagramMediaListBatchLoadErrorDataAction").dispatch({errors:j})},mediaListPartialBatchLoaded:function i(j,k){c("AdsInstagramMediaListPartialLoadDataAction").dispatch({data:{instagramUserID:j,media:k}})}};f.exports=h}),null);
__d("AdsInstagramMediaListLoadedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_INSTAGRAM_MEDIA_LIST_LOADED");f.exports=h}),null);
__d("AdsInstagramAccountMediaListDataManager",["AdsBaseListDataManager","AdsGenericFilter","AdsGenericFilterField","AdsGenericFilterFieldType","AdsGenericFilterOperator","AdsGenericFilterSet","AdsGraphAPI","AdsInstagramAccountMediaListActions","AdsInstagramMediaListLoadedDataAction","GraphAPIPaging"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=100,k=["id","content_type","display_url","is_sub_media","taken_at","video_metadata","video_url"];h=babelHelpers.inherits(l,c("AdsBaseListDataManager"));i=h&&h.prototype;l.prototype.loadFor=function(m){c("AdsGraphAPI").get(f.id).object("instagram_object",m).edge("instagram_media").get({fields:["id"],limit:j}).then(c("GraphAPIPaging").eachPage(function(n){return this.$AdsInstagramAccountMediaListDataManager1(m,n.data)}.bind(this))).done(this.__handleSuccess.bind(this,["load"],m,null),this.__handleError.bind(this,["load"],m,null))};l.prototype.load=function(m,n){var o=m.accountID,p=m.contentType,q=m.limit,r=m.sortBy;q=q?q:j;var s=typeof p==="number"?new(c("AdsGenericFilterSet"))([new(c("AdsGenericFilter"))(new(c("AdsGenericFilterField"))("content_type",c("AdsGenericFilterFieldType").NUMBER),c("AdsGenericFilterOperator").EQUAL,p)]).toAPI():null,t={fields:k,filtering:s,limit:q,sort:r,after:n};c("AdsGraphAPI").get(f.id).object("instagram_object",o).edge("instagram_media").get(t).done(function(u){return c("AdsInstagramMediaListLoadedDataAction").dispatch({response:{query:m,mediaList:u.data,after:u.paging&&u.paging.next?u.paging.cursors.after:undefined}})},this.__handleError.bind(this,["load"],o,null))};l.prototype.$AdsInstagramAccountMediaListDataManager1=function(m,n){c("AdsInstagramAccountMediaListActions").mediaListPartialBatchLoaded(m,n)};l.prototype.__onBatchLoaded=function(m){c("AdsInstagramAccountMediaListActions").mediaListBatchLoaded(m)};l.prototype.__onBatchLoadError=function(m){c("AdsInstagramAccountMediaListActions").mediaListBatchLoadError(m)};function l(){h.apply(this,arguments)}f.exports=new l()}),null);
__d("AdsInstagramMediaListStore",["AdsDataAtom","AdsInstagramAccountMediaListDataManager","AdsInstagramMediaListLoadedDataAction","FluxLoadObjectStore","immutable","LoadObject"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxLoadObjectStore"));i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.__moduleID=f.id,l}j.prototype.reduce=function(k,l){var m=l.action;switch(m.type){case c("AdsInstagramMediaListLoadedDataAction").actionType:return this.$AdsInstagramMediaListStore1(k,m.response);default:return k}};j.prototype.$AdsInstagramMediaListStore1=function(k,l){var m=l.query,n=l.after,o=l.mediaList||[];if(k.get(m)&&k.get(m).hasValue())o=k.get(m).getValueEnforcing().mediaList.concat(o);return this.__handleOne(k,m,{mediaList:o,after:n})};j.prototype.__load=function(k){c("AdsInstagramAccountMediaListDataManager").load(k)};f.exports=new j(c("AdsDataAtom"))}),null);
__d("AdsPageImageListImagesEndReachedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"PAGE_IMAGE_LIST.IMAGES_END_REACHED");f.exports=h}),null);
__d("AdsPageImageListImagesLoadedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"PAGE_IMAGE_LIST.IMAGES_LOADED");f.exports=h}),null);
__d("PageImageListActions",["AdsPageImageListImagesEndReachedDataAction","AdsPageImageListImagesLoadedDataAction"],(function a(b,c,d,e,f,g){"use strict";var h={imageListLoaded:function i(j,k,l){c("AdsPageImageListImagesLoadedDataAction").dispatch({data:{imageListRecord:j,imageList:k,loadNextPage:l}})},imagesEndReached:function i(j){c("AdsPageImageListImagesEndReachedDataAction").dispatch({data:{imageListRecord:j}})}};f.exports=h}),null);
__d("PageImageListDataManager",["AdsGraphAPI","AdsImageLegacy","AssetLibraryAPIUtils.brands","AssetLibrarySearchUtils.brands","BizSiteIdentifier.brands","PageImageListActions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();h.prototype.load=function(i){var j=i.pageID,k=i.sortBy,l=i.query,m=i.filterSet,n=m?c("AssetLibrarySearchUtils.brands").getAssetLibraryFilteringParams(m):null,o=["images","picture","id"];o=o.concat(c("AssetLibraryAPIUtils.brands").getTagFieldsForAudiences());var p={fields:o,type:"uploaded",name:l,sort:k,filtering:n,business_id:c("BizSiteIdentifier.brands").getBusinessID()};c("AdsGraphAPI").get(f.id).object("page",j).edge("photos").get(p).done(function(q){var r=q.next?q.next.bind(q):null;c("PageImageListActions").imageListLoaded(i,this.$PageImageListDataManager1(q.data),r)}.bind(this))};h.prototype.loadNextPage=function(i,j){j().done(function(k){var j=k.next?k.next.bind(k):null;c("PageImageListActions").imageListLoaded(i,this.$PageImageListDataManager1(k.data),j)}.bind(this))};h.prototype.$PageImageListDataManager1=function(i){return i.map(function(j){var k=j.images.reduce(function(l,m){return l.width<m.width?m:l});return new(c("AdsImageLegacy"))({height:k.height,url:k.source,url_128:j.picture,width:k.width,id:j.id,imageType:"PAGE",business_object_tags:j.business_object_tags})})};function h(){}f.exports=new h()}),null);
__d("PageImageListStore",["AdsDataAtom","AdsPageImageListImagesEndReachedDataAction","AdsPageImageListImagesLoadedDataAction","AssetLibraryAppConstants.brands","FluxLoadObjectStore","LoadObject","PageImageListDataManager"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("AssetLibraryAppConstants.brands").ACTION;h=babelHelpers.inherits(k,c("FluxLoadObjectStore"));i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.__moduleID=f.id,m}k.prototype.reduce=function(l,m){var n=m.action;switch(n.type){case c("AdsPageImageListImagesLoadedDataAction").actionType:return this.$PageImageListStore1(l,n.data);case c("AdsPageImageListImagesEndReachedDataAction").actionType:return this.$PageImageListStore2(l,n.data);case j.ADD_TAG_TO_OBJECT_SUCCESS:l=l.clear();return l;default:return l}};k.prototype.$PageImageListStore3=function(l,m){var n=l.get(m)||c("LoadObject").empty(),o=n.getValue()||{},p=o.imageList||[],q=o.loadNextPage;return{imageList:p,loadNextPage:q}};k.prototype.$PageImageListStore2=function(l,m){var n=m.imageListRecord,o=this.$PageImageListStore3(l,n),p=o.imageList,q=o.loadNextPage;if(q){var r=c("LoadObject").empty();r=r.setValue({imageList:p,loadNextPage:undefined}).updating();l=l.set(n,r);this.$PageImageListStore4(n,q)}return l};k.prototype.$PageImageListStore1=function(l,m){var n=m.imageListRecord,o=m.imageList,p=m.loadNextPage,q=this.$PageImageListStore3(l,n).imageList;o=q.concat(o);var r=c("LoadObject").empty();r=r.setValue({imageList:o,loadNextPage:p}).done();l=l.set(n,r);return l};k.prototype.$PageImageListStore4=function(l,m){c("PageImageListDataManager").loadNextPage(l,m)};k.prototype.__load=function(l){c("PageImageListDataManager").load(l)};f.exports=new k(c("AdsDataAtom"))}),null);
__d("PageImageListPagingStore",["AdsDataAtom","FluxDerivedStore","PageImageListActions","PageImageListStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxDerivedStore"));i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.__moduleID=f.id,l}j.prototype.__getData=function(k){return c("PageImageListStore").get(k)};j.prototype.__computeResult=function(k,l){var m=l.getValue()||{},n=m.imageList||[],o=l.hasValue(),p=l.isUpdating();return{fetchingNextPage:p,imagesLoaded:o,imageList:n,onEndReached:this.$PageImageListPagingStore1(k)}};j.prototype.__getStores=function(){return[c("PageImageListStore")]};j.prototype.$PageImageListPagingStore1=function(k){return function(){c("PageImageListActions").imagesEndReached(k)}};f.exports=new j(c("AdsDataAtom"))}),null);
__d("PageImageListStoreRecord",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h=c("immutable").Record({pageID:"",sortBy:"",query:"",filterSet:null});f.exports=h}),null);
__d("AdsImageDialogContainer.react",["AdsFluxContainer","AdsImageDialog.react","AdsImageListStore","AdsImageListStoreRecord","AdsImageStore","AdsInstagramAccountMediaQuery","AdsInstagramIdentityUtils","AdsInstagramMediaListStore","AdsInstagramUsernameStore","AdsLoadStateUtils_LEGACY","AdsPageInstagramAccountStore","InstagramSlipstreamMediaContentType","PageImageListPagingStore","PageImageListStoreRecord","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").Component;h=babelHelpers.inherits(k,j);i=h&&h.prototype;k.getStores=function(){return[c("AdsInstagramMediaListStore"),c("AdsInstagramUsernameStore"),c("AdsPageInstagramAccountStore"),c("PageImageListPagingStore")]};k.calculateState=function(l,m){__p&&__p();var n=m.accountID,o=new(c("AdsImageListStoreRecord"))({accountID:n}),p=c("AdsImageListStore").get(o),q=p.getValue()||{},r=q.imageList||[],s=c("AdsImageStore").getAllFor(m.accountID,r),t=c("AdsLoadStateUtils_LEGACY").getLoadedValues(s),u=m.pageID?c("AdsPageInstagramAccountStore").getPageLinkOrUnlinkAccountErrors(m.pageID):[],v=new(c("PageImageListStoreRecord"))({pageID:m.pageID}),w=m.pageID?c("PageImageListPagingStore").get(v):{},x=null,y=null;if(m.selectedInstagramAccountID){y=c("AdsInstagramUsernameStore").get(m.selectedInstagramAccountID);if(c("AdsLoadStateUtils_LEGACY").isLoaded(y))x=y}else if(m.pageID){y=c("AdsPageInstagramAccountStore").get(m.pageID);x=c("AdsInstagramIdentityUtils").getEligibleInstagramAccount(false,y)}var z=y?y.loadState:null,A=[];if(m.useInstagramImageCreative&&x&&x.id){var B=new(c("AdsInstagramAccountMediaQuery"))({accountID:x.id,contentType:c("InstagramSlipstreamMediaContentType").MEDIA_CONTENT_TYPE_PHOTO}),C=c("AdsInstagramMediaListStore").get(B);if(C.hasValue())C.getValueEnforcing().mediaList.forEach(function(D){A.push({url:D.display_url})})}return{instagramAccount:x,instagramAccountLoadState:z,instagramImages:A,libraryImages:t,pageLinkOrUnlinkAccountError:u,pageImages:w.imageList,pageImagesLoaded:w.imagesLoaded,pageFetchingNextPage:w.fetchingNextPage,pageOnEndReached:w.onEndReached}};k.prototype.render=function(){return c("React").createElement(c("AdsImageDialog.react"),babelHelpers["extends"]({},this.props,{instagramAccount:this.state.instagramAccount,instagramAccountLoadState:this.state.instagramAccountLoadState,instagramImages:this.state.instagramImages,libraryImages:this.props.libraryImages||this.state.libraryImages,pageFetchingNextPage:this.state.pageFetchingNextPage,pageImages:this.state.pageImages,pageImagesLoaded:this.state.pageImagesLoaded,pageLinkOrUnlinkAccountError:this.state.pageLinkOrUnlinkAccountError,pageOnEndReached:this.state.pageOnEndReached}))};function k(){h.apply(this,arguments)}f.exports=c("AdsFluxContainer").create(k,{withProps:true,name:f.id})}),null);
__d("AdsImageSelectorV2ConfigUtils",["AdsImageSelectorV2Types","immutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("AdsImageSelectorV2Types").AdsImageSource;function i(n,o,p){return{type:h.ACCOUNT_IMAGE,accountImageSourceProps:{accountID:n,imageSpecs:o,usePhotoArrange:p}}}function j(n,o,p){return{type:h.PAGE_IMAGE,pageImageSourceProps:{pageID:n,imageSpecs:o,usePhotoArrange:p}}}function k(n){return{type:h.STOCK_IMAGE,stockImageSourceProps:{defaultSearchText:n}}}function l(n,o,p,q){return{type:h.UPLOAD_IMAGE,uploadImageSourceProps:{accountID:n,allowMultiImage:p,imageSpec:o,useMediaPanelRedesign:q}}}function m(n,o,p){return{type:h.INSTAGRAM_IMAGE,instagramImageSourceProps:{instagramAccountID:n,imageSpecs:o,usePhotoArrange:p}}}f.exports={getAccountImageConfig:i,getInstagramImageConfig:m,getPageImageConfig:j,getStockImageConfig:k,getUploadImageConfig:l}}),null);
__d("AdsImageSelectorV2AddSelectedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_IMAGE_SELECTOR_V2_ADD_SELECTED");f.exports=h}),null);
__d("AdsImageSelectorV2ClearSelectedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_IMAGE_SELECTOR_V2_CLEAR_SELECTED");f.exports=h}),null);
__d("AdsImageSelectorV2RemoveSelectedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_IMAGE_SELECTOR_V2_REMOVE_SELECTED");f.exports=h}),null);
__d("AdsImageSelectorV2SetMaxSelectedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_IMAGE_SELECTOR_V2_SET_MAX_SELECTED");f.exports=h}),null);
__d("AdsImageSelectorV2SetSelectedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_IMAGE_SELECTOR_V2_SET_SELECTED");f.exports=h}),null);
__d("AdsImageSelectorV2SetSelectedSourceTypeDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_IMAGE_SELECTOR_V2_SET_SELECTED_SOURCE_TYPE");f.exports=h}),null);
__d("AdsImageSelectorV2SetSourceTypesDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"ADS_IMAGE_SELECTOR_V2_SET_SOURCE_TYPES");f.exports=h}),null);
__d("AdsImageSelectorV2StateStoreRecord",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({maxSelectedImageIDs:1,selectedImageIDs:c("immutable").OrderedSet(),selectedSourceType:null,sourceTypes:null});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("AdsImageSelectorV2StateStore",["invariant","AdsDataAtom","AdsImageIDClasses","AdsImageSelectorV2AddSelectedDataAction","AdsImageSelectorV2ClearSelectedDataAction","AdsImageSelectorV2RemoveSelectedDataAction","AdsImageSelectorV2SetMaxSelectedDataAction","AdsImageSelectorV2SetSelectedDataAction","AdsImageSelectorV2SetSelectedSourceTypeDataAction","AdsImageSelectorV2SetSourceTypesDataAction","AdsImageSelectorV2StateStoreRecord","AdsImageSelectorV2Types","AdsImageUploadUploadSuccessDataAction","FBLogger","FluxReduceStore","immutable"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("AdsImageIDClasses").AdsImageID,l=c("AdsImageSelectorV2Types").AdsImageSource;i=babelHelpers.inherits(m,c("FluxReduceStore"));j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.__moduleID=f.id,o}m.prototype.getInitialState=function(){return new(c("AdsImageSelectorV2StateStoreRecord"))()};m.prototype.getSelectedImageIDs=function(){return this.getState().get("selectedImageIDs")};m.prototype.getMaxSelectedImageIDs=function(){return this.getState().get("maxSelectedImageIDs")};m.prototype.getSourceTypes=function(){return this.getState().get("sourceTypes")};m.prototype.getSelectedSourceType=function(){return this.getState().get("selectedSourceType")};m.prototype.reduce=function(n,o){__p&&__p();var p=o.action;switch(p.type){case c("AdsImageSelectorV2AddSelectedDataAction").actionType:return this.$AdsImageSelectorV2StateStore1(n,p.imageID);case c("AdsImageSelectorV2RemoveSelectedDataAction").actionType:return this.$AdsImageSelectorV2StateStore2(n,p.imageID);case c("AdsImageSelectorV2SetSelectedDataAction").actionType:n=this.$AdsImageSelectorV2StateStore3(n,p.max||n.get("maxSelectedImageIDs"));return this.$AdsImageSelectorV2StateStore4(n,p.imageIDs);case c("AdsImageSelectorV2SetMaxSelectedDataAction").actionType:return this.$AdsImageSelectorV2StateStore3(n,p.max);case c("AdsImageSelectorV2ClearSelectedDataAction").actionType:return this.$AdsImageSelectorV2StateStore4(n,c("immutable").OrderedSet());case c("AdsImageSelectorV2SetSourceTypesDataAction").actionType:n=this.$AdsImageSelectorV2StateStore5(n,p.sourceTypes);n=this.$AdsImageSelectorV2StateStore6(n,p.selectedSourceType||n.get("selectedSourceType"));return this.$AdsImageSelectorV2StateStore7(n);case c("AdsImageSelectorV2SetSelectedSourceTypeDataAction").actionType:n=this.$AdsImageSelectorV2StateStore6(n,p.selectedSourceType);return this.$AdsImageSelectorV2StateStore7(n);case c("AdsImageUploadUploadSuccessDataAction").actionType:if(p.imageData!==undefined){n=this.$AdsImageSelectorV2StateStore8(n,p.imageData);return this.$AdsImageSelectorV2StateStore9(n)}return n;default:return n}};m.prototype.$AdsImageSelectorV2StateStore1=function(n,o){var p=n.get("selectedImageIDs"),q=this.$AdsImageSelectorV2StateStore10(p.add(o),n.get("maxSelectedImageIDs"));return p.size===q.size?n:n.set("selectedImageIDs",q)};m.prototype.$AdsImageSelectorV2StateStore2=function(n,o){var p=n.get("selectedImageIDs"),q=p.remove(o);return p===q?n:n.set("selectedImageIDs",q)};m.prototype.$AdsImageSelectorV2StateStore4=function(n,o){o=this.$AdsImageSelectorV2StateStore10(o,n.get("maxSelectedImageIDs"));var p=n.get("selectedImageIDs");return c("immutable").is(p,o)?n:n.set("selectedImageIDs",o)};m.prototype.$AdsImageSelectorV2StateStore3=function(n,o){var p=n.get("maxSelectedImageIDs");if(p===o)return n;else{n=n.set("maxSelectedImageIDs",o);return n.update("selectedImageIDs",function(q){return this.$AdsImageSelectorV2StateStore10(q,o)}.bind(this))}};m.prototype.$AdsImageSelectorV2StateStore5=function(n,o){var p=n.get("sourceTypes");return c("immutable").is(p,o)?n:n.set("sourceTypes",o)};m.prototype.$AdsImageSelectorV2StateStore6=function(n,o){var p=n.get("selectedSourceType");return p===o?n:n.set("selectedSourceType",o)};m.prototype.$AdsImageSelectorV2StateStore8=function(n,o){var p=k.fromAcountAndHash(o.accountID,o.hash);if(n.maxSelectedImageIDs!==1)return this.$AdsImageSelectorV2StateStore1(n,p);else{n=this.$AdsImageSelectorV2StateStore4(n,c("immutable").OrderedSet([p]));if(this.$AdsImageSelectorV2StateStore11(n,l.ACCOUNT_IMAGE))n=this.$AdsImageSelectorV2StateStore6(n,l.ACCOUNT_IMAGE);return n}};m.prototype.$AdsImageSelectorV2StateStore10=function(n,o){if(0<=o&&o<n.size){c("FBLogger")("ads").warn("Selected Images Exceeds Maximum Size Property: %s",o);return n.slice(0,o)}return n};m.prototype.$AdsImageSelectorV2StateStore11=function(n,o){var p=n.get("sourceTypes");return!!p&&!!p.find(function(q){return q===o})};m.prototype.$AdsImageSelectorV2StateStore9=function(n){var o=n.get("selectedImageIDs").size,p=n.get("maxSelectedImageIDs");if(0<=p&&p<o){c("FBLogger")("ads").warn("Selected Images Exceeds Maximum Size Property: %s",p);return this.$AdsImageSelectorV2StateStore4(n,n.get("selectedImageIDs").slice(0,p))}return n};m.prototype.$AdsImageSelectorV2StateStore7=function(n){var o=n.get("selectedSourceType");if(o)this.$AdsImageSelectorV2StateStore11(n,o)||h(0);return n};f.exports=new m(c("AdsDataAtom"))}),null);
__d("AdsImageSourceImageBoxTypes",["AdsSimpleImage"],(function a(b,c,d,e,f,g){"use strict";var h={TINY:new(c("AdsSimpleImage"))({height:64,width:120}),SMALL:new(c("AdsSimpleImage"))({height:72,width:136}),MEDIUM:new(c("AdsSimpleImage"))({height:84,width:180}),LARGE:new(c("AdsSimpleImage"))({height:120,width:290})};f.exports={ImageSizes:h}}),null);
__d("AdsImageSourceImageBox.react",["cx","errorCode","ix","AdsError","AdsErrorUtils","AdsFBIconDownsized.react","AdsImageLegacy","AdsImageSelectorV2Types","AdsImageSourceImageBoxTypes","AdsImageUtils","AdsImageValidation","AdsInstagramErrorUtils","AdsInstagramFields","AdsPageTypes","AdsSimpleImage","AdsStockImageSourceUtils","AdsTestIDs","AdsValidationIcon.react","AdsValidationIconType","BackgroundImage.react","CenteredContainer.react","ContextualDialog.react","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","GradientBox.react","Image.react","immutable","Link.react","LoadObject","React","SphericalMediaGyroIcon.react","SUIBusinessTheme","SUISpinner.react","asset","emptyFunction","getElementPosition","getViewportDimensions","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("AdsImageSelectorV2Types").ImageSourceImageSpec,n=c("AdsImageSourceImageBoxTypes").ImageSizes,o=c("AdsStockImageSourceUtils").estimatePreviewDimensions,p=c("AdsInstagramFields").INSTAGRAM_SPECIFIC_IMAGE_ERROR_KEYS,q=function q(B){var C=B.image,D=B.imageSize,E=B.size;return c("AdsImageUtils").renderScaledCroppedImage(C.url,E.width,E.height,D?D.width:C.width,D?D.height:C.height,null)};function r(B){var C=B.image,D=B.imageSize,E=B.size,F=B.isScaledCropped?c("React").createElement(q,{image:C,imageSize:D,size:E}):c("React").createElement(c("BackgroundImage.react"),{backgroundPosition:"0px",backgroundSize:"cover",height:E.height,loadingIndicatorStyle:"small",optimizeResizeSpeed:true,src:C.url,width:E.width});return F}function s(B){return c("React").createElement(c("CenteredContainer.react"),{horizontal:true,style:{height:B.size.height,width:B.size.width},vertical:true},c("React").createElement(c("SUISpinner.react"),{theme:c("SUIBusinessTheme")}))}function t(B){var C=B.previewImage.width,D=B.previewImage.height,E=B.previewImage.url,F={height:String(D)+"px",width:String(C)+"px"},G="right",H=B.contextRef();if(H){var I=c("getElementPosition")(H),J=c("getViewportDimensions")(),K=I.x,L=J.width-I.x-I.width;G=K>L?"left":"right"}return c("React").createElement(c("ContextualDialog.react"),{autoFocus:false,contextRef:B.contextRef,position:G,shown:B.isHovering,style:F},c("React").createElement(c("BackgroundImage.react"),{backgroundPosition:"0px",backgroundSize:"cover",height:D,loadingIndicatorStyle:"large",optimizeResizeSpeed:true,src:E,width:C}))}function u(B){if(B.hasError||B.isHovering)return c("React").createElement(c("FBOverlayElement.react"),{vertical:"bottom"},c("React").createElement(c("GradientBox.react"),{className:"_3129",color:"black",direction:"up"}));else return null}function v(B){var C=w(B.fullSizeImageLoadObject,B.previewImageLoadObject);if(C&&(B.isHovering||B.hasError)){var D=C.width+" \xd7 "+C.height;return c("React").createElement(c("FBOverlayElement.react"),{vertical:"bottom"},c("React").createElement("div",{className:"_368_"},D))}else return null}function w(B,C){var D=C&&C.hasValue()&&C.getValueEnforcing(),E=B.hasValue()&&!B.isLoading()&&!B.isUpdating();if(E)return B.getValueEnforcing();else if(D)return o(D);else return null}function x(B){if(!B.errors||B.errors.length===0)return null;var C=c("AdsErrorUtils").getLevelForErrors(B.errors),D=c("AdsErrorUtils").getAllErrorsAtLevel(B.errors,C);return c("React").createElement(c("FBOverlayElement.react"),{vertical:"bottom"},c("React").createElement("div",{className:"_368_"},c("React").createElement(c("AdsValidationIcon.react"),{className:"_273x",isError:C===c("AdsError").Level.WARN,messages:z(D,C),type:C===c("AdsError").Level.WARN?c("AdsValidationIconType").ERROR_IMAGE:c("AdsValidationIconType").WARNING})))}function y(B){if(!B.isRemovable)return null;return c("React").createElement(c("FBOverlayElement.react"),{horizontal:"right",vertical:"top"},c("React").createElement(c("Link.react"),{className:"_4lwb",onClick:B.onRemove},c("React").createElement(c("AdsFBIconDownsized.react"),{src:j("363587")})))}function z(B,C){var D=B.filter(function(G){return!p.has(G.key)}).map(function(G){return G.message}),E=B.filter(function(G){return p.has(G.key)}),F=void 0;if(E.length>0)F=c("AdsInstagramErrorUtils").getCombinedErrorMessage(E,C);F&&D.push(F);return D}k=babelHelpers.inherits(A,c("React").PureComponent);l=k&&k.prototype;function A(){var B,C;for(var D=arguments.length,E=Array(D),F=0;F<D;F++)E[F]=arguments[F];return C=(B=l.constructor).call.apply(B,[this].concat(E)),this.state={errors:[],isHovering:false,isSelectable:true},this.$AdsImageSourceImageBox2=function(){return this.setState({isHovering:true})}.bind(this),this.$AdsImageSourceImageBox3=function(){return this.setState({isHovering:false})}.bind(this),this.$AdsImageSourceImageBox4=function(){return this.refs.image}.bind(this),C}A.prototype.UNSAFE_componentWillMount=function(){this.$AdsImageSourceImageBox1(this.props)};A.prototype.UNSAFE_componentWillReceiveProps=function(B){this.$AdsImageSourceImageBox1(B,this.props)};A.prototype.$AdsImageSourceImageBox5=function(){if(!this.props.isSelected)return null;return c("React").createElement(c("FBOverlayElement.react"),{horizontal:"right",vertical:"top"},c("React").createElement("div",{className:"_2sd4"},c("React").createElement(c("Image.react"),{src:j("22312")})))};A.prototype.$AdsImageSourceImageBox6=function(){var B=this.props.fullSizeImageLoadObject.hasValue()&&this.props.fullSizeImageLoadObject.getValueEnforcing().isSphericalPhoto;if(!B)return null;return c("React").createElement(c("FBOverlayElement.react"),null,c("React").createElement("span",null,c("React").createElement(c("SphericalMediaGyroIcon.react"),{className:"_ngy"})))};A.prototype.$AdsImageSourceImageBox1=function(B,C){__p&&__p();var D=!C||B.imageSpecs!==C.imageSpecs;if(D){var E=B.imageSpecs?B.imageSpecs.toArray():[],F=w(B.fullSizeImageLoadObject,B.previewImageLoadObject),G=c("AdsImageValidation").getAdsErrorsForImage(new(c("AdsImageLegacy"))(F),E);this.setState({errors:G});if(G&&G.length>0){var H=E[0]&&E[0].placement!==c("AdsPageTypes").INSTAGRAM_STREAM&&E[0].placement!==c("AdsPageTypes").INSTAGRAM_STORY&&G.every(function(I){return I.key!==1487015});this.setState({isSelectable:H})}}};A.prototype.render=function(){__p&&__p();var B=this.props.imageLoadObject,C=this.props.size,D=void 0;if(this.props.previewImageLoadObject&&this.props.previewImageLoadObject.hasValue())D=c("React").createElement(t,{contextRef:this.$AdsImageSourceImageBox4,isHovering:this.state.isHovering,previewImage:this.props.previewImageLoadObject.getValueEnforcing()});var E=this.state.errors&&this.state.errors.length>0,F=this.state.isSelectable?this.props.onClick:null,G=this.props.isDisabled?c("React").createElement("div",{className:"_312b"}):null;if(B.hasValue()){var H=B.getValueEnforcing();if(H&&H.url==null){var I=this.props.fullSizeImageLoadObject;if(I&&I.hasValue())H=I.getValueEnforcing()}var J=w(this.props.fullSizeImageLoadObject,this.props.previewImageLoadObject);return c("React").createElement("div",{className:c("joinClasses")("_345u"+(this.props.isSelected?" _312f":""),this.props.className),"data-testid":E?undefined:c("AdsTestIDs").IMAGE_BOX_VALID,ref:"image",onMouseEnter:this.$AdsImageSourceImageBox2,onMouseLeave:this.$AdsImageSourceImageBox3},c("React").createElement(c("FBOverlayContainer.react"),null,c("React").createElement(c("FBOverlayBase.react"),null,c("React").createElement(c("Link.react"),{"data-test-decoration":this.props.isSelected?"selected":undefined,"data-testid":c("AdsTestIDs").IMAGE_BOX,onClick:F},c("React").createElement(c("FBOverlayContainer.react"),null,c("React").createElement(c("FBOverlayBase.react"),null,c("React").createElement(r,{image:H,imageSize:J,isScaledCropped:this.props.isScaledCropped,size:C})),this.$AdsImageSourceImageBox5(),this.$AdsImageSourceImageBox6(),c("React").createElement(c("FBOverlayElement.react"),null,c("React").createElement(u,{hasError:E,isHovering:this.state.isHovering})),c("React").createElement(c("FBOverlayElement.react"),null,c("React").createElement(v,{fullSizeImageLoadObject:this.props.fullSizeImageLoadObject,hasError:E,isHovering:this.state.isHovering,previewImageLoadObject:this.props.previewImageLoadObject})),c("React").createElement(c("FBOverlayElement.react"),null,c("React").createElement(x,{errors:this.state.errors}))))),c("React").createElement(c("FBOverlayElement.react"),null,c("React").createElement(y,{isRemovable:this.props.isRemovable,onRemove:this.props.onRemove}))),D,G)}return c("React").createElement("div",{className:"_345u"},c("React").createElement(s,{size:C}))};A.defaultProps={isDisabled:false,isRemovable:false,isScaledCropped:false,isSelected:false,size:n.MEDIUM,onClick:c("emptyFunction"),onRemove:c("emptyFunction")};f.exports=A}),null);
__d("AdsImageSourceImageBoxContainer.react",["AdsFluxContainer","AdsImageIDClasses","AdsImageInfoStore","AdsImageSelectorV2StateStore","AdsImageSelectorV2Types","AdsImageSourceImageBox.react","AdsImageSourceImageBoxTypes","AdsSimpleImage","immutable","LoadObject","React","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("AdsImageIDClasses").AdsShutterstockImageID,k=c("AdsImageSelectorV2Types").ImageSourceImageSpec,l=c("AdsImageSourceImageBoxTypes").ImageSizes;function m(p){var q=c("AdsImageInfoStore").getHighResThumbnailURL(p).isEmpty()?c("AdsImageInfoStore").getThumbnailURL(p):c("AdsImageInfoStore").getHighResThumbnailURL(p);return q}function n(p){if(p instanceof j)return c("LoadObject").empty();return c("AdsImageInfoStore").getFullSize(p)}h=babelHelpers.inherits(o,c("React").PureComponent);i=h&&h.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=i.constructor).call.apply(p,[this].concat(s)),this.$AdsImageSourceImageBoxContainer1=function(){this.props.onClick(this.state.isSelected,this.props.imageID)}.bind(this),this.$AdsImageSourceImageBoxContainer2=function(){this.props.onRemove(this.props.imageID)}.bind(this),q}o.getStores=function(){return[c("AdsImageInfoStore"),c("AdsImageSelectorV2StateStore")]};o.calculateState=function(p,q){var r=q.imageID,s=void 0;if(r instanceof j)s=c("AdsImageInfoStore").getPreview(r);var t=n(r),u=q.useFullsize?t:m(r),v=c("AdsImageSelectorV2StateStore").getSelectedImageIDs(),w=c("AdsImageSelectorV2StateStore").getMaxSelectedImageIDs(),x=q.isSelected===undefined?v.has(r):q.isSelected,y=q.isDisabled===undefined?!x&&w!==1&&v.size>=w:q.isDisabled;return{fullSizeImageLoadObject:t,imageLoadObject:u.isEmpty()||u.isLoading()&&t.hasValue()?t:u,isDisabled:y,isSelected:x,previewImageLoadObject:s}};o.prototype.render=function(){return c("React").createElement(c("AdsImageSourceImageBox.react"),{className:this.props.className,fullSizeImageLoadObject:this.state.fullSizeImageLoadObject,imageID:this.props.imageID,imageLoadObject:this.state.imageLoadObject,imageSpecs:this.props.imageSpecs,isDisabled:this.state.isDisabled,isRemovable:this.props.isRemovable,isScaledCropped:this.props.isScaledCropped,isSelected:this.state.isSelected,previewImageLoadObject:this.state.previewImageLoadObject,size:this.props.size,onClick:this.$AdsImageSourceImageBoxContainer1,onRemove:this.$AdsImageSourceImageBoxContainer2})};o.defaultProps={isRemovable:false,useFullsize:false,size:l.MEDIUM,onClick:c("emptyFunction"),onRemove:c("emptyFunction")};f.exports=c("AdsFluxContainer").create(o,{withProps:true,name:f.id})}),null);
__d("AdsImageSourceMetadata",["ix","fbt","AdsImageSelectorV2Types","immutable","React","SUIGlyphIcon.react","asset","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k=c("AdsImageSelectorV2Types").AdsImageSource,l={name:i._("Account Images"),icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcActive:h("121768"),srcDefault:h("123370")})},m={name:i._("Page Images"),icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcActive:h("121298"),srcDefault:h("122900")})},n={name:i._("Stock Images"),icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcActive:h("386075"),srcDefault:h("386074")})},o={name:i._("Upload Images"),icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcActive:h("121765"),srcDefault:h("123367")})},p={name:i._("Instagram"),icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcActive:h("120647"),srcDefault:h("403152")})},q=c("immutable").Map((j={},j[k.ACCOUNT_IMAGE]=l,j[k.STOCK_IMAGE]=n,j[k.PAGE_IMAGE]=m,j[k.EXTERNAL_IMAGE]=n,j[k.UPLOAD_IMAGE]=o,j[k.INSTAGRAM_IMAGE]=p,j));f.exports=q}),null);
__d("SUITabItem.react",["cx","React","SUIComponent","SUITheme","SUITooltip.react","TabBarItem.react","emptyFunction","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").Element,l=200;i=babelHelpers.inherits(m,c("SUIComponent"));j=i&&i.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={isHovering:false,isMouseDown:false},this.$SUITabItem1=function(){this.setState({isHovering:true});if(this.props.onMouseEnter)this.props.onMouseEnter()}.bind(this),this.$SUITabItem2=function(){this.setState({isHovering:false});if(this.props.onMouseLeave)this.props.onMouseLeave()}.bind(this),this.$SUITabItem3=function(){this.setState({isMouseDown:true});if(this.props.onMouseDown)this.props.onMouseDown()}.bind(this),this.$SUITabItem4=function(){this.setState({isMouseDown:false});if(this.props.onMouseUp)this.props.onMouseUp()}.bind(this),this.$SUITabItem5=function(){this.props.onClick(this.props.value)}.bind(this),o}m.prototype.render=function(){var n=c("SUITheme").get(this).SUITabItem,o=this.props,p=o.className,q=o.icon,r=o.isActive,s=o.isClickable,t=o.isDisabled,u=o.label,v=r?n.activeTypeStyle:n.typeStyle,w=void 0;if(r)w=n.activeBorderBottomColor;else if(this.state.isHovering)w=n.hoverBorderBottomColor||n.hoverBackgroundColor;var x=t?{color:n.disabledColor}:{},y=babelHelpers["extends"]({borderBottomColor:w},v,x,{lineHeight:n.height+"px"}),z=babelHelpers["extends"]({},n.activeTypeStyle,{lineHeight:n.height+"px"}),A=q?c("React").cloneElement(q,{active:r,className:c("joinClasses")(q.props.className,"_ur6")}):null,B=c("React").createElement("span",{"aria-hidden":true,className:"_60ol",style:z},A,u),C=c("React").createElement("span",{className:"_60om"},c("React").createElement("span",{className:c("joinClasses")("_2ztj _m_6"+(r?" _4i1f":"")+(!s||t?" _3mmj":"")+(this.state.isMouseDown?" _1_mq":""),p),"data-testid":this.props["data-testid"],style:y},A,u),B),D=this.props,E=D.shouldWrapTab,F=D.tabIndex,G=D.selected,H=D.focused,I=D.hideFocusRing,J=D.onFocus,K=D.onBlur,L=D.mockSpacebarClick,M=H&&I;return c("React").createElement(c("TabBarItem.react"),{className:"_1_mp",focused:H,hideFocusRing:M,mockSpacebarClick:L,onBlur:K,onClick:t?c("emptyFunction"):this.$SUITabItem5,onFocus:J,onMouseDown:t?c("emptyFunction"):this.$SUITabItem3,onMouseEnter:t?c("emptyFunction"):this.$SUITabItem1,onMouseLeave:t?c("emptyFunction"):this.$SUITabItem2,onMouseUp:t?c("emptyFunction"):this.$SUITabItem4,selected:G,shouldWrapTab:E,tabIndex:F},!this.props.tooltip?C:c("React").createElement(c("SUITooltip.react"),{tooltip:this.props.tooltip,tooltipDelay:l},C),this.props.separator)};m.defaultProps={isClickable:true,isDisabled:false};f.exports=m}),null);
__d("SUITabGroup.react",["cx","React","SUIComponent","SUISelector.react","SUISelectorOption.react","SUITabItem.react","SUITheme","TabBar.react","emptyFunction","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l,m=c("React").PureComponent,n=200;i=babelHelpers.inherits(o,c("SUIComponent"));j=i&&i.prototype;function o(){__p&&__p();var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=j.constructor).call.apply(q,[this].concat(t)),this.$SUITabGroup2=new Map(),this.$SUITabGroup3=function(v,event){if(this.$SUITabGroup4(v)||this.$SUITabGroup5(v))return false;var w=this.props.onChange;if(w&&this.props.value!==v)w(v,event);return true}.bind(this),this.$SUITabGroup6=function(v){clearTimeout(this.$SUITabGroup1);this.$SUITabGroup2.forEach(function(w,x){if(w&&x!==v)w.hideMenu()});var w=this.$SUITabGroup2.get(v);if(w)w.showMenu()}.bind(this),this.$SUITabGroup7=function(v){this.$SUITabGroup1=setTimeout(function(){var w=this.$SUITabGroup2.get(v);if(w)w.hideMenu()}.bind(this),n)}.bind(this),this.$SUITabGroup8=function(){clearTimeout(this.$SUITabGroup1)}.bind(this),this.$SUITabGroup9=function(){this.$SUITabGroup1=setTimeout(function(){this.$SUITabGroup2.forEach(function(v){if(v)v.hideMenu()})}.bind(this),n)}.bind(this),r}o.prototype.$SUITabGroup10=function(q,r){return!!q&&q.filter(function(s){return s.value===r}).length>0};o.prototype.$SUITabGroup5=function(q){return this.props.tabs.some(function(r){return r.value===q&&r.subItems&&r.subItems.length})};o.prototype.$SUITabGroup4=function(q){return this.props.tabs.some(function(r){return r.value===q&&r.isDisabled})};o.prototype.$SUITabGroup11=function(){var q=c("SUITheme").get(this),r=q.SUITabGroup;return new(c("SUITheme"))({id:"suitabgroupcomposite",components:{SUISelector:q.SUISelector,SUISelectorOption:babelHelpers["extends"]({},q.SUISelectorOption,r.subItem,{selectedIcon:c("React").createElement("div",{style:{background:r.activeIndicatorColor,height:"29px",left:"0",position:"absolute",width:"2px"}})}),SUITabItem:q.SUITabItem}})};o.prototype.render=function(){var q=c("SUITheme").get(this),r=q.SUITabGroup,s=q.SUITabItem,t=this.props.value!==null&&this.props.value!==undefined?this.props.value:this.props.tabs.length?this.props.tabs[0].value:null;this.$SUITabGroup2=new Map();return c("React").createElement(c("TabBar.react"),{activeTabKey:t,className:c("joinClasses")("_67ui",this.props.className,this.props.margin),onTabClick:this.$SUITabGroup3},this.props.tabs.map(function(u,v){var w=r.dividerColor&&v<this.props.tabs.length-1,x=!w?null:c("React").createElement("div",{className:"_57p3 _3mmj",style:{backgroundColor:r.dividerColor,height:s.height*.6}});if(!u.subItems||!u.subItems.length)return c("React").createElement(c("SUITabItem.react"),{"data-testid":u["data-testid"],icon:u.icon,isActive:u.value===t,isDisabled:u.isDisabled,key:u.value,label:u.label,onClick:c("emptyFunction"),separator:x,theme:this.props.theme,tooltip:u.tooltip,value:u.value});return c("React").createElement("div",{className:"_57rm",key:u.value},c("React").createElement(c("SUISelector.react"),{button:c("React").createElement(p,{"data-testid":u["data-testid"],icon:u.icon,isActive:this.$SUITabGroup10(u.subItems,t),isClickable:false,isDisabled:u.isDisabled,label:u.label,onClick:c("emptyFunction"),onMouseEnter:this.$SUITabGroup6,onMouseLeave:this.$SUITabGroup7,theme:this.props.theme,tooltip:u.tooltip,value:u.value}),dropdownWidth:this.props.dropdownWidth,onChange:this.$SUITabGroup3,onMouseEntersMenu:this.$SUITabGroup8,onMouseLeavesMenu:this.$SUITabGroup9,ref:function(y){return this.$SUITabGroup2.set(u.value,y)}.bind(this),shouldHideOnBlur:false,theme:this.$SUITabGroup11(),value:this.$SUITabGroup10(u.subItems,t)?t:null},u.subItems.map(function(y){return c("React").createElement(c("SUISelectorOption.react"),{description:y.description,icon:y.icon,key:y.value,value:y.value},y.label)})),x)}.bind(this)))};k=babelHelpers.inherits(p,m);l=k&&k.prototype;function p(q,r){l.constructor.call(this,q,r);this.$SelectorTabItem1=function(){this.props.onMouseEnter(this.props.value)}.bind(this);this.$SelectorTabItem2=function(){this.props.onMouseLeave(this.props.value)}.bind(this)}p.prototype.render=function(){return c("React").createElement(c("SUITabItem.react"),{"data-testid":this.props["data-testid"],isActive:this.props.isActive,isClickable:this.props.isClickable,isDisabled:this.props.isDisabled,label:this.props.label,onClick:this.props.onClick,onMouseEnter:this.$SelectorTabItem1,onMouseLeave:this.$SelectorTabItem2,theme:this.props.theme,tooltip:this.props.tooltip,value:this.props.value})};f.exports=o}),null);
__d("AdsImageSelectorV2.react",["cx","fbt","invariant","AdsArrowedCarouselEnhanced.react","AdsEditInlinePostWarning.react","AdsImageSelectorV2Types","AdsImageSourceImageBoxContainer.react","AdsImageSourceImageBoxTypes","AdsImageSourceMetadata","AdsTestIDs","BootloadedComponent.react","CenteredContainer.react","immutable","JSResource","React","SUIBusinessTheme","SUISpinner.react","SUITabGroup.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("AdsImageSelectorV2Types").AdsImageSource,n=c("AdsImageSourceImageBoxTypes").ImageSizes;function o(r){var s=r.source,t=c("React").createElement(c("CenteredContainer.react"),{fullHeight:true,horizontal:true,vertical:true},c("React").createElement(c("SUISpinner.react"),{size:"large",theme:c("SUIBusinessTheme")}));switch(s.type){case m.ACCOUNT_IMAGE:return c("React").createElement(c("BootloadedComponent.react"),babelHelpers["extends"]({bootloadLoader:c("JSResource")("AdsAccountImageSourceContainer.react").__setRef("AdsImageSelectorV2.react"),bootloadPlaceholder:t,key:s.type},s.accountImageSourceProps));case m.STOCK_IMAGE:return c("React").createElement(c("BootloadedComponent.react"),babelHelpers["extends"]({bootloadLoader:c("JSResource")("AdsStockImageSourceContainer.react").__setRef("AdsImageSelectorV2.react"),bootloadPlaceholder:t,key:s.type},s.stockImageSourceProps));case m.PAGE_IMAGE:return c("React").createElement(c("BootloadedComponent.react"),babelHelpers["extends"]({bootloadLoader:c("JSResource")("AdsPageImageSourceContainer.react").__setRef("AdsImageSelectorV2.react"),bootloadPlaceholder:t,key:s.type},s.pageImageSourceProps));case m.EXTERNAL_IMAGE:return c("React").createElement("div",null," Insert External Source Here ");case m.UPLOAD_IMAGE:return c("React").createElement(c("BootloadedComponent.react"),babelHelpers["extends"]({bootloadLoader:c("JSResource")("AdsUploadImageSourceContainer.react").__setRef("AdsImageSelectorV2.react"),bootloadPlaceholder:t,key:s.type},s.uploadImageSourceProps));case m.INSTAGRAM_IMAGE:return c("React").createElement(c("BootloadedComponent.react"),babelHelpers["extends"]({bootloadLoader:c("JSResource")("AdsInstagramImageSourceContainer.react").__setRef("AdsImageSelectorV2.react"),bootloadPlaceholder:t,key:s.type},s.instagramImageSourceProps))}j(0)}function p(r){var s=r.maxSelectedImageIDs,t=r.selectedImageIDs,u=r.onRemove;if(s===1||t.isEmpty())return null;var v=t.map(function(x){return c("React").createElement(c("AdsImageSourceImageBoxContainer.react"),{className:"_2afl",imageID:x,isDisabled:false,isRemovable:true,isScaledCropped:true,isSelected:false,key:x.getSignature(),size:n.TINY,onRemove:u})}),w=c("React").createElement("div",{className:"_2afr"},c("React").createElement("div",{style:{height:16}},c("React").createElement("h2",{className:"_2afs"},i._("Selected Images")),c("React").createElement("span",{className:"_2aft"},i._({"*":{"*":"({images} of {max-images})"}},[i._param("images",t.size,[0]),i._param("max-images",s,[0])]))),c("React").createElement("div",{className:"_2afu"},c("React").createElement(c("AdsArrowedCarouselEnhanced.react"),null,v)));return w}k=babelHelpers.inherits(q,c("React").PureComponent);l=k&&k.prototype;q.prototype.render=function(){var r=this.props.sourceTypes.map(function(s){return{"data-testid":c("AdsTestIDs").IMAGE_LIBRARY_HEADER+"-"+s,icon:c("AdsImageSourceMetadata").get(s).icon,label:c("AdsImageSourceMetadata").get(s).name,value:s}}).toArray();return c("React").createElement("div",{className:"_2afv","data-testid":c("AdsTestIDs").IMAGE_LIBRARY},c("React").createElement(c("SUITabGroup.react"),{className:"_dk-",tabs:r,theme:c("SUIBusinessTheme"),value:this.props.selectedSource.type,onChange:this.props.onSourceChange}),c("React").createElement("div",{className:"_1-vi"},c("React").createElement(o,{source:this.props.selectedSource})),c("React").createElement(c("AdsEditInlinePostWarning.react"),{className:"_5zio",message:this.props.adEditWarningMessage}),c("React").createElement(p,{maxSelectedImageIDs:this.props.maxSelectedImageIDs,selectedImageIDs:this.props.selectedImageIDs,onRemove:this.props.onRemove}))};function q(){k.apply(this,arguments)}f.exports=q}),null);
__d("AdsImageSelectorV2Container.react",["AdsFluxContainer","AdsImageSelectorV2.react","AdsImageSelectorV2RemoveSelectedDataAction","AdsImageSelectorV2SetSelectedSourceTypeDataAction","AdsImageSelectorV2SetSourceTypesDataAction","AdsImageSelectorV2StateStore","immutable","React","SUIBusinessThemeContainer.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("AdsImageSelectorV2StateStore")]};j.calculateState=function(k,l){var m=c("AdsImageSelectorV2StateStore").getSelectedSourceType()||l.initialSource,n=l.sources,o=n.find(function(q){return q.type===m}),p=n.map(function(q){return q.type});return{selectedImageIDs:c("AdsImageSelectorV2StateStore").getSelectedImageIDs(),maxSelectedImageIDs:c("AdsImageSelectorV2StateStore").getMaxSelectedImageIDs(),selectedSource:o,sourceTypes:p}};j.prototype.UNSAFE_componentWillMount=function(){var k=this.props.sources.map(function(l){return l.type});c("AdsImageSelectorV2SetSourceTypesDataAction").dispatch({selectedSourceType:this.props.initialSource,sourceTypes:k})};j.prototype.render=function(){return c("React").createElement(c("SUIBusinessThemeContainer.react"),null,c("React").createElement(c("AdsImageSelectorV2.react"),{adEditWarningMessage:this.props.adEditWarningMessage,maxSelectedImageIDs:this.state.maxSelectedImageIDs,selectedImageIDs:this.state.selectedImageIDs,selectedSource:this.state.selectedSource,sourceTypes:this.state.sourceTypes,onRemove:this.$AdsImageSelectorV2Container1,onSourceChange:this.$AdsImageSelectorV2Container2}))};j.prototype.$AdsImageSelectorV2Container2=function(k){c("AdsImageSelectorV2SetSelectedSourceTypeDataAction").dispatch({selectedSourceType:k})};j.prototype.$AdsImageSelectorV2Container1=function(k){c("AdsImageSelectorV2RemoveSelectedDataAction").dispatch({imageID:k})};function j(){h.apply(this,arguments)}f.exports=c("AdsFluxContainer").create(j,{withProps:true,name:f.id})}),null);
__d("FDSCancelButton.react",["fbt","FDSButton.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement(c("FDSButton.react"),babelHelpers["extends"]({},this.props,{label:h._("Cancel"),layerAction:"cancel"}))};function k(){i.apply(this,arguments)}k.defaultProps=c("FDSButton.react").defaultProps;f.exports=k}),null);
__d("AdsImageSelectorV2Modal.react",["cx","fbt","AdsImageSelectorV2Container.react","AdsTestIDs","FDSButton.react","FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","immutable","React","SUIBusinessThemeContainer.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$AdsImageSelectorV2Modal1=function(){this.props.onConfirm();this.props.onHide()}.bind(this),n}l.prototype.render=function(){var m=this.props,n=m.adEditWarningMessage,o=m.header,p=m.height,q=m.initialSource,r=m.isShown,s=m.maxSelectedImageIDs,t=m.sources,u=m.onHide,v=o?o:s>1?i._("Select Images"):i._("Select an Image"),w=c("React").createElement(c("FDSModalHeader.react"),{title:v}),x=r?c("React").createElement(c("AdsImageSelectorV2Container.react"),{adEditWarningMessage:n,initialSource:q,sources:t}):null;return c("React").createElement(c("FDSModal.react"),{footer:c("React").createElement(c("FDSModalFooter.react"),{primaryButton:c("React").createElement(c("FDSButton.react"),{"data-testid":c("AdsTestIDs").IMAGE_DIALOG_CLOSE_BUTTON,isDisabled:!this.props.canConfirmModal,label:i._("Confirm"),layerAction:"confirm",use:"primary",onClick:this.$AdsImageSelectorV2Modal1}),secondaryButton:c("React").createElement(c("FDSCancelButton.react"),null)}),header:w,isShown:r,label:"Image Selector Modal",width:768,onHide:u},c("React").createElement(c("FDSSection.react"),null,c("React").createElement(c("SUIBusinessThemeContainer.react"),null,c("React").createElement("div",{className:"_1v5v",style:{height:p}},x))))};f.exports=l}),null);
__d("AdsImageSelectorV2ModalContainer.react",["Promise","AdsFluxContainer","AdsImageInfoStore","AdsImageLegacy","AdsImageSelectorV2Modal.react","AdsImageSelectorV2SetSelectedDataAction","AdsImageSelectorV2StateStore","immutable","React","SUIBusinessThemeContainer.react","emptyFunction","promiseStoreGet"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("AdsImageSelectorV2StateStore")]};j.calculateState=function(){var k=c("AdsImageSelectorV2StateStore").getSelectedImageIDs(),l=!k.isEmpty();return{canConfirmModal:l,selectedImageIDs:k}};function j(k){__p&&__p();i.constructor.call(this,k);this.$AdsImageSelectorV2ModalContainer1=function(){__p&&__p();var l=this.state.selectedImageIDs,m=this.props.onConfirmLegacy;if(m){if(this.props.onLoadingImages)this.props.onLoadingImages();var n=l.map(function(o){var p=function p(){return c("AdsImageInfoStore").getFullSizeLegacyImage_DEPRECATED(o,null,null)};return c("promiseStoreGet")(c("AdsImageInfoStore"),p)});c("Promise").all(n.toArray()).done(function(o){return m(c("immutable").OrderedSet(o))})}else this.props.onConfirm(l)}.bind(this)}j.prototype.componentDidMount=function(){c("AdsImageSelectorV2SetSelectedDataAction").dispatch({imageIDs:this.props.selectedImageIDs,max:this.props.maxSelectedImageIDs})};j.prototype.UNSAFE_componentWillReceiveProps=function(k){if(!this.props.isShown&&k.isShown)c("AdsImageSelectorV2SetSelectedDataAction").dispatch({imageIDs:k.selectedImageIDs,max:k.maxSelectedImageIDs})};j.prototype.render=function(){return c("React").createElement(c("SUIBusinessThemeContainer.react"),null,c("React").createElement(c("AdsImageSelectorV2Modal.react"),{adEditWarningMessage:this.props.adEditWarningMessage,canConfirmModal:this.state.canConfirmModal,header:this.props.header,height:this.props.height,initialSource:this.props.initialSource,isShown:this.props.isShown,maxSelectedImageIDs:this.props.maxSelectedImageIDs,sources:this.props.sources,onConfirm:this.$AdsImageSelectorV2ModalContainer1,onHide:this.props.onHide}))};j.defaultProps={height:404,maxSelectedImageIDs:1,selectedImageIDs:c("immutable").OrderedSet(),onConfirm:c("emptyFunction")};f.exports=c("AdsFluxContainer").create(j,{name:f.id})}),null);
__d("SlideshowMediaUploadContainer.react",["cx","fbt","ix","AdsTestIDs","React","Image.react","XUIButton.react","XUINotice.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.$SlideshowMediaUploadContainer1=function(){if(!this.props.errorMessage)return null;return c("React").createElement("div",{className:"_3dg4"},c("React").createElement(c("XUINotice.react"),{use:"warn"},this.props.errorMessage))}.bind(this),o}m.prototype.$SlideshowMediaUploadContainer2=function(){if(this.props.showVideoButton)return i._("Use photos or video stills to create a slideshow");else return i._("Upload new or use existing photos to create a slideshow")};m.prototype.render=function(){return c("React").createElement("div",babelHelpers["extends"]({"data-testid":c("AdsTestIDs").SLIDE_SHOW_MEDIA_UPLOAD_PANEL},this.props,{className:"_v32"+(!!this.props.errorMessage?" _16q2":"")}),this.$SlideshowMediaUploadContainer1(),c("React").createElement(c("Image.react"),{className:"_v33",hidden:!!this.props.errorMessage,src:j("99135")}),c("React").createElement("div",{className:"_3dg5"+(!!this.props.errorMessage?" _16q2":"")},this.$SlideshowMediaUploadContainer2(),c("React").createElement("div",{className:"_v34"+(!!this.props.errorMessage?" _16q2":"")},this.props.children)))};m.getImageUploadButton=function(){return c("React").createElement(c("XUIButton.react"),{className:"_v35","data-testid":c("AdsTestIDs").SLIDE_SHOW_ADD_PHOTOS_BUTTON,href:{url:"#"},image:c("React").createElement(c("Image.react"),{className:"_v36",src:j("115359")}),label:i._("Add Photos"),size:"xlarge",use:"confirm"})};m.getVideoUploadButton=function(){return c("React").createElement(c("XUIButton.react"),{className:"_v35","data-testid":c("AdsTestIDs").SLIDE_SHOW_ADD_VIDEO_BUTTON,href:{url:"#"},image:c("React").createElement(c("Image.react"),{className:"_v36",src:j("130530")}),label:i._("Add Video"),size:"xlarge"})};m.defaultProps={children:null,errorMessage:null,showVideoButton:false};f.exports=m}),null);
__d("AdsSlideshowImageUploadsContainer.react",["cx","AdsImageDialogContainer.react","AdsImageIDUtils","AdsImageLegacy","AdsImageSelectorV2ConfigUtils","AdsImageSelectorV2ModalContainer.react","AdsImageSelectorV2Types","AdsMediaPanelTabs","immutable","Link.react","React","SlideshowMediaUploadContainer.react","emptyFunction","gkx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("AdsImageSelectorV2Types").AdsImageSource;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$AdsSlideshowImageUploadsContainer1=function(r){var s=r?r.toJSON():[];this.props.onSelectImagesConfirm(s)}.bind(this),n}l.prototype.render=function(){__p&&__p();var m=null;if(this.props.imageDialogShown)if(c("gkx")("AT6lT8s-lYKB5LRmP7d-QYBhUD7X_CNEOzgL1PbJAIi0zfFxesqKQ0yjhhCYTHie1XOPrmltBCRly47ifx0Irut0")){var n=c("immutable").List([c("AdsImageSelectorV2ConfigUtils").getAccountImageConfig(this.props.accountID,c("immutable").List(),true),c("AdsImageSelectorV2ConfigUtils").getStockImageConfig(),c("AdsImageSelectorV2ConfigUtils").getPageImageConfig(this.props.pageID,c("immutable").List(),true),c("AdsImageSelectorV2ConfigUtils").getUploadImageConfig(this.props.accountID)]);m=c("React").createElement(c("AdsImageSelectorV2ModalContainer.react"),{accountID:this.props.accountID,initialSource:k.ACCOUNT_IMAGE,isShown:this.props.imageDialogShown,maxSelectedImageIDs:this.props.maxSelectedImages,selectedImageIDs:c("AdsImageIDUtils").getImageIDsFromImageInfoArray(this.props.accountID,this.props.selectedImages),sources:n,onConfirmLegacy:this.$AdsSlideshowImageUploadsContainer1,onHide:this.props.onImageDialogClose})}else m=c("React").createElement(c("AdsImageDialogContainer.react"),{accountID:this.props.accountID,libraryImages:this.props.libraryImages,maxSelectedImages:this.props.maxSelectedImages,pageID:this.props.pageID,selectedImages:this.props.selectedImages,tabKeys:this.$AdsSlideshowImageUploadsContainer2(),useInstagramImageCreative:false,onCancel:this.props.onImageDialogClose,onSelect:this.props.onSelectImagesConfirm});var o=this.props.disabled?c("emptyFunction"):this.props.onImageDialogShown;switch(this.props.imageUploadButtonType){case"more_link":return c("React").createElement("span",{className:"_38i2"+(this.props.disabled?" _1wqh":""),role:"presentation",onClick:o},c("React").createElement(c("Link.react"),{className:"_10ct"}),m);case"add_button":return c("React").createElement("span",{role:"presentation",onClick:o},c("SlideshowMediaUploadContainer.react").getImageUploadButton(),m)}return c("React").createElement("span",{role:"presentation",onClick:o},c("SlideshowMediaUploadContainer.react").getImageUploadButton(),m)};l.prototype.$AdsSlideshowImageUploadsContainer2=function(){return[c("AdsMediaPanelTabs").UPLOAD,c("AdsMediaPanelTabs").LIBRARY,c("AdsMediaPanelTabs").STOCK]};f.exports=l}),null);
__d("AdsSlideshowLoggingStore",["AdsDataAtom","AdsSlideshowLoggingStoreState","FluxReduceStore","adsSlideshowLoggingStoreReducer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.__moduleID=f.id,l}j.prototype.getInitialState=function(){return new(c("AdsSlideshowLoggingStoreState"))()};j.prototype.reduce=function(k,l){var m=l.action,n=[c("adsSlideshowLoggingStoreReducer")];return n.reduce(function(k,o){return o(k,m)},k)};f.exports=new j(c("AdsDataAtom"))}),null);
__d("AdsVideoListBatchLoadErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"VIDEO.LIST.BATCH_LOAD_ERROR");f.exports=h}),null);
__d("AdsVideoListBatchLoadedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"VIDEO.LIST.BATCH_LOADED");f.exports=h}),null);
__d("AdsVideoDialogFilterConstants",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({LENGTH_LESS_THAN_15:"less than 15s",LENGTH_LESS_THAN_60:"less than 60s",LENGTH_GREATER_THAN_60:"greater than 60s",HEIGHT_GREATER_THAN_340:"greater than 340px",HEIGHT_GREATER_THAN_1067:"greater than 1067px",WIDTH_GREATER_THAN_600:"greater than 600px",ASPECT_RATIO_16_OVER_9:"16:9",ASPECT_RATIO_9_OVER_16:"9:16",ASPECT_RATIO_4_OVER_5:"4:5",ASPECT_RATIO_1_OVER_1:"1:1"});f.exports=h}),null);
__d("AdsVideoDialogFilterUtil",["AdsGenericFilterFieldType","AdsGenericFilterSet","AdsVideoDialogFilterConstants"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=1e3,i=.01,j=16/9,k=9/16,l=4/5,m=1/1,n={getApiParamsForAdAccount:function o(p){__p&&__p();var q={};p.values.map(function(r){__p&&__p();var s=r.field.name,t=void 0;if(s==="length")if(typeof r.value==="string")t=parseInt(r.value,10)*h;else t=r.value.map(function(u){return parseInt(u,10)*h});else t=r.value;switch(r.field.type){case c("AdsGenericFilterFieldType").NUMBER:switch(r.operator){case"LESS_THAN":q["max"+s]=parseInt(t,10);break;case"GREATER_THAN":q["min"+s]=parseInt(t,10);break;case"IN_RANGE":if(typeof t==="object"){q["min"+s]=parseInt(t[0],10);q["max"+s]=parseInt(t[1],10)}break}break;case c("AdsGenericFilterFieldType").STRING:q[s]=t;break}});return q},getApiParamsForPagesEdge:function o(p){__p&&__p();if(!p)return null;var q={};q.filtering=[];var r=void 0,s=void 0;for(var t in p){var u=void 0;switch(t){case"title":u=n.getFilter("title","CONTAIN",p[t]);q.filtering.push(u);break;case"maxlength":u=n.getFilter("length","LESS_THAN",p[t]);q.filtering.push(u);break;case"minlength":u=n.getFilter("length","GREATER_THAN",p[t]);q.filtering.push(u);break;case"maxheight":u=n.getFilter("height","LESS_THAN",p[t]);q.filtering.push(u);break;case"minheight":u=n.getFilter("height","GREATER_THAN",p[t]);q.filtering.push(u);break;case"maxwidth":u=n.getFilter("width","LESS_THAN",p[t]);q.filtering.push(u);break;case"minwidth":u=n.getFilter("width","GREATER_THAN",p[t]);q.filtering.push(u);break;case"min_aspect_ratio":s=p[t];break;case"max_aspect_ratio":r=p[t];break;case"sort":q.sort=p[t]?[p[t]]:null;break;default:return null}}if(s&&r){var v=n.getFilter("aspect_ratio","IN_RANGE",[s,r]);q.filtering.push(v)}return q},getFilter:function o(p,q,r){var s={field:p,operator:q,value:r};return s},getApiParamsForAdAccountFromPresetFilters:function o(p){__p&&__p();if(!p)return null;var q={};p.values.map(function(r){__p&&__p();var s=r.field.name,t=r.value;switch(r.field.type){case c("AdsGenericFilterFieldType").STRING:q[s]=t;break;case c("AdsGenericFilterFieldType").STRING_SET:switch(s){case"length":switch(t){case c("AdsVideoDialogFilterConstants").LENGTH_LESS_THAN_15:q.maxlength=15e3;break;case c("AdsVideoDialogFilterConstants").LENGTH_LESS_THAN_60:q.maxlength=6e4;break;case c("AdsVideoDialogFilterConstants").LENGTH_GREATER_THAN_60:q.minlength=6e4;break}break;case"height":switch(t){case c("AdsVideoDialogFilterConstants").HEIGHT_GREATER_THAN_340:q.minheight=340;break;case c("AdsVideoDialogFilterConstants").HEIGHT_GREATER_THAN_1067:q.minheight=1067;break}break;case"width":switch(t){case c("AdsVideoDialogFilterConstants").WIDTH_GREATER_THAN_600:q.minwidth=600;break}break;case"aspect_ratio":switch(t){case c("AdsVideoDialogFilterConstants").ASPECT_RATIO_16_OVER_9:q.min_aspect_ratio=j-i;q.max_aspect_ratio=j+i;break;case c("AdsVideoDialogFilterConstants").ASPECT_RATIO_9_OVER_16:q.min_aspect_ratio=k-i;q.max_aspect_ratio=k+i;break;case c("AdsVideoDialogFilterConstants").ASPECT_RATIO_4_OVER_5:q.min_aspect_ratio=l-i;q.max_aspect_ratio=l+i;break;case c("AdsVideoDialogFilterConstants").ASPECT_RATIO_1_OVER_1:q.min_aspect_ratio=m-i;q.max_aspect_ratio=m+i;break}break}}});return q}};f.exports=n}),null);
__d("AdsVideoListGenCacheKey",[],(function a(b,c,d,e,f,g){"use strict";var h={genCacheKey:function i(j,k){if(!k)return j;var l=j;for(var m in k)l=l+String(m)+String(k[m]);return l}};f.exports=h}),null);
__d("AdsVideoListLoadErrorDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"VIDEO.LIST.LOAD_ERROR");f.exports=h}),null);
__d("AdsVideoListLoadedDataAction",["AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],"VIDEO.LIST.LOADED");f.exports=h}),null);
__d("AdsVideoListDataManager",["AdsBaseListDataManager","AdsGraphAPI","AdsVideoDialogFilterUtil","AdsVideoListBatchLoadedDataAction","AdsVideoListBatchLoadErrorDataAction","AdsVideoListGenCacheKey","AdsVideoListLoadedDataAction","AdsVideoListLoadErrorDataAction","gkx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=["id","updated_time"],k=100;h=babelHelpers.inherits(l,c("AdsBaseListDataManager"));i=h&&h.prototype;l.prototype.loadForAdAccount=function(m,n){var o=c("AdsVideoListGenCacheKey").genCacheKey(m,n),p=babelHelpers["extends"]({},n,{fields:j,limit:k});c("AdsGraphAPI").get(f.id).adaccount(m).edge("advideos").batched().get(p).done(this.__handleSuccess.bind(this,["load"],o,null),this.__handleError.bind(this,["load"],o,null))};l.prototype.loadForPage=function(m,n){var o=c("AdsVideoListGenCacheKey").genCacheKey(m,n),p=c("AdsVideoDialogFilterUtil").getApiParamsForPagesEdge(n),q=babelHelpers["extends"]({},p,{fields:j});c("AdsGraphAPI").get(f.id).object("page",m).edge("videos").batched().get(q).done(this.__handleSuccess.bind(this,["load"],o,null),this.__handleError.bind(this,["load"],o,null))};l.prototype.loadForPageIndexed=function(m,n,o){var p=c("AdsVideoListGenCacheKey").genCacheKey(m,o),q=c("AdsVideoDialogFilterUtil").getApiParamsForPagesEdge(o),r=babelHelpers["extends"]({},q,{access_token:n,fields:j,limit:k});c("AdsGraphAPI").get(f.id).object("page",m).edge("indexed_videos").get(r).done(this.__handleSuccess.bind(this,["load"],p,null),this.__handleError.bind(this,["load"],p,null))};l.prototype.__onBatchLoaded=function(m){if(c("gkx")("AT6I0e63Ut5au0AsLCKyVLGoTGZuBQfc0npRwkY3FsZXK8OrMiGhWivBPw3p_jXXMsj0Gt-Z9IHo9mL2r3RSmrWADKbUkd1zZDVEwarHFcpBlg"))c("AdsVideoListBatchLoadedDataAction").dispatch({responses:m});else m.forEach(function(n,o){var p=n.data.map(function(q){return{id:q.id,updatedTime:q.updated_time}});c("AdsVideoListLoadedDataAction").dispatch({sourceID:o,videos:p})})};l.prototype.__onBatchLoadError=function(m){if(c("gkx")("AT6I0e63Ut5au0AsLCKyVLGoTGZuBQfc0npRwkY3FsZXK8OrMiGhWivBPw3p_jXXMsj0Gt-Z9IHo9mL2r3RSmrWADKbUkd1zZDVEwarHFcpBlg"))c("AdsVideoListBatchLoadErrorDataAction").dispatch({errors:m});else m.forEach(function(n,o){c("AdsVideoListLoadErrorDataAction").dispatch({sourceID:o})})};function l(){h.apply(this,arguments)}f.exports=new l()}),null);
__d("AdsVideoListStore",["AdsBaseListStore","AdsDataAtom","AdsLoadState_LEGACY","AdsLoadStateUtils_LEGACY","AdsPageStore","AdsVideoEncodingSuccessDataAction","AdsVideoListBatchLoadedDataAction","AdsVideoListBatchLoadErrorDataAction","AdsVideoListDataManager","AdsVideoListGenCacheKey","AdsVideoListLoadedDataAction","AdsVideoListLoadErrorDataAction","LoadObject","killswitch"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j={loadState:c("AdsLoadState_LEGACY").LOADED,list:[]},k={loadState:c("AdsLoadState_LEGACY").LOADING,list:[]};h=babelHelpers.inherits(l,c("AdsBaseListStore"));i=h&&h.prototype;l.prototype.getDataManager=function(){return c("AdsVideoListDataManager")};l.prototype.__onDispatch=function(m){__p&&__p();c("AdsDataAtom").waitFor([c("AdsPageStore").getDispatchToken()]);if(c("AdsPageStore").hasChanged())this.__emitChange();var n=m.action;switch(n.actionType){case c("AdsVideoListBatchLoadedDataAction").actionType:n.responses.forEach(function(o,p){this.__handleDataFor(p,o.data.map(function(q){return{id:q.id,updatedTime:q.updated_time}}),c("AdsLoadState_LEGACY").LOADED)}.bind(this));break;case c("AdsVideoListBatchLoadErrorDataAction").actionType:n.errors.forEach(function(o,p){this.__handleDataFor(p,null,c("AdsLoadState_LEGACY").ERROR)}.bind(this));break;case c("AdsVideoListLoadedDataAction").actionType:this.__handleDataFor(n.sourceID,n.videos,c("AdsLoadState_LEGACY").LOADED);break;case c("AdsVideoListLoadErrorDataAction").actionType:this.__handleDataFor(n.sourceID,null,c("AdsLoadState_LEGACY").ERROR);break;case c("AdsVideoEncodingSuccessDataAction").actionType:this.__invalidateEntireCache();this.__emitChange();break}};l.prototype.getForPage=function(m,n){__p&&__p();if(!m)return j;var o=c("AdsVideoListGenCacheKey").genCacheKey(m,n),p=this.getCachedFor(o);if(p.loadState===c("AdsLoadState_LEGACY").NOT_LOADED){if(c("killswitch")("ADS_SELECT_VIDEO_LIST_FROM_INDEXED_ENDPOINT"))c("AdsVideoListDataManager").loadForPage(m,n);else{var q=c("AdsPageStore").get(m);if(c("AdsLoadStateUtils_LEGACY").isLoaded(q))c("AdsVideoListDataManager").loadForPageIndexed(m,q.access_token,n)}return k}return p};l.prototype.getForAdAccount=function(m,n){if(!m)return j;var o=c("AdsVideoListGenCacheKey").genCacheKey(m,n),p=this.getCachedFor(o);if(p.loadState===c("AdsLoadState_LEGACY").NOT_LOADED){c("AdsVideoListDataManager").loadForAdAccount(m,n);return k}return p};l.prototype.getForAdAccountAndPage=function(m,n,o){var p=this.getForAdAccount(m,o),q=this.getForPage(n,o);return{loadState:c("AdsLoadStateUtils_LEGACY").mergeLoadStates([p.loadState,q.loadState]),list:p.list.concat(q.list)}};l.prototype.getLoadObjectForAdAccount=function(m,n){return this.$AdsVideoListStore1(this.getForAdAccount(m,n))};l.prototype.getLoadObjectForAdAccountAndPage=function(m,n,o){return this.$AdsVideoListStore1(this.getForAdAccountAndPage(m,n,o))};l.prototype.$AdsVideoListStore1=function(m){var n=m.loadState,o=m.list,p=c("LoadObject").withValue(o);switch(n){case c("AdsLoadState_LEGACY").NOT_LOADED:case c("AdsLoadState_LEGACY").LOADING:return p.loading();case c("AdsLoadState_LEGACY").LOADED:return p;default:return p.setError(new Error("Unexpected error when loading video list"))}};function l(){h.apply(this,arguments)}f.exports=new l()}),null);
__d("AdsVideoCloseVideoPickerDataReducerPlugin",["AdsVideoSelectionHeaderTabTypes"],(function a(b,c,d,e,f,g){"use strict";var h={reduce:function i(j,k){return babelHelpers["extends"]({},j,{selectedTab:c("AdsVideoSelectionHeaderTabTypes").ACCOUNT})}};f.exports=h}),null);
__d("AdsVideoCloseVideoPickerDataReducer",["AdsDataReducer","AdsVideoCloseVideoPickerDataReducerPlugin","AdsVideoPickerUIDataProvider"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataReducer").create(c("AdsVideoPickerUIDataProvider"),{},c("AdsVideoCloseVideoPickerDataReducerPlugin").reduce);f.exports=h}),null);
__d("AdsVideoCloseVideoPickerDataAction",["AdsDataAction","AdsVideoCloseVideoPickerDataReducer"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([c("AdsVideoCloseVideoPickerDataReducer")],"VIDEO.CLOSE_VIDEO_PICKER");f.exports=h}),null);
__d("AdsVideoErrorNoticeUtils",["React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j){if(!j)return null;if(j.error&&typeof j.error.message==="string")return j.error.message;if(typeof j==="string")return j;return null}function i(j){if(!j)return null;var k=[];j.forEach(function(l){return l.message&&k.push(c("React").createElement("div",{key:l.key},l.message))});return k}f.exports={getErrorMessageContent:h,getNewlyUploadedVideoErrorMessage:i}}),null);
__d("AdsProgressBox.react",["cx","fbt","BUIAdoptionCloseButton.react","BUIProgressBar.react","React","joinClasses","keyMirror"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=c("keyMirror")({Uploading:null,Encoding:null});j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;n.prototype.render=function(){var o=this.props.subtitle?c("React").createElement("div",{className:"_2t6d"},this.props.subtitle):null,p=this.props.onCancel?c("React").createElement(c("BUIAdoptionCloseButton.react"),{className_DEPRECATED:"rfloat",label:i._("Cancel Upload"),onClick:this.props.onCancel}):null,q=this.props.align==="center"?"_5okx":"";return c("React").createElement("div",babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,q)}),this.$AdsProgressBox1(this.props.videoTitle,this.props.processingAction),c("React").createElement("div",{className:"clearfix"},p,c("React").createElement("div",{className:p?"_3-92":""},c("React").createElement(c("BUIProgressBar.react"),{flexibleWidth:true,isBuffering:this.props.striped,padding:false,percentage:this.props.progressValue}))),o)};n.prototype.$AdsProgressBox1=function(o,p){if(!o)return;var q=c("React").createElement("span",{className:"_5pic"},o);if(p)q=i._({"Uploading":"Uploading {videoTitle}","Encoding":"Encoding {videoTitle}"},[i._enum(p,{Uploading:"Uploading",Encoding:"Encoding"}),i._param("videoTitle",q)]);return c("React").createElement("div",{className:"_3-95 _5pid"},q)};function n(){j.apply(this,arguments)}n.PROCESSING_ACTION=m;n.propTypes={align:l.oneOf(["default","center"]),processingAction:l.oneOf(Object.keys(m)),progressValue:l.number.isRequired,striped:l.bool,subtitle:l.string,videoTitle:l.string,onCancel:l.func};n.defaultProps={align:"default",striped:false};f.exports=n}),null);
__d("AdsVideoImportPanel.react",["cx","fbt","invariant","ix","AdsHelpTrayUIActions","AdsProgressBox.react","AdsVideoUploadStatus","AdsVideoUploadUtil","CenteredContainer.react","Image.react","ImageBlock.react","immutable","Layout.react","Link.react","React","SUIBusinessTheme","SUISimplePopover.react","SUIText.react","XUITextInput.react"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=c("Layout.react").Column,o=c("Layout.react").FillColumn,p=c("React").PropTypes,q="1764659187152203",r=i._("Uploading video"),s=i._("Encoding video");l=babelHelpers.inherits(t,c("React").Component);m=l&&l.prototype;function t(){__p&&__p();var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=m.constructor).call.apply(u,[this].concat(x)),this.$AdsVideoImportPanel9=function(z){if(z.status!==c("AdsVideoUploadStatus").UPLOADING&&z.status!==c("AdsVideoUploadStatus").ENCODING)return null;return c("React").createElement(c("AdsProgressBox.react"),{className:"_4a2a",key:z.uploaderKey,progressValue:c("AdsVideoUploadUtil").normalizeProgress(z.progress),striped:true,subtitle:z.status===c("AdsVideoUploadStatus").UPLOADING?r:s,videoTitle:z.title,onCancel:function(){return this.props.onUploadCancel&&this.props.onUploadCancel(z.uploaderKey)}.bind(this)})}.bind(this),this.$AdsVideoImportPanel11=function(event){this.props.onVideoTitleChange(event.target.value)}.bind(this),this.$AdsVideoImportPanel10=function(event){this.props.onVideoURLChange(event.target.value)}.bind(this),v}t.prototype.render=function(){return c("React").createElement("div",{className:"_17kg"},c("React").createElement(c("Layout.react"),null,c("React").createElement(o,null,this.$AdsVideoImportPanel1(),this.$AdsVideoImportPanel2()),c("React").createElement(n,{className:"mlm"},this.$AdsVideoImportPanel3())))};t.prototype.$AdsVideoImportPanel3=function(){return c("React").createElement("div",{className:"_17kh"},c("React").createElement(c("SUIText.react"),{className:"_17ki",shade:"light",size:"meta1",theme:c("SUIBusinessTheme"),weight:"bold"},i._("Paste a Direct Download Link to Your Video")),c("React").createElement("div",null,c("React").createElement("p",null,c("React").createElement(c("SUIText.react"),{shade:"light",size:"meta1",theme:c("SUIBusinessTheme")},i._("Your video file must be directly downloadable from the link. We currently don't support shareable links or links that need to be authenticated."))),c("React").createElement("p",null,c("React").createElement(c("SUIText.react"),{shade:"light",size:"meta1",theme:c("SUIBusinessTheme")},i._("If you are having trouble uploading, make sure you are pasting a direct download link from wherever it is hosted. You can test if it is downloadable by pasting the link in your browser. If supported, the video file will automatically download."))),c("React").createElement("p",null,c("React").createElement(c("SUIText.react"),{shade:"light",size:"meta1",theme:c("SUIBusinessTheme")},i._("{learn more link} about how to use a hosted video file for your ad.",[i._param("learn more link",c("React").createElement(c("Link.react"),{onClick:this.$AdsVideoImportPanel4},i._("Learn more")))])))))};t.prototype.$AdsVideoImportPanel2=function(){if(c("AdsVideoUploadUtil").atLeastOneVideoUploading(this.props.uploadStateMap))return this.$AdsVideoImportPanel5();return this.$AdsVideoImportPanel6()};t.prototype.$AdsVideoImportPanel6=function(){return c("React").createElement("div",{className:"_17a1"},this.$AdsVideoImportPanel7(),this.$AdsVideoImportPanel8())};t.prototype.$AdsVideoImportPanel5=function(){this.props.uploadStateMap||j(0);return c("React").createElement(c("CenteredContainer.react"),{vertical:false},this.props.uploadStateMap.valueSeq().map(this.$AdsVideoImportPanel9))};t.prototype.$AdsVideoImportPanel1=function(){return c("React").createElement(c("CenteredContainer.react"),{className:"_17a2",vertical:false},c("React").createElement(c("ImageBlock.react"),{spacing:"large"},c("React").createElement(c("Image.react"),{src:k("23772")}),c("React").createElement(c("CenteredContainer.react"),{className:"_17a4",horizontal:false,vertical:true},c("React").createElement(c("SUIText.react"),{shade:"light",size:"meta1",theme:c("SUIBusinessTheme")},i._("Quickly upload a video by pasting the link of a hosted video file.")))))};t.prototype.$AdsVideoImportPanel7=function(){var u=this.props.hasHelpTray?c("React").createElement(c("Link.react"),{onClick:this.$AdsVideoImportPanel4},i._("Learn more.")):null;return c("React").createElement("div",null,c("React").createElement(c("SUIText.react"),{className:"_17a5",shade:"medium",size:"meta1",textAlign:"right",theme:c("SUIBusinessTheme"),weight:"bold"},i._("Video URL")),c("React").createElement(c("SUISimplePopover.react"),{content:i._("Your video file must be directly downloadable from this link. Make sure it ends in .MOV or .MP4. {learn more link}",[i._param("learn more link",u)]),theme:c("SUIBusinessTheme")}),c("React").createElement(c("XUITextInput.react"),{className:"_17a6",height:"tall",placeholder:i._("Paste the link of your video file"),value:this.props.videoURL,onChange:this.$AdsVideoImportPanel10}))};t.prototype.$AdsVideoImportPanel8=function(){return c("React").createElement("div",null,c("React").createElement(c("SUIText.react"),{className:"_17a5",shade:"medium",size:"meta1",textAlign:"right",theme:c("SUIBusinessTheme"),weight:"bold"},i._("Title")),c("React").createElement(c("SUISimplePopover.react"),{content:c("React").createElement("span",null,i._("Name your video file so you can easily find it later when you browse your library.")),theme:c("SUIBusinessTheme")}),c("React").createElement(c("XUITextInput.react"),{className:"_17a6",height:"tall",placeholder:i._("Name your video file"),value:this.props.videoTitle,onChange:this.$AdsVideoImportPanel11}))};t.prototype.$AdsVideoImportPanel4=function(){c("AdsHelpTrayUIActions").pushCMSIDToHistory(q)};t.propTypes={hasHelpTray:p.bool,uploadStateMap:p.instanceOf(c("immutable").Map),videoTitle:p.string,videoURL:p.string,onUploadCancel:p.func,onVideoTitleChange:p.func.isRequired,onVideoURLChange:p.func.isRequired};t.defaultProps={hasHelpTray:false};f.exports=t}),null);
__d("AdsVideoImportSourceTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({INSTAGRAM:null});f.exports=h}),null);
__d("AdsPlusBox.react",["cx","CenteredContainer.react","Link.react","React","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement(c("Link.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_58_r")}),c("React").createElement(c("CenteredContainer.react"),{className:"_4pm_",vertical:true},c("React").createElement("div",{className:"_58_s"}),this.props.children))};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("AdsSelected.react",["cx","ix","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","Image.react","React","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){"use strict";return c("React").createElement(c("FBOverlayContainer.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_4ie2"+(this.props.isSelected?" _4ie3":""))}),c("React").createElement(c("FBOverlayBase.react"),null,this.props.children),c("React").createElement(c("FBOverlayElement.react"),{horizontal:"right",vertical:"top"},c("React").createElement(c("Image.react"),{className:"_4ie4"+(!this.props.isSelected?" hidden_elem":""),src:i("23112")})))};function m(){"use strict";j.apply(this,arguments)}m.propTypes={isSelected:l.bool};m.defaultProps={isSelected:true};f.exports=m}),null);
__d("AdsPlayable.react",["cx","ix","CenteredContainer.react","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","Image.react","Link.react","React","SUIBusinessTheme","SUIText.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){"use strict";var n=c("React").createElement(c("Image.react"),{className:"_51o6",src:this.props.iconImage?this.props.iconImage:i("27500")});if(this.props.onPlayClick)n=c("React").createElement(c("Link.react"),{className:"_51o7",onClick:this.props.onPlayClick},n);var o=c("React").createElement(c("CenteredContainer.react"),{vertical:true},n);if(this.props.iconText)o=c("React").createElement(c("CenteredContainer.react"),{vertical:true},n,c("React").createElement(c("SUIText.react"),{display:"block",size:"medium_DEPRECATED",theme:c("SUIBusinessTheme")},this.props.iconText));return c("React").createElement(c("FBOverlayContainer.react"),this.props,c("React").createElement(c("FBOverlayBase.react"),null,this.props.children),c("React").createElement(c("FBOverlayElement.react"),null,o))};function m(){"use strict";j.apply(this,arguments)}m.propTypes={iconImage:l.object,iconText:l.string,onPlayClick:l.func};f.exports=m}),null);
__d("XAdsVideoPlayerController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/x/video_player/",{video_id:{type:"String",required:true},video_container_id:{type:"String",required:true},width:{type:"Int",required:true},height:{type:"Int",required:true},show_controls:{type:"Bool",defaultValue:false},forcehd:{type:"Bool",defaultValue:false},show_captions_default:{type:"Bool",defaultValue:false},force_flash:{type:"Bool",defaultValue:false},allow_fullscreen:{type:"Bool",defaultValue:false},start_muted:{type:"Bool",defaultValue:false},video_player_logger_source:{type:"String",required:true}})}),null);
__d("AdsVideoPlayer.react",["cx","fbt","AdsPlayable.react","AsyncRequest","CenteredContainer.react","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","Link.react","React","SUIBusinessTheme","SUISpinner.react","UserAgent","VideoPlayerLoggerSource","VideoPlayerReason","XAdsVideoPlayerController","guid","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=1e3;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(o){__p&&__p();k.constructor.call(this,o);this.playVideo=function(){if(this.props.disableVideoPlay)return;if(!this.isVideoLoaded())return;if(this.state.playerAPI){this.state.playerAPI.play(c("VideoPlayerReason").USER);this.setState({playing:true})}}.bind(this);this.closePlayer=function(){this.pause();this.seek(0);this.setState({playing:false});this.props.onPlayerClosed&&this.props.onPlayerClosed()}.bind(this);this.onMouseEnter=function(){if(this.state.playerAPI&&this.props.playOnHover){this.state.playerAPI.play(c("VideoPlayerReason").HOVER);this.setState({playing:true})}}.bind(this);this.onMouseLeave=function(){if(this.state.playerAPI&&this.props.playOnHover){this.state.playerAPI.pause(c("VideoPlayerReason").HOVER);if(this.state.playerAPI)this.state.playerAPI.abortLoading();this.setState({playing:false})}}.bind(this);this.state={implementationUnavailable:false,playing:false,playerAPI:null};this.$AdsVideoPlayer1=null;this.$AdsVideoPlayer2="ads_video_"+c("guid")()}n.prototype.componentDidMount=function(){this.$AdsVideoPlayer3(this.props)};n.prototype.UNSAFE_componentWillReceiveProps=function(o){__p&&__p();var p=o.videoID,q=o.playerWidth,r=o.playerHeight,s=o.rotation,t=o.timePositionInMs;if(p!==this.props.videoID||q!==this.props.playerWidth||r!==this.props.playerHeight){this.closePlayer();this.setState({playerAPI:null});this.$AdsVideoPlayer3(o)}else if(t!=null&&this.props.timePositionInMs!==t&&this.state.playerAPI)this.state.playerAPI.seek(t/m);if(s!=null&&s!==this.props.rotation)if(this.state.playerAPI)this.state.playerAPI.setRotation(s)};n.prototype.componentDidUpdate=function(o){if(this.props.autoPlay&&(!o.autoPlay||this.props.autoPlayStart!==o.autoPlayStart||this.props.autoPlayStop!==o.autoPlayStop))this.autoPlayVideo();if(!this.props.autoPlay&&o.autoPlay)this.pause(c("VideoPlayerReason").AUTOPLAY)};n.prototype.componentWillUnmount=function(){this.pause();this.seek(0);if(this.state.playerAPI)this.state.playerAPI.abortLoading();if(this.state.playerAPI)this.state.playerAPI.detachRootNode()};n.prototype.$AdsVideoPlayer3=function(o){if(this.props.loadVideoPlayer)this.props.loadVideoPlayer(this.$AdsVideoPlayer2,this,o);else this.$AdsVideoPlayer4(o)};n.prototype.$AdsVideoPlayer4=function(o){var p=o.videoID,q=o.playerWidth,r=o.playerHeight,s=c("XAdsVideoPlayerController").getURIBuilder().setString("video_id",p).setString("video_container_id",this.$AdsVideoPlayer2).setInt("width",q).setInt("height",r).setBool("show_controls",this.props.showControls).setBool("forcehd",this.props.forceHD).setBool("show_captions_default",this.props.showCaptionsByDefault).setBool("force_flash",this.props.forceFlash).setBool("allow_fullscreen",this.props.showFullscreenButton).setBool("start_muted",this.props.muted).setString("video_player_logger_source",this.props.videoPlayerLoggerSource).getURI();this.request=new(c("AsyncRequest"))().setMethod("GET").setRelativeTo(this).setURI(s).setReadOnly(true).setAllowCrossPageTransition(true).send()};n.prototype.isImplementationUnavailable=function(){if(this.state.playerAPI)this.setState({implementationUnavailable:this.state.playerAPI.isImplementationUnavailable()});return this.state.implementationUnavailable};n.prototype.autoPlayVideo=function(){__p&&__p();if(!this.state.playerAPI)return;if(this.props.autoPlayStart||this.props.autoPlayStart===0){this.state.playerAPI.seek(this.props.autoPlayStart/m);clearTimeout(this.$AdsVideoPlayer1)}this.state.playerAPI.play(c("VideoPlayerReason").AUTOPLAY);this.setState({playing:true});if(this.props.autoPlayStop)this.$AdsVideoPlayer1=setTimeout(function(){if(this.state.playerAPI)this.state.playerAPI.pause(c("VideoPlayerReason").AUTOPLAY)}.bind(this),this.props.autoPlayStop-(this.props.autoPlayStart||0))};n.prototype.getCurrentTimePosition=function(){return this.state.playerAPI?this.state.playerAPI.getCurrentTimePosition():null};n.prototype.isVideoLoaded=function(){var o=!!this.state.playerAPI;!o;if(this.state.playerAPI&&this.state.playerAPI.isState("fallback"))return false;return o};n.prototype.seek=function(o){if(!this.isVideoLoaded())return;if(this.state.playerAPI)this.state.playerAPI.seek(o/m)};n.prototype.pause=function(){var o=arguments.length<=0||arguments[0]===undefined?c("VideoPlayerReason").USER:arguments[0];if(!this.isVideoLoaded())return;if(this.state.playerAPI)this.state.playerAPI.pause(o)};n.prototype.mute=function(){if(!this.isVideoLoaded())return;if(this.state.playerAPI)this.state.playerAPI.mute()};n.prototype.render=function(){__p&&__p();var o=false,p=this.props.alwaysShowBackground,q=this.props.hideAllOverlays,r=!this.state.playerAPI&&!this.props.hideAllOverlays;if(this.state.playing)o=!!this.state.playerAPI;else if(this.state.playerAPI&&this.state.playerAPI.isState("fallback"))o=true;var s=null;if(this.props.autoPlay)s=c("React").createElement("div",{className:!p&&(o||r)?"invisible_elem":null,style:{height:this.props.playerHeight,width:this.props.playerWidth}},this.props.children);else s=r&&p||q?c("React").createElement("div",{style:{height:this.props.playerHeight,width:this.props.playerWidth}},this.props.children):c("React").createElement(c("AdsPlayable.react"),{className:o||r?"invisible_elem":null,iconImage:this.props.iconImage,iconText:this.props.iconText,onPlayClick:this.playVideo},this.props.children);var t=null;if(this.props.showControls&&!this.props.hideCloseButton)t=c("React").createElement(c("FBOverlayElement.react"),{horizontal:"left",vertical:"top"},c("React").createElement(c("Link.react"),{className:"_3-9a _2phz _4-xh"+(!o?" hidden_elem":""),onClick:this.closePlayer},i._("Close video player")));var u=void 0;if(r)u=c("React").createElement(c("FBOverlayElement.react"),null,c("React").createElement(c("CenteredContainer.react"),{horizontal:true,vertical:true},c("React").createElement(c("SUISpinner.react"),{size:"large",theme:c("SUIBusinessTheme")})));var v=c("UserAgent").isBrowser("IE");return c("React").createElement(c("FBOverlayContainer.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_4-xg"),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),c("React").createElement(c("FBOverlayElement.react"),null,c("React").createElement("div",{className:o||v?null:"invisible_elem",id:this.$AdsVideoPlayer2})),u,c("React").createElement(c("FBOverlayBase.react"),null,s),t)};n.prototype.onVideoLoaded=function(){__p&&__p();if(this.props.onVideoLoaded)this.props.onVideoLoaded();if(!this.state.playerAPI)return;if(this.props.onUpdateMetadata)this.state.playerAPI.addListener("updateMetadata",this.props.onUpdateMetadata);if(this.props.onBeginPlayback)this.state.playerAPI.addListener("beginPlayback",this.props.onBeginPlayback);if(this.props.loop||this.props.onFinishPlayback){var o=function(){if(this.props.loop){this.state.playerAPI&&this.state.playerAPI.seek(0);this.state.playerAPI&&this.state.playerAPI.play(c("VideoPlayerReason").LOOP);this.setState({playing:true})}if(this.props.onFinishPlayback)this.props.onFinishPlayback()}.bind(this);this.state.playerAPI.addListener("finishPlayback",o)}if(this.props.onPausePlayback)this.state.playerAPI.addListener("pausePlayback",this.props.onPausePlayback);if(this.props.onSeekEnd)this.state.playerAPI.addListener("seekEnd",this.props.onSeekEnd);if(this.props.playOnHover)this.state.playerAPI.abortLoading();if(this.props.autoPlay)this.autoPlayVideo()};n.prototype.destroyPlayer=function(){var o=this.state.playerAPI;if(o)o.destroy()};n.prototype.getPlaybackDuration=function(){if(!this.state.playerAPI)return null;return this.state.playerAPI.getPlaybackDuration()};n.prototype.getPlayerApi=function(){return this.state.playerAPI};n.propTypes={alwaysShowBackground:l.bool,autoPlay:l.bool,autoPlayStart:l.number,autoPlayStop:l.number,disableVideoPlay:l.bool,forceFlash:l.bool,forceHD:l.bool,hideAllOverlays:l.bool,hideCloseButton:l.bool,iconImage:l.object,iconText:l.string,loadVideoPlayer:l.func,loop:l.bool,muted:l.bool,playOnHover:l.bool,playerHeight:l.number.isRequired,playerWidth:l.number.isRequired,rotation:l.number,showCaptionsByDefault:l.bool,showControls:l.bool,showFullscreenButton:l.bool,timePositionInMs:l.number,videoID:l.string.isRequired,videoPlayerLoggerSource:l.string,onBeginPlayback:l.func,onFinishPlayback:l.func,onPausePlayback:l.func,onPlayerClosed:l.func,onSeekEnd:l.func,onUpdateMetadata:l.func,onVideoLoaded:l.func};n.defaultProps={alwaysShowBackground:false,showControls:true,showCaptionsByDefault:true,hideCloseButton:false,forceFlash:false,videoPlayerLoggerSource:c("VideoPlayerLoggerSource").INLINE,hideAllOverlays:false,muted:false,playOnHover:false,showFullscreenButton:true};n.invokeVideoLoaded=function(o,p){__p&&__p();o.setState({implementationUnavailable:p.isImplementationUnavailable()});if(p.isState("loading"))o.stateChangeListener=p.addListener("stateChange",function(){if(!p.isState("loading")){if(o.state&&o.state.playerAPI)return;o.setState({playerAPI:p},o.onVideoLoaded);if(o.stateChangeListener)o.stateChangeListener.remove()}});else o.setState({playerAPI:p},o.onVideoLoaded)};f.exports=n}),null);
__d("AdsVideoValidationUtils",["fbt","AdsError","AdsErrorUtils","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i={getIcebergErrorNotice:function j(k){var l=h._("This video is not eligible for the additional video content.");return i._getErrorList(i._getErrorDetails(l,k))},getCompletedViewErrorNotice:function j(k){var l=h._("This video is not eligible for completed video view buying.");return i._getErrorList(i._getErrorDetails(l,k))},getMrcViewErrorNotice:function j(k){var l=h._("This video is not eligible for 2-second continuous video view buying.");return i._getErrorList(i._getErrorDetails(l,k))},getInstagramErrorNotice:function j(k,l){var m=void 0;if(l===c("AdsError").Level.RECOMMEND)m=h._("This video can't be used for Instagram, but you can still select it to run on Facebook.");else m=h._("This video can't be used for Instagram ads");var n=[];if(l===c("AdsError").Level.RECOMMEND)n.push(h._("You can choose another video that will run on both Instagram and Facebook."));else n.push(h._("Choose another video for this ad set."));return i._getErrorList(i._getErrorDetails(m,k,n))},getAudienceNetworkInStreamVideoCTVErrorNotice:function j(k){var l=h._("This video can't be used for Connected TV ads on Audience Network. To use this video for Connected TV ads, you need to:");return i._getErrorList(i._getErrorDetails(l,k))},getAudienceNetworkInStreamVideoErrorNotice:function j(k){var l=h._("This video can't be used for in-stream ads on Audience Network. To run in-stream on Audience Network, you need to:");return i._getErrorList(i._getErrorDetails(l,k))},getInstreamVideoErrorNotice:function j(k,l){var m=void 0;if(l===c("AdsError").Level.RECOMMEND)m=h._("This video can't be used for in-stream ads, but it can still run in your other placements.");else m=h._("This video can't be used for in-stream ads.");return i._getErrorList(i._getErrorDetails(m,k))},getRewardedVideoErrorNotice:function j(k){var l=h._("This video can't be used for rewarded video ads on Audience Network.");return i._getErrorList(i._getErrorDetails(l,k))},_getErrorDetails:function j(k,l,m){var n=[k,"\n"],o=c("AdsErrorUtils").getRawMessages(l);if(o.length>1)o=o.map(function(p){return h._("{bullet} {error message}",[h._param("bullet","\u2022"),h._param("error message",p)])});if(m)o=o.concat(m);return n.concat(o)},_getErrorList:function j(k){return c("React").createElement("ul",null,k.map(function(l,m){return c("React").createElement("li",{key:"error_"+m},l)}))}};f.exports=i}),null);
__d("AdsVideoValidationIcon.react",["errorCode","AdsAccountCapabilities","AdsAccountUtils","AdsError","AdsErrorUtils","AdsInstagramFields","AdsValidationIcon.react","AdsValidationIconType","AdsVideoBuyingStoreUtils","AdsVideoValidationUtils","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=new Set([1815287,2016029,1815755,1815754]),l=new Set([1815287,2016029,2016032,1885566,1815754]),m=new Set([1885824]),n=c("AdsInstagramFields").INSTAGRAM_VIDEO_ERROR_KEYS,o=new Set([1815484,1815490,1815483,2016019]),p=c("AdsVideoBuyingStoreUtils").COMPLETED_VIEW_ERRORS,q=c("AdsVideoBuyingStoreUtils").MRC_VIEW_ERRORS;i=babelHelpers.inherits(r,c("React").PureComponent);j=i&&i.prototype;r.prototype.render=function(){__p&&__p();var s=c("AdsErrorUtils").getLevelForErrors(this.props.errors),t=c("AdsErrorUtils").getAllErrorsAtLevel(this.props.errors,s);if(t.length===0)return null;var u=[],v=t.filter(function(F){return o.has(F.key)});if(v.length!==0)u.push(c("AdsVideoValidationUtils").getInstreamVideoErrorNotice(v,s));var w=t.filter(function(F){return n.has(F.key)});if(w.length!==0)u.push(c("AdsVideoValidationUtils").getInstagramErrorNotice(w,s));var x=t.filter(function(F){return k.has(F.key)});if(x.length!==0)u.push(c("AdsVideoValidationUtils").getAudienceNetworkInStreamVideoErrorNotice(x));var y=t.filter(function(F){return l.has(F.key)}),z=c("AdsAccountUtils").hasCapabilityFromList(this.props.accountCapabilities,c("AdsAccountCapabilities").ADS_INSTREAM_CONNECTED_TV);if(y.length!==0&&z)u.push(c("AdsVideoValidationUtils").getAudienceNetworkInStreamVideoCTVErrorNotice(y));var A=t.filter(function(F){return m.has(F.key)});if(A.length!==0)u.push(c("AdsVideoValidationUtils").getRewardedVideoErrorNotice(A));var B=t.filter(function(F){return p.has(F.key)});if(B.length!==0)u.push(c("AdsVideoValidationUtils").getCompletedViewErrorNotice(B));var C=t.filter(function(F){return q.has(F.key)});if(C.length!==0)u.push(c("AdsVideoValidationUtils").getMrcViewErrorNotice(C));var D=function D(F,G){if(F.length===0||F.length===1)return F;var H=[];F.forEach(function(I,J){H.push(I);if(J<F.length-1)H.push(G)});return H};u=D(u,"\n");var E=this.props.iconType;if(!E)E=s===c("AdsError").Level.RECOMMEND?c("AdsValidationIconType").WARNING:c("AdsValidationIconType").ERROR_IMAGE;return c("React").createElement(c("AdsValidationIcon.react"),{className:this.props.className,isError:s===c("AdsError").Level.WARN,messages:u,type:E})};function r(){i.apply(this,arguments)}f.exports=r}),null);
__d("AdsVideoItem.react",["cssVar","cx","invariant","AdsError","AdsErrorUtils","AdsTestIDs","AdsTimeUtils","AdsVideoPlayer.react","AdsVideoValidationIcon.react","BackgroundImage.react","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","GradientBox.react","Link.react","React"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes,n={tiny:{width:parseInt("160px",10),height:parseInt("90px",10)},small:{width:parseInt("220px",10),height:parseInt("124px",10)},large:{width:parseInt("280px",10),height:parseInt("158px",10)}};k=babelHelpers.inherits(o,c("React").PureComponent);l=k&&k.prototype;o.prototype.UNSAFE_componentWillReceiveProps=function(p){if(!p.picture)return;if(this.refs.videoPlayer&&p.picture!==this.props.picture)this.refs.videoPlayer.closePlayer()};o.prototype.render=function(){__p&&__p();var p=n[this.props.size],q=this.props.onClick,r=c("AdsErrorUtils").getLevelForErrors(this.props.errors),s=c("AdsErrorUtils").getAllErrorsAtLevel(this.props.errors,r),t=this.$AdsVideoItem1(s,r);if(!this.props.selectableOnErrors&&s.length>0&&r===c("AdsError").Level.WARN)q=null;var u=null;if(this.props.title)u=c("React").createElement(c("FBOverlayElement.react"),{vertical:"bottom"},c("React").createElement("div",{className:"_5cl3"+(!!(this.props.length&&!t)?" _5r1m":"")+(!!(this.props.length&&t)?" _19ra":"")},this.props.title));var v=null;if(this.props.length)v=c("React").createElement(c("FBOverlayElement.react"),{horizontal:"right",vertical:"bottom"},c("React").createElement("div",{className:"_5r1p"+(!!t?" _19rb":"")},c("AdsTimeUtils").secondsToString(Math.floor(this.props.length))));var w=c("React").createElement(c("FBOverlayContainer.react"),null,c("React").createElement(c("FBOverlayBase.react"),null,c("React").createElement(c("BackgroundImage.react"),{backgroundSize:"contain",className:"_55v-",height:p.height,src:this.props.picture,width:p.width})),c("React").createElement(c("FBOverlayElement.react"),{vertical:"bottom"},c("React").createElement(c("GradientBox.react"),{className:"_5cl2",color:"black",direction:"up"})),u,this.$AdsVideoItem2(t),v);if(this.props.playable){this.props.videoID||j(0);return c("React").createElement(c("FBOverlayContainer.react"),null,c("React").createElement(c("FBOverlayBase.react"),null,c("React").createElement(c("AdsVideoPlayer.react"),babelHelpers["extends"]({},this.props,{playerHeight:p.height,playerWidth:p.width,ref:"videoPlayer",videoID:this.props.videoID}),c("React").createElement(c("Link.react"),{"data-testid":c("AdsTestIDs").VIDEO_BOX,onClick:q},w))),this.$AdsVideoItem3(t))}return c("React").createElement(c("Link.react"),{"data-testid":c("AdsTestIDs").VIDEO_BOX,onClick:q},w)};o.prototype.$AdsVideoItem1=function(p,q){if(p.length===0)return null;return c("React").createElement(c("AdsVideoValidationIcon.react"),{accountCapabilities:this.props.accountCapabilities,className:"_19rc",errors:p})};o.prototype.$AdsVideoItem2=function(p){if(!p)return null;if(this.props.playable)return null;return c("React").createElement(c("FBOverlayElement.react"),{horizontal:"right",vertical:"bottom"},p)};o.prototype.$AdsVideoItem3=function(p){if(!p)return null;if(!this.props.playable)return null;return c("React").createElement(c("FBOverlayElement.react"),{horizontal:"left",vertical:"top"},p)};function o(){k.apply(this,arguments)}o.propTypes={accountCapabilities:m.array,errors:m.arrayOf(m.instanceOf(c("AdsError"))).isRequired,height:m.number.isRequired,isSpherical:m.bool.isRequired,length:m.number.isRequired,picture:m.string.isRequired,playable:m.bool.isRequired,selectableOnErrors:m.bool,size:m.oneOf(Object.keys(n)).isRequired,title:m.string,videoID:m.string,width:m.number.isRequired,onClick:m.func};o.defaultProps={errors:[],size:"small",videoID:null,playable:false,isSpherical:false};f.exports=o}),null);
__d("WaitTimeArea.react",["React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.getChildContext=function(){return{waitTimeAreaName:this.props.name,waitTimeAreaOwner:this.props.owner}};k.prototype.render=function(){return this.props.children||null};function k(){h.apply(this,arguments)}k.childContextTypes={waitTimeAreaName:j.string.isRequired,waitTimeAreaOwner:j.string.isRequired};f.exports=k}),null);
__d("AdsVideoUploadProgressView.react",["fbt","AdsProgressBox.react","AdsVideoUploadStatus","CenteredContainer.react","React","WaitTimeArea.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=void 0;switch(this.props.uploadStatus){case c("AdsVideoUploadStatus").UPLOADING:l=this.$AdsVideoUploadProgressView1(h._("Uploading video {video title}",[h._param("video title",this.props.title)]),false);break;case c("AdsVideoUploadStatus").ENCODING:l=this.$AdsVideoUploadProgressView1(h._("Processing video {video title}",[h._param("video title",this.props.title)]),true);break;default:l=null}return l};k.prototype.$AdsVideoUploadProgressView1=function(l,m){return c("React").createElement(c("CenteredContainer.react"),{className:this.props.centerContainerClassName,horizontal:false,vertical:true},c("React").createElement(c("WaitTimeArea.react"),{name:"AdsVideoUploadProgressView",owner:"ads_advertiser_experience"},c("React").createElement(c("AdsProgressBox.react"),{className:this.props.progressBoxClassName,progressValue:this.props.uploadProgress,striped:m,videoTitle:l,onCancel:this.props.onCancel})))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("AdsVideoUtils",["AdsAudienceDirectConfig"],(function a(b,c,d,e,f,g){"use strict";var h={isVideoGif:function i(j){return j!=null&&j.match(/.gif\.*/i)!==null},shouldAllowGIFFiles:function i(){return!c("AdsAudienceDirectConfig").isDirectDealsUser},getVideoFileExtensions:function i(){var j=["video/mp4","video/x-m4v","video/*"];if(h.shouldAllowGIFFiles())j.push("image/gif");return j.join(",")}};f.exports=h}),null);
__d("AdsVideoPanel.react",["cx","fbt","AdsLoadState_LEGACY","AdsPlusBox.react","AdsSelected.react","AdsVideoItem.react","AdsVideoUploadProgressView.react","AdsVideoUploadStatus","AdsVideoUploadUtil","AdsVideoUtils","CenteredContainer.react","FileInput.react","immutable","React","SUIBusinessTheme","SUISpinner.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=new Map();j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$AdsVideoPanel4=function(t){if(t.status!==c("AdsVideoUploadStatus").UPLOADING&&t.status!==c("AdsVideoUploadStatus").ENCODING)return null;return c("React").createElement("div",{className:"_414a _5c2p",key:t.uploaderKey},c("React").createElement(c("AdsVideoUploadProgressView.react"),{centerContainerClassName:"_ji0",progressBoxClassName:"_ji1",title:t.title,uploadProgress:c("AdsVideoUploadUtil").normalizeProgress(t.progress),uploadStatus:t.status,onCancel:function(){return this.props.onUploadCancel&&this.props.onUploadCancel(t.uploaderKey)}.bind(this)}))}.bind(this),this.$AdsVideoPanel5=function(t){if(this.props.onVideoFileChange)this.props.onVideoFileChange(t.target.files)}.bind(this),this.$AdsVideoPanel3=function(t,u){if(t.loadState===c("AdsLoadState_LEGACY").LOADING)return c("React").createElement(c("CenteredContainer.react"),{className:"_4hde",key:u,vertical:true},c("React").createElement(c("SUISpinner.react"),{size:"large",theme:c("SUIBusinessTheme")}));if(!t||!t.preferredThumbnail)return null;var v=this.props.selectedVideoIDs.includes(t.id),w=t.title||t.description||i._("Video ({video ID})",[i._param("video ID",t.id)]),x=this.props.videoErrors.get(t.id)||[];return c("React").createElement(c("AdsSelected.react"),{className:"_414a",isSelected:v,key:"video_"+t.id},c("React").createElement(c("AdsVideoItem.react"),{accountCapabilities:this.props.accountCapabilities,errors:x,height:t.height,isSpherical:t.spherical,length:t.length,picture:t.preferredThumbnail.uri,selectableOnErrors:this.props.selectableOnErrors,size:"small",title:w,width:t.width,onClick:this.props.onVideoClick.bind(null,t.id)}))}.bind(this),p}n.prototype.render=function(){var o=null;if(this.props.showUploader)if(c("AdsVideoUploadUtil").atLeastOneVideoUploading(this.props.uploadStateMap))o=this.$AdsVideoPanel1();else o=c("React").createElement("div",{className:"_414a _5c2p"},this.$AdsVideoPanel2());return c("React").createElement("div",{className:"_iux"},o,this.props.videoList.map(this.$AdsVideoPanel3))};n.prototype.$AdsVideoPanel1=function(){if(!this.props.uploadStateMap)return null;return c("React").createElement(c("React").Fragment,null,this.props.uploadStateMap.valueSeq().map(this.$AdsVideoPanel4))};n.prototype.$AdsVideoPanel2=function(){return c("React").createElement(c("FileInput.react"),{accept:c("AdsVideoUtils").getVideoFileExtensions(),multiple:this.props.enableMultipleUpload,onChange:this.$AdsVideoPanel5},c("React").createElement(c("AdsPlusBox.react"),{className:"_1hit"},i._("Upload Video")))};n.propTypes={accountCapabilities:l.array,enableMultipleUpload:l.bool,selectableOnErrors:l.bool,selectedVideoIDs:l.arrayOf(l.string).isRequired,showUploader:l.bool,uploadStateMap:l.instanceOf(c("immutable").Map),videoErrors:l.instanceOf(Map),videoList:l.array,onUploadCancel:l.func,onVideoClick:l.func,onVideoFileChange:l.func};n.defaultProps={enableMultipleUpload:false,selectedVideoIDs:[],showUploader:true,videoList:[],videoErrors:m,onVideoClick:c("emptyFunction")};f.exports=n}),null);
__d("AdsVideoPickerHideSources",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({DIALOG_CANCEL:null,IMPORT_CONFIRM:null,SELECT_CONFIRM:null});f.exports=h}),null);
__d("AdsVideoPickerUtils",["AdsVideoSelectionHeaderTabTypes"],(function a(b,c,d,e,f,g){"use strict";var h=new Set([c("AdsVideoSelectionHeaderTabTypes").LIBRARY,c("AdsVideoSelectionHeaderTabTypes").IMPORT,c("AdsVideoSelectionHeaderTabTypes").UPLOAD]),i=new Set([c("AdsVideoSelectionHeaderTabTypes").ACCOUNT,c("AdsVideoSelectionHeaderTabTypes").IMPORT,c("AdsVideoSelectionHeaderTabTypes").UPLOAD]),j=new Set([c("AdsVideoSelectionHeaderTabTypes").ACCOUNT,c("AdsVideoSelectionHeaderTabTypes").PAGE,c("AdsVideoSelectionHeaderTabTypes").IMPORT,c("AdsVideoSelectionHeaderTabTypes").UPLOAD]);function k(l){if(l)return j;return i}f.exports={getShownTabs:k,TABS_WITH_ACCOUNT_AND_PAGE:j,TABS_WITH_ACCOUNT_BUT_NO_PAGE:i,TABS_WITH_LIBRARY:h}}),null);
__d("AdsVideoSelectionHeader.react",["cx","fbt","AdsMediaPanelHeader.react","AdsVideoPickerUtils","AdsVideoSelectionHeaderTabTypes","React","SimpleNUXMessage","SimpleNUXMessageTypes"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").Component,m=[{className:"_udk",tabKey:c("AdsVideoSelectionHeaderTabTypes").ACCOUNT,title:i._("Account Videos"),nuxConfig:null},{className:"_udm",tabKey:c("AdsVideoSelectionHeaderTabTypes").PAGE,title:i._("Page Videos"),nuxConfig:null},{className:"_5ta",tabKey:c("AdsVideoSelectionHeaderTabTypes").LIBRARY,title:i._("Browse Library"),nuxConfig:null},{className:"_5tb",tabKey:c("AdsVideoSelectionHeaderTabTypes").IMPORT,title:i._("Paste a Link"),nuxConfig:{message:i._("New! Upload a video faster by pasting the link of a hosted video file."),msg_id:c("SimpleNUXMessageTypes").VIDEO_REMOTE_UPLOAD}},{className:"_fnb",tabKey:c("AdsVideoSelectionHeaderTabTypes").UPLOAD,title:i._("Upload Videos"),nuxConfig:null}];j=babelHelpers.inherits(n,l);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={closedNuxes:[]},p}n.prototype.componentDidMount=function(){if(this.props.visible==true)this.refs.header.forceUpdate()};n.prototype.render=function(){var o=m.filter(function(p){return this.props.shownTabs.has(p.tabKey)&&!(p.tabKey===c("AdsVideoSelectionHeaderTabTypes").UPLOAD&&!this.props.showInstagramVideos)}.bind(this)).map(function(p){return{className:p.className,tabKey:p.tabKey,title:p.title,nuxConfig:this.$AdsVideoSelectionHeader1(p.nuxConfig)}}.bind(this));return c("React").createElement(c("AdsMediaPanelHeader.react"),{ref:"header",selectedTab:this.props.selectedTab,tabConfigs:o,onTabSwitch:this.props.onTabSwitch})};n.prototype.$AdsVideoSelectionHeader1=function(o){if(o==null)return null;return{message:o.message,onClose:this.$AdsVideoSelectionHeader2.bind(this,o.msg_id),shown:this.props.visible&&!c("SimpleNUXMessage").hasUserSeenMessage(c("SimpleNUXMessageTypes").VIDEO_REMOTE_UPLOAD)&&!this.state.closedNuxes.includes(o.msg_id)}};n.prototype.$AdsVideoSelectionHeader2=function(o){var p=this.state.closedNuxes.slice();p.push(o);this.setState({closedNuxes:p});c("SimpleNUXMessage").markMessageSeenByUser(o)};n.defaultProps={selectedTab:c("AdsVideoSelectionHeaderTabTypes").LIBRARY,shownTabs:c("AdsVideoPickerUtils").getShownTabs(true),showInstagramVideos:false};f.exports=n}),null);
__d("AdsVideoShortContentConstant",[],(function a(b,c,d,e,f,g){"use strict";f.exports={SHORT_CONTENT_VIDEO_LENGTH_LIMIT:15.5}}),null);
__d("AdsVideoShortContentTipContentEnum",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADS_INTERFACE:"ads_interface",VIDEO_ONLOAD:"video_onload",CREATIVE_HUB:"creative_hub",INSTREAM_PLACEMENT:"instream_placement"})}),null);
__d("AdsVideoShortContentTipSourceEnum",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CREATION_FLOW_OBJECTIVE:"creation_flow_objective",CREATION_FLOW_VIDEO_LIB_BROWSE:"creation_flow_video_lib_browse",CREATION_FLOW_VIDEO_UPLOAD:"creation_flow_video_upload",CREATIVE_HUB_VIDEO_LIB_BROWSE:"creative_hub_video_lib_browse",CREATIVE_HUB_VIDEO_PREVIEW:"creative_hub_video_preview",POWER_EDITOR_DUPLICATE_AD:"power_editor_duplicate_ad",POWER_EDITOR_L3:"power_editor_l3",POWER_EDITOR_VIDEO_LIB_BROWSE:"power_editor_video_lib_browse"})}),null);
__d("AdsVideoUploadBox.react",["cx","fbt","invariant","ix","AdsProgressBox.react","AdsVideoUploadStatus","AdsVideoUploadUtil","AdsVideoUtils","CenteredContainer.react","FileInput.react","Image.react","InlineBlock.react","Link.react","React","WaitTimeArea.react"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=300,o=35;function p(r){var s=r.height,t=r.uploadState,u=r.onUploadCancel,v=c("AdsVideoUploadUtil").normalizeProgress(t.progress);switch(t.status){case c("AdsVideoUploadStatus").UPLOADING:return c("React").createElement(c("CenteredContainer.react"),{className:"_1y4h",horizontal:false,style:{height:s},vertical:true},c("React").createElement(c("WaitTimeArea.react"),{name:"AdsVideoUploadBox:Upload",owner:"ads_advertiser_experience"},c("React").createElement(c("AdsProgressBox.react"),{processingAction:c("AdsProgressBox.react").PROCESSING_ACTION.Uploading,progressValue:v,striped:false,videoTitle:t.title,onCancel:u})));case c("AdsVideoUploadStatus").ENCODING:return c("React").createElement(c("CenteredContainer.react"),{className:"_1y4h",horizontal:false,style:{height:s},vertical:true},c("React").createElement(c("WaitTimeArea.react"),{name:"AdsVideoUploadBox:Encode",owner:"ads_advertiser_experience"},c("React").createElement(c("AdsProgressBox.react"),{processingAction:c("AdsProgressBox.react").PROCESSING_ACTION.Encoding,progressValue:v,striped:true,videoTitle:t.title,onCancel:u})));default:return null}}l=babelHelpers.inherits(q,c("React").PureComponent);m=l&&l.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=m.constructor).call.apply(r,[this].concat(u)),this.$AdsVideoUploadBox3=function(w){this.$AdsVideoUploadBox4(w.target.files)}.bind(this),this.$AdsVideoUploadBox2=function(w){this.$AdsVideoUploadBox4(w.dataTransfer.files);w.preventDefault()}.bind(this),s}q.prototype.render=function(){if(c("AdsVideoUploadUtil").atLeastOneVideoUploading(this.props.uploadStateMap)){this.props.uploadStateMap||j(0);return this.props.uploadStateMap.valueSeq().map(function(r){return c("React").createElement(p,{height:this.props.height,key:r.uploaderKey,uploadState:r,onUploadCancel:function(){return this.props.onUploadCancel&&this.props.onUploadCancel(r.uploaderKey)}.bind(this)})}.bind(this))}return c("React").createElement("div",{className:"_1y4h",style:{height:this.props.height},onDragOver:this.$AdsVideoUploadBox1,onDrop:this.$AdsVideoUploadBox2},c("React").createElement(c("FileInput.react"),{accept:c("AdsVideoUtils").getVideoFileExtensions(),multiple:this.props.enableMultipleUpload,onChange:this.$AdsVideoUploadBox3},c("React").createElement(c("Link.react"),null,c("React").createElement(c("InlineBlock.react"),{alignv:"middle",className:"_1y4j"},c("React").createElement(c("Image.react"),{className:"_1y4k",src:k("23121")}),c("React").createElement(c("InlineBlock.react"),{alignv:"middle",className:"_1y4l",height:o},i._("Drag and drop a video or click to upload"))))))};q.prototype.$AdsVideoUploadBox1=function(r){r.preventDefault()};q.prototype.$AdsVideoUploadBox4=function(r){if(this.props.onVideoFileChange)this.props.onVideoFileChange(r)};q.defaultProps={height:n};f.exports=q}),null);
__d("AdsVideoUploadPanel.react",["cx","fbt","AdsImageLegacy","AdsSelected.react","AdsVideoImportSourceTypes","AdsVideoItem.react","AdsVideoUploadBox.react","CenteredContainer.react","React","SUIBusinessTheme","SUIText.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=76;function m(p){__p&&__p();var q=p.video;if(!q.display_url)return null;var r=q.id===p.selectedVideoID,s=i._("Video ({video ID})",[i._param("video ID",q.creation_time)]),t=q.creation_time?q.creation_time:"Instagram",u=function u(){return p.onVideoClick(q.id,t,q.video_url,c("AdsVideoImportSourceTypes").INSTAGRAM)},v=void 0,w=void 0;if(q.video_metadata&&q.video_metadata.height&&q.video_metadata.width){v=q.video_metadata.width;w=q.video_metadata.height}else{var x=new(c("AdsImageLegacy"))({url:q.display_url});if(x.hasDimensions()){w=x.getHeight();v=x.getWidth()}else{w=0;v=0}}return c("React").createElement(c("AdsSelected.react"),{className:"_414a",isSelected:r,key:"video_"+q.id},c("React").createElement(c("AdsVideoItem.react"),{accountCapabilities:p.accountCapabilities,errors:[],height:w,isSpherical:false,length:q.video_metadata&&q.video_metadata.duration?q.video_metadata.duration:0,picture:q.display_url,selectableOnErrors:p.selectableOnErrors,size:"small",title:s,width:v,onClick:u}))}function n(p){var q=void 0;if(p.instagramAccount&&p.instagramAccount.username)q=c("React").createElement(c("SUIText.react"),{display:"inline",shade:"dark",size:"meta1",theme:c("SUIBusinessTheme"),weight:"bold"}," "+p.instagramAccount.username.toString());return c("React").createElement(c("CenteredContainer.react"),{className:"_3x3a",horizontal:false,vertical:true},c("React").createElement(c("SUIText.react"),{display:"block",shade:"dark",size:"medium_DEPRECATED",theme:c("SUIBusinessTheme"),weight:"bold"},i._("Import from Instagram")),c("React").createElement("div",{className:"_3-8w"},i._("Videos from {bold username}{username extension} Instagram are available to upload into Ads Manager. Stories on Instagram are only visible and available to import for 24 hours. Select the videos below that you'd like to upload to the library and use in ads.",[i._param("bold username",q),i._param("username extension",q?"'s ":" ")])))}j=babelHelpers.inherits(o,c("React").PureComponent);k=j&&j.prototype;o.prototype.render=function(){var p=void 0,q=void 0;if(this.props.instagramVideos&&this.props.instagramVideos.length>0){q=l;var r=this.props.instagramVideos.map(function(s,t){return c("React").createElement(m,babelHelpers["extends"]({},this.props,{key:t,video:s}))}.bind(this));p=c("React").createElement("div",{className:"_3x3b"},c("React").createElement(n,{instagramAccount:this.props.instagramAccount}),r)}return c("React").createElement("div",null,c("React").createElement(c("AdsVideoUploadBox.react"),{enableMultipleUpload:this.props.enableMultipleUpload,height:q,uploadStateMap:this.props.uploadStateMap,onUploadCancel:this.props.onUploadCancel,onVideoFileChange:this.props.onVideoFileChange}),p)};function o(){j.apply(this,arguments)}o.defaultProps={enableMultipleUpload:false,onVideoClick:c("emptyFunction")};f.exports=o}),null);
__d("SUIModalOkayButton.react",["fbt","React","SUIButton.react","SUIComponent"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("SUIComponent"));j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement(c("SUIButton.react"),babelHelpers["extends"]({},this.props,{label:h._("OK")}))};function k(){i.apply(this,arguments)}k.defaultProps=c("SUIButton.react").defaultProps;k.propTypes=babelHelpers["extends"]({},c("SUIButton.react").propTypes,{layerAction:c("SUIButton.react").propTypes.layerAction.isRequired});f.exports=k}),null);
__d("BUIAdoptionDialogOkayButton.react",["BUIAdoptionButton.react","React","SUIBusinessTheme","SUIButton.react","SUIModalOkayButton.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){return c("React").createElement(c("SUIModalOkayButton.react"),babelHelpers["extends"]({theme:c("SUIBusinessTheme")},this.props))};j.getButtonSize=function(k){return c("BUIAdoptionButton.react").getButtonSize(k)};function j(){h.apply(this,arguments)}j.defaultProps=c("SUIButton.react").defaultProps;j.propTypes=c("SUIButton.react").propTypes;f.exports=j}),null);
__d("XBrandVideoAdsShortContentTipEmailController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/brand_video/short_content/tip_email/",{})}),null);
__d("AdsVideoViewsShortContentMegaphoneNux.react",["cssVar","cx","fbt","ix","AdsIntelligentInlineNux.react","AdsIntelligentInlineNuxTypes","AdsLearnMore.react","AdsVideoShortContentTipContentEnum","AdsVideoShortContentTipSourceEnum","AsyncRequest","Grid.react","Image.react","Layout.react","React","SUIBusinessTheme","SUIButton.react","SUILink.react","SUIText.react","SUITextInput.react","XBrandVideoAdsShortContentTipEmailController","asset","isEmail"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n,o,p=c("AdsIntelligentInlineNuxTypes").AdsIntelligentNuxTypes,q=c("Grid.react").GridItem,r=c("Layout.react").Column,s=Object.freeze({ERROR:0,NONE:1,SENDING:2,SENT:3}),t="144240239372256",u="257808937971866",v="video_view_short_content_tip",w="video_ads_video_views_short_content_tip";l=babelHelpers.inherits(x,c("React").Component);m=l&&l.prototype;function x(z){__p&&__p();m.constructor.call(this,z);this.$BrandVideoAdsShortContentMegaphone1=function(){this.setState({email:"",errorMessage:null,emailProcessingStatus:s.NONE,isInvalidEmail:false})}.bind(this);this.$BrandVideoAdsShortContentMegaphone2=function(A){this.setState({email:A,isInvalidEmail:false,errorMessage:null})}.bind(this);this.$BrandVideoAdsShortContentMegaphone3=function(){__p&&__p();if(!c("isEmail")(this.state.email)){this.setState({isInvalidEmail:true,errorMessage:j._("Please enter a valid email address.")});return}this.setState({emailProcessingStatus:s.SENDING});var A=c("XBrandVideoAdsShortContentTipEmailController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(A).setData({recipient_email:this.state.email.trim(),ad_account_id:this.props.adAccountID,tip_source:this.props.tipSource,content_type:this.props.contentType}).setHandler(function(B){if(B.payload.status)this.setState({emailProcessingStatus:s.SENT});else this.setState({emailProcessingStatus:s.ERROR,errorMessage:j._("Unable to send the email. Please try again.")})}.bind(this)).send()}.bind(this);this.state={email:"",errorMessage:null,emailProcessingStatus:s.NONE,isInvalidEmail:false}}x.prototype.$BrandVideoAdsShortContentMegaphone4=function(){switch(this.props.contentType){case c("AdsVideoShortContentTipContentEnum").INSTREAM_PLACEMENT:return k("326342");case c("AdsVideoShortContentTipContentEnum").ADS_INTERFACE:case c("AdsVideoShortContentTipContentEnum").CREATIVE_HUB:case c("AdsVideoShortContentTipContentEnum").VIDEO_ONLOAD:default:return this.props.sizeType==="small"?k("287232"):k("23151")}};x.prototype.$BrandVideoAdsShortContentMegaphone5=function(){switch(this.props.contentType){case c("AdsVideoShortContentTipContentEnum").CREATIVE_HUB:return j._("Tip: Short Videos Perform Better on Mobile");case c("AdsVideoShortContentTipContentEnum").VIDEO_ONLOAD:return j._("Tip: Try a Shorter Video For More Completed Views");case c("AdsVideoShortContentTipContentEnum").INSTREAM_PLACEMENT:return j._("Tip: New Placement Available For Shorter Video Ads");case c("AdsVideoShortContentTipContentEnum").ADS_INTERFACE:default:return j._("Tip: Shorter Videos Get More Completed Views")}};x.prototype.$BrandVideoAdsShortContentMegaphone6=function(){switch(this.props.contentType){case c("AdsVideoShortContentTipContentEnum").CREATIVE_HUB:return j._("Tell your story in 15 seconds or less, and get your entire message across to more people. {=Learn More}",[j._param("=Learn More",c("React").createElement(c("AdsLearnMore.react"),{cmsID:t}))]);case c("AdsVideoShortContentTipContentEnum").VIDEO_ONLOAD:return j._("More people watch to the end of video ads that are 15s or less. {=Learn More}",[j._param("=Learn More",c("React").createElement(c("AdsLearnMore.react"),{cmsID:t}))]);case c("AdsVideoShortContentTipContentEnum").INSTREAM_PLACEMENT:return j._("Use a 5-15 second video to be eligible for the in-stream videos placement. People tend to watch these ads to the end. {=Learn More}",[j._param("=Learn More",c("React").createElement(c("AdsLearnMore.react"),{cmsID:u}))]);case c("AdsVideoShortContentTipContentEnum").ADS_INTERFACE:default:return j._("More people watch to the end of videos that are 15 seconds or less. {=Show More link}",[j._param("=Show More link",c("React").createElement(c("AdsLearnMore.react"),{cmsID:t}))])}};x.prototype.renderEmailSent=function(){var z=k("378272");return c("React").createElement("div",null,c("React").createElement(c("Image.react"),{className:"_t-p",src:z}),c("React").createElement(c("SUIText.react"),{className:"_t-t",customColorUseSparingly:"#42b72a",size:"medium_DEPRECATED"},j._("SENT TO: {email address}",[j._param("email address",this.state.email)])),c("React").createElement("div",{className:"_t-u"},c("React").createElement(c("SUILink.react"),{onClick:this.$BrandVideoAdsShortContentMegaphone1},j._("Send Another"))))};x.prototype.renderSendEmail=function(){return c("React").createElement(c("Layout.react"),null,c("React").createElement(r,null,c("React").createElement(c("Grid.react"),{alignv:"top",cols:2},c("React").createElement(q,null,c("React").createElement("div",null,c("React").createElement(c("SUITextInput.react"),{errorMessage:this.state.errorMessage,placeholder:j._("Enter email address"),onChange:this.$BrandVideoAdsShortContentMegaphone2}))),c("React").createElement(q,{className:"_t-v"},c("React").createElement(c("SUIButton.react"),{disabled:this.state.email.trim().length==0||this.state.isInvalidEmail||this.state.emailProcessingStatus===s.SENDING,label:j._("Send"),use:"confirm",onClick:this.$BrandVideoAdsShortContentMegaphone3})))))};x.prototype.$BrandVideoAdsShortContentMegaphone7=function(){return c("React").createElement(c("SUIText.react"),{size:"meta1",theme:c("SUIBusinessTheme")},this.$BrandVideoAdsShortContentMegaphone6())};x.prototype.render=function(){return c("React").createElement(c("AdsIntelligentInlineNux.react"),{nuxProps:{imageSrc:this.$BrandVideoAdsShortContentMegaphone4(),messageBody:this.$BrandVideoAdsShortContentMegaphone7(),title:this.$BrandVideoAdsShortContentMegaphone5(),type:p.MEGAPHONE},tipProps:{channelName:this.props.channelName,messageID:this.props.messageID}})};n=babelHelpers.inherits(y,c("React").Component);o=n&&n.prototype;function y(z){o.constructor.call(this,z)}y.prototype.render=function(){var z=void 0;switch(this.props.tipSource){case c("AdsVideoShortContentTipSourceEnum").CREATION_FLOW_VIDEO_LIB_BROWSE:case c("AdsVideoShortContentTipSourceEnum").POWER_EDITOR_VIDEO_LIB_BROWSE:z="small";break;default:z="normal"}return c("React").createElement(x,{adAccountID:this.props.adAccountID,channelName:this.props.channelName,contentType:this.props.contentType,messageID:this.props.messageID,sizeType:z,tipSource:this.props.tipSource})};f.exports=y}),null);
__d("VideoAdsShortContentNux.react",["React","AdsVideoViewsShortContentMegaphoneNux.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").Component;h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(l){i.constructor.call(this,l)}k.prototype.shouldComponentUpdate=function(){return false};k.prototype.render=function(){return c("React").createElement(c("AdsVideoViewsShortContentMegaphoneNux.react"),{adAccountID:this.props.adAccountID,channelName:this.props.channelName,className:this.props.className,contentType:this.props.contentType,messageID:this.props.nuxName,tipSource:this.props.tipSource})};f.exports=k}),null);
__d("adsGetArrayFromLoadObjectWithDefault",[],(function a(b,c,d,e,f,g){"use strict";var h=[];function i(j){var k=arguments.length<=1||arguments[1]===undefined?h:arguments[1];return j.hasValue()?j.getValueEnforcing():k}f.exports=i}),null);
__d("AdsVideoPicker.react",["cx","errorCode","fbt","invariant","AdsApplicationUtils","AdsEditInlinePostWarning.react","AdsEditorMPAConstants","AdsError","AdsErrorUtils","AdsMediaPanelFilters","AdsTestIDs","AdsVideoActions","AdsVideoCloseVideoPickerDataAction","AdsVideoErrorNoticeUtils","AdsVideoImportPanel.react","AdsVideoImportSourceTypes","AdsVideoPanel.react","AdsVideoPickerHideSources","AdsVideoPickerUtils","AdsVideoSelectionHeader.react","AdsVideoSelectionHeaderTabTypes","AdsVideoShortContentConstant","AdsVideoShortContentTipContentEnum","AdsVideoShortContentTipSourceEnum","AdsVideoUploadPanel.react","AdsVideoUploadUtil","BootloadedComponent.react","BUIAdoptionDialogButton.react","BUIAdoptionDialogOkayButton.react","immutable","JSResource","LoadObject","React","SUIBusinessTheme","SUIModal.react","SUIModalFooter.react","SUINotice.react","SUISpinner.react","VideoAdsShortContentNux.react","adsGetArrayFromLoadObjectWithDefault","emptyFunction","gkx"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=c("React").PropTypes,o="AYMTAdsInterfacesManagementHomeChannel",p=788,q=new Map(),r="video_ads_video_views_short_content_tip_for_qc";l=babelHelpers.inherits(s,c("React").Component);m=l&&l.prototype;function s(){__p&&__p();var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=m.constructor).call.apply(t,[this].concat(w)),this.state={dialogShown:this.props.shouldOpenPicker||this.props.showSelectVideoDialog,filterSet:null,importVideoTitle:null,importVideoURL:null,importVideoSource:null,selectedTab:this.props.selectedTab,selectedVideoIDs:this.props.selectedVideoIDs},this.$AdsVideoPicker17=function(y){var z=this.state.selectedVideoIDs;if(z.includes(y))this.$AdsVideoPicker24(y);else this.$AdsVideoPicker9(y);if(this.props.onVideoClickedByUser)this.props.onVideoClickedByUser()}.bind(this),this.$AdsVideoPicker21=function(){this.$AdsVideoPicker25(c("AdsVideoPickerHideSources").SELECT_CONFIRM);this.state.selectedVideoIDs.length||k(0);if(this.props.showVideoDialogPanel)this.$AdsVideoPicker26();this.props.onDialogConfirm(this.state.selectedVideoIDs)}.bind(this),this.$AdsVideoPicker15=function(){this.$AdsVideoPicker25(c("AdsVideoPickerHideSources").DIALOG_CANCEL);this.props.onDialogCancel()}.bind(this),this.$AdsVideoPicker1=function(){this.setState({dialogShown:true});this.props.onOpen()}.bind(this),this.$AdsVideoPicker4=function(y){this.$AdsVideoPicker25(y);this.props.onSelectVideoDialogClose&&this.props.onSelectVideoDialogClose()}.bind(this),this.$AdsVideoPicker13=function(y){this.$AdsVideoPicker10();this.setState({selectedVideoIDs:[],selectedTab:y});this.props.onTabSwitch(y)}.bind(this),this.$AdsVideoPicker18=function(y){this.setState({importVideoTitle:y})}.bind(this),this.$AdsVideoPicker19=function(y){this.setState({importVideoURL:y})}.bind(this),this.$AdsVideoPicker23=function(){if(this.props.onImportConfirm){this.state.importVideoTitle!=null&&this.state.importVideoURL!=null||k(0);this.props.onImportConfirm(this.state.importVideoTitle,this.state.importVideoURL)}}.bind(this),this.$AdsVideoPicker16=function(y){this.setState({filterSet:y})}.bind(this),this.$AdsVideoPicker20=function(y,z,A,B){var C=this.state.selectedVideoIDs;if(C&&C.includes(y)){this.$AdsVideoPicker24(y);this.$AdsVideoPicker10()}else this.setState({selectedVideoIDs:[y],importVideoTitle:z,importVideoURL:A,importVideoSource:B})}.bind(this),this.$AdsVideoPicker22=function(){this.state.importVideoURL&&this.state.importVideoSource===c("AdsVideoImportSourceTypes").INSTAGRAM&&c("AdsVideoActions").startInstagramVideoLibraryImport(this.state.importVideoURL,this.props.adAccountID);this.$AdsVideoPicker23()}.bind(this),u}s.prototype.render=function(){var t=c("React").cloneElement(this.props.children,{onClick:this.$AdsVideoPicker1});return c("React").createElement("span",null,t,c("React").createElement(c("SUIModal.react"),{behaviors:this.props.behaviors,"data-testid":c("AdsTestIDs").VIDEO_LIBRARY,footer:this.$AdsVideoPicker2(),header:this.$AdsVideoPicker3(),isShown:this.state.dialogShown,label:j._("Video Selector"),theme:c("SUIBusinessTheme"),width:p,onHide:this.$AdsVideoPicker4},c("React").createElement("div",{className:"_3mrv"},this.$AdsVideoPicker5(),this.$AdsVideoPicker6()),c("React").createElement(c("AdsEditInlinePostWarning.react"),{className:"_1bd2",message:this.props.adEditWarningMessage}),this.$AdsVideoPicker7()))};s.prototype.UNSAFE_componentWillReceiveProps=function(t){__p&&__p();if(t.recentUploadedVideoID!=null&&t.recentUploadedVideoID!==this.props.recentUploadedVideoID&&t.recentUploadedVideoID!==c("AdsEditorMPAConstants").MPA_PLACEHOLDER_VIDEO_ID)this.setState({selectedVideoIDs:[t.recentUploadedVideoID]});var u=c("adsGetArrayFromLoadObjectWithDefault")(this.props.videoList),v=c("adsGetArrayFromLoadObjectWithDefault")(t.videoList);if(u.length===v.length+1){var w=this.$AdsVideoPicker8(u,v);if(w&&w.id)this.$AdsVideoPicker9(w.id);this.setState({selectedTab:c("AdsVideoSelectionHeaderTabTypes").ACCOUNT});this.$AdsVideoPicker10()}if(!this.props.shouldOpenPicker&&t.shouldOpenPicker)this.$AdsVideoPicker1();if(t.selectedTab!==this.props.selectedTab&&t.selectedTab!==this.state.selectedTab)this.setState({selectedTab:t.selectedTab})};s.prototype.$AdsVideoPicker9=function(t){var u=this.state.selectedVideoIDs;this.setState({selectedVideoIDs:[t].concat(u.slice(0,this.props.maxSelectedVideos-1))})};s.prototype.$AdsVideoPicker5=function(){__p&&__p();var t=void 0,u=void 0,v=void 0,w=this.$AdsVideoPicker11();if(this.props.errorMessage){t=c("AdsVideoErrorNoticeUtils").getErrorMessageContent(this.props.errorMessage);u="error";v=this.props.onDismissError}else if(w){var x=this.props.videoErrors.get(w);if(x){var y=x.find(function(z){return z.key===1815646});if(y){t=c("AdsErrorUtils").getMessages([y]);u="information"}}}if(!t)return null;return c("React").createElement("div",{className:"_3mru"},c("React").createElement(c("SUINotice.react"),{theme:c("SUIBusinessTheme"),type:u,onClose:v},t))};s.prototype.$AdsVideoPicker12=function(){var t=this.state.filterSet,u=this.props.videoList;if(this.props.filters==null||t==null)return u;return u.map(function(v){return c("AdsMediaPanelFilters").applyVideoFilters(v,t)})};s.prototype.$AdsVideoPicker8=function(t,u){if(t.length>=u.length)return null;return u.find(function(v){return!t.find(function(w){return w.id==v.id})})};s.prototype.$AdsVideoPicker3=function(){if(this.props.hasRemoteUpload)return c("React").createElement(c("AdsVideoSelectionHeader.react"),{selectedTab:this.state.selectedTab,showInstagramVideos:this.props.showInstagramVideos,shownTabs:this.props.shownTabs,visible:this.state.dialogShown,onTabSwitch:this.$AdsVideoPicker13});return null};s.prototype.$AdsVideoPicker2=function(){return c("React").createElement(c("SUIModalFooter.react"),{primaryButton:this.$AdsVideoPicker14(),secondaryButton:c("React").createElement(c("BUIAdoptionDialogButton.react"),{label:j._("Cancel"),layerAction:"cancel",onClick:this.$AdsVideoPicker15}),theme:c("SUIBusinessTheme")})};s.prototype.$AdsVideoPicker11=function(){return this.state.selectedVideoIDs[0]};s.prototype.$AdsVideoPicker6=function(){switch(this.state.selectedTab){case c("AdsVideoSelectionHeaderTabTypes").ACCOUNT:case c("AdsVideoSelectionHeaderTabTypes").PAGE:case c("AdsVideoSelectionHeaderTabTypes").LIBRARY:var t=this.props.filters&&c("React").createElement("div",{className:"_5y6m _2wrx"},c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("AdsMediaPanelFilterBar.react").__setRef("AdsVideoPicker.react"),bootloadPlaceholder:c("React").createElement(c("SUISpinner.react"),{theme:c("SUIBusinessTheme")}),filterSet:this.state.filterSet,mediaType:"video",onChange:this.$AdsVideoPicker16}));if(c("gkx")("AT5Rebyyd7tbwJ8nNYSpRNBG6HQIqRIczu5V5fiRCm5YtmuRoXvR3ISnTlYONCKXHriFJ8kX9qf53DgPIMKy1b8MQc7CPfKYcbnFmVnGYkcZMQ")&&this.props.showVideoDialogPanel)return c("React").createElement(c("BootloadedComponent.react"),{accountCapabilities:this.props.accountCapabilities,bootloadLoader:c("JSResource")("AdsVideoDialogPanel.react").__setRef("AdsVideoPicker.react"),bootloadPlaceholder:c("React").createElement(c("SUISpinner.react"),{theme:c("SUIBusinessTheme")}),enableMultipleUpload:this.props.enableMultipleUpload,hasNextPage:this.props.hasNextPage,maxSelectedVideos:this.props.maxSelectedVideos,selectableOnErrors:this.props.selectableOnErrors,selectedVideoIDs:this.state.selectedVideoIDs,showUploader:this.state.selectedTab!==c("AdsVideoSelectionHeaderTabTypes").PAGE,uploadStateMap:this.props.uploadStateMap,videoErrors:this.props.videoErrors,videoList:this.$AdsVideoPicker12(),onEndReached:this.props.onEndReached,onUploadCancel:this.props.onUploadCancel,onVideoClick:this.$AdsVideoPicker17,onVideoFileChange:this.props.onVideoFileChange});return c("React").createElement("div",null,t,c("React").createElement(c("AdsVideoPanel.react"),{accountCapabilities:this.props.accountCapabilities,selectableOnErrors:this.props.selectableOnErrors,selectedVideoIDs:this.state.selectedVideoIDs,showUploader:this.state.selectedTab!==c("AdsVideoSelectionHeaderTabTypes").PAGE,uploadStateMap:this.props.uploadStateMap,videoErrors:this.props.videoErrors,videoList:c("adsGetArrayFromLoadObjectWithDefault")(this.$AdsVideoPicker12()),onUploadCancel:this.props.onUploadCancel,onVideoClick:this.$AdsVideoPicker17,onVideoFileChange:this.props.onVideoFileChange}));case c("AdsVideoSelectionHeaderTabTypes").IMPORT:return c("React").createElement(c("AdsVideoImportPanel.react"),{hasHelpTray:this.props.hasHelpTray,uploadStateMap:this.props.uploadStateMap,videoTitle:this.state.importVideoTitle,videoURL:this.state.importVideoURL,onUploadCancel:this.props.onUploadCancel,onVideoTitleChange:this.$AdsVideoPicker18,onVideoURLChange:this.$AdsVideoPicker19});case c("AdsVideoSelectionHeaderTabTypes").UPLOAD:return c("React").createElement(c("AdsVideoUploadPanel.react"),babelHelpers["extends"]({},this.props,{selectedVideoID:this.$AdsVideoPicker11(),uploadStateMap:this.props.uploadStateMap,videoTitle:this.state.importVideoTitle,onVideoClick:this.$AdsVideoPicker20}));default:return null}};s.prototype.$AdsVideoPicker7=function(){__p&&__p();var t=this.state,u=t.selectedTab,v=t.selectedVideoIDs,w=this.props.videoList,x=c("AdsVideoShortContentConstant").SHORT_CONTENT_VIDEO_LENGTH_LIMIT;if(!c("AdsApplicationUtils").isPowerEditor())return null;if(u!==c("AdsVideoSelectionHeaderTabTypes").ACCOUNT&&u!==c("AdsVideoSelectionHeaderTabTypes").PAGE&&u!==c("AdsVideoSelectionHeaderTabTypes").LIBRARY||!v.length)return null;var y=c("adsGetArrayFromLoadObjectWithDefault")(w).find(function(z){return v.includes(z.id)});if(y&&y.length<=x)return null;if(this.props.adAccountID==null)return null;return c("React").createElement("div",{style:{position:"absolute",display:"block",width:"100%",bottom:"48px"}},c("React").createElement(c("VideoAdsShortContentNux.react"),{adAccountID:this.props.adAccountID,channelName:o,contentType:c("AdsVideoShortContentTipContentEnum").VIDEO_ONLOAD,nuxName:r,tipSource:c("AdsVideoShortContentTipSourceEnum").POWER_EDITOR_VIDEO_LIB_BROWSE}))};s.prototype.$AdsVideoPicker14=function(){var t=this.state.selectedVideoIDs.every(function(u){var v=this.props.videoErrors.get(u);return!v||v.every(function(w){return w.level!==c("AdsError").Level.WARN})}.bind(this));switch(this.state.selectedTab){case c("AdsVideoSelectionHeaderTabTypes").ACCOUNT:case c("AdsVideoSelectionHeaderTabTypes").PAGE:case c("AdsVideoSelectionHeaderTabTypes").LIBRARY:return c("React").createElement(c("BUIAdoptionDialogButton.react"),{"data-testid":c("AdsTestIDs").VIDEO_SELECT_BUTTON,disabled:!t||!this.state.selectedVideoIDs.length||this.$AdsVideoPicker11()===c("AdsEditorMPAConstants").MPA_PLACEHOLDER_VIDEO_ID,label:j._("Select"),layerAction:"confirm",use:"confirm",onClick:this.$AdsVideoPicker21});case c("AdsVideoSelectionHeaderTabTypes").UPLOAD:return c("React").createElement(c("BUIAdoptionDialogButton.react"),{"data-testid":c("AdsTestIDs").VIDEO_SELECT_BUTTON,disabled:!this.state.importVideoTitle||!this.state.importVideoURL||c("AdsVideoUploadUtil").atLeastOneVideoUploading(this.props.uploadStateMap),label:j._("Import"),layerAction:"confirm",use:"confirm",onClick:this.$AdsVideoPicker22});default:return c("React").createElement(c("BUIAdoptionDialogOkayButton.react"),{"data-testid":c("AdsTestIDs").VIDEO_SELECT_BUTTON,disabled:!this.state.importVideoTitle||!this.state.importVideoURL||c("AdsVideoUploadUtil").atLeastOneVideoUploading(this.props.uploadStateMap),label:j._("Ok"),layerAction:"button",use:"confirm",onClick:this.$AdsVideoPicker23})}};s.prototype.$AdsVideoPicker25=function(t){this.setState({dialogShown:false,selectedTab:c("AdsVideoSelectionHeaderTabTypes").ACCOUNT,selectedVideoIDs:[]});if(this.props.showVideoDialogPanel)this.$AdsVideoPicker26();this.$AdsVideoPicker10();this.props.onClose();c("AdsVideoCloseVideoPickerDataAction").dispatch({hideSource:t})};s.prototype.$AdsVideoPicker24=function(t){this.setState({selectedVideoIDs:this.state.selectedVideoIDs.filter(function(u){return u!==t})})};s.prototype.$AdsVideoPicker10=function(){this.setState({importVideoTitle:null,importVideoURL:null})};s.prototype.$AdsVideoPicker26=function(){c("AdsVideoActions").filter(null)};s.propTypes={accountCapabilities:n.array,adAccountID:n.string,adEditWarningMessage:n.node,behaviors:n.object.isRequired,children:n.element.isRequired,enableMultipleUpload:n.bool,errorMessage:n.oneOfType([n.string,n.object]),filters:n.object,hasHelpTray:n.bool.isRequired,hasNextPage:n.bool,hasRemoteUpload:n.bool.isRequired,instagramAccount:n.object,instagramVideos:n.array,selectableOnErrors:n.bool,selectedTab:n.oneOf(Object.keys(c("AdsVideoSelectionHeaderTabTypes"))),selectedVideoIDs:n.array.isRequired,showInstagramVideos:n.bool,shownTabs:n.instanceOf(Set).isRequired,showSelectVideoDialog:n.bool.isRequired,showVideoDialogPanel:n.bool,uploadStateMap:n.instanceOf(c("immutable").Map),videoErrors:n.instanceOf(Map).isRequired,videoList:n.object.isRequired,onClose:n.func.isRequired,onDialogCancel:n.func.isRequired,onDialogConfirm:n.func.isRequired,onDismissError:n.func,onEndReached:n.func,onImportConfirm:n.func,onOpen:n.func.isRequired,onSelectVideoDialogClose:n.func,onTabSwitch:n.func.isRequired,onUploadCancel:n.func.isRequired,onVideoClickedByUser:n.func,onVideoFileChange:n.func.isRequired};s.defaultProps={adEditWarningMessage:null,behaviors:{LayerHideOnBlur:null},enableMultipleUpload:false,hasHelpTray:false,hasRemoteUpload:true,maxSelectedVideos:1,selectedTab:c("AdsVideoSelectionHeaderTabTypes").LIBRARY,selectedVideoIDs:[],shouldOpenPicker:false,showInstagramVideos:false,shownTabs:c("AdsVideoPickerUtils").TABS_WITH_LIBRARY,showSelectVideoDialog:false,videoErrors:q,videoList:c("LoadObject").withValue([]),onClose:c("emptyFunction"),onDialogCancel:c("emptyFunction"),onOpen:c("emptyFunction"),onTabSwitch:c("emptyFunction"),onUploadCancel:c("emptyFunction"),onVideoFileChange:c("emptyFunction")};f.exports=s}),null);
__d("AdsCFAdgroupSetChildVideoIDActionDataReducerPlugin",["AdsCFAdgroupDataReducerUtils","AdsUEditorAdgroupSetChildVideoIDActionHandler"],(function a(b,c,d,e,f,g){"use strict";var h={reduce:c("AdsCFAdgroupDataReducerUtils").wrapActionHandler(c("AdsUEditorAdgroupSetChildVideoIDActionHandler"))};f.exports=h}),null);
__d("AdsCFAdgroupSetChildVideoIDActionDataReducer",["AdsCFAdgroupDataProvider","AdsCFAdgroupSetChildVideoIDActionDataReducerPlugin","AdsDataReducer"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataReducer").create(c("AdsCFAdgroupDataProvider"),{},c("AdsCFAdgroupSetChildVideoIDActionDataReducerPlugin").reduce);f.exports=h}),null);
__d("AdsUEditorAdgroupSetChildVideoIDDataAction",["AdsCFAdgroupSetChildVideoIDActionDataReducer","AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([c("AdsCFAdgroupSetChildVideoIDActionDataReducer")],"ADS_ADGROUP_EDITOR_SET_CHILD_VIDEO_ID");f.exports=h}),null);
__d("AdsCFAdgroupSetVideoIDActionDataReducerPlugin",["AdsCFAdgroupDataReducerUtils","AdsUEditorAdgroupSetVideoIDActionHandler"],(function a(b,c,d,e,f,g){"use strict";var h={reduce:c("AdsCFAdgroupDataReducerUtils").wrapActionHandler(c("AdsUEditorAdgroupSetVideoIDActionHandler"))};f.exports=h}),null);
__d("AdsCFAdgroupSetVideoIDActionDataReducer",["AdsCFAdgroupDataProvider","AdsCFAdgroupSetVideoIDActionDataReducerPlugin","AdsDataReducer"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataReducer").create(c("AdsCFAdgroupDataProvider"),{},c("AdsCFAdgroupSetVideoIDActionDataReducerPlugin").reduce);f.exports=h}),null);
__d("AdsUEditorAdgroupSetVideoIDDataAction",["AdsCFAdgroupSetVideoIDActionDataReducer","AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([c("AdsCFAdgroupSetVideoIDActionDataReducer")],"ADS_ADGROUP_EDITOR_SET_VIDEO_ID");f.exports=h}),null);
__d("AdsVideoBackgroundUploadUtils",["AdsUEditorHostIDs"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(k,l){if(!l)return true;return k.some(function(m){return l&&l.includes(m)})}function i(k,l){return k.hostID!==c("AdsUEditorHostIDs").CREATION&&!(l&&!l.isLoading()&&l.getValueEnforcing())}function j(k,l,m){var n=l||{},o=n.videoUploadingAdgroupIDs,p=n.videoUploadingTabID,q=h(k,o),r=p==null||m===p;return!!l&&q&&r}f.exports={areCurrentAdLevelsUploadingVideoNow:h,currentlyBackgroundUploadingForAdgroupsAndSelectedProductTab:j,isBackgroundUploadSupported:i}}),null);
__d("AdsPlacementAssetValidationUtils",["AdImageSpecsUtils","AdImageSpecsUtilsV2","AdsAccountCapabilities","AdsAccountUtils","AdsAPIAdCampaignFields","AdsAPIAudienceNetworkPosition","AdsAPIFacebookPosition","AdsAPIInstagramPosition","AdsAPIPublisherPlatform","AdsAssetCustomizationEligibility","AdsError","AdsImageValidation","AdsPageTypes","AdsPlacementAPISpecReaderUtils","AdsPlacementAssetCustomizationTypes","AdsPlacementAssetUtils","AdsPlacementPlugins","AdsPlacementsFacebookInstreamVideosGroupPlugin","AdsPlacementsFacebookPlatformPlugin","AdsPlacementsMessengerPlatformPlugin","AdsVideoBuyingStoreUtils","AdsVideoSpecsUtils","AdsVideoValidation","immutable","adsContainsAssetCustomizationPlacement"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("AdsPlacementAssetCustomizationTypes").AdsPlacementAssetGroups,i=new Map(),j={validateImagesForPlacementSpec:function k(l,m,n,o){var p=c("AdImageSpecsUtilsV2").getImageSpecsForAssetCustomizationPlacement(m,n,o);l.forEach(function(q){var r=j.filterInstagramSpecsBasedOnCrop(q.imageCrops,m,p);r.forEach(function(s){c("AdsImageValidation").validateNow(q.image,s,q.imageCrops)})});return l},getPlacementsCompatibleWithImage:function k(l,m,n,o){var p=j.getPlacementsIncompatibleWithImages([l],m,n,o),q=[];m.forEach(function(r){if(!c("adsContainsAssetCustomizationPlacement")(p,r))q.push(r)});return c("immutable").List(q)},getPlacementsIncompatibleWithImages:function k(l,m,n,o){__p&&__p();l=j.validateImagesForPlacementSpec(l,m,n,o);var p=c("AdsPlacementAPISpecReaderUtils").getPageTypesFromAssetCustomizationPlacement(m,n),q=[];l.map(function(t){var u=t.image.validationMap;p.forEach(function(v){if(u[v]&&!u[v].errorMessage&&!q.includes(v))q.push(v)})});var r=p.filter(function(t){return!q.includes(t)}),s=c("immutable").List();r.forEach(function(t){var u=j.getAssetCustomizationPlacementFromPageTypes(t);if(u&&!c("adsContainsAssetCustomizationPlacement")(s,u))s=s.push(u)});return s},getPlacementsIncompatibleWithVideos:function k(l,m,n,o){__p&&__p();var p=c("AdsVideoSpecsUtils").getVideoSpecsForAssetCustomizationPlacementObjective(m,o),q=[];l.forEach(function(s){__p&&__p();var t={};p.forEach(function(u){t[u.placement]=c("AdsVideoValidation").validateVideoForSpec(s,u)});m.forEach(function(u){var v=!t[u.position]||t[u.position].length===0,w=!t[u.platform]||t[u.platform].length===0;if(!v&&u.platform===c("AdsAPIPublisherPlatform").AUDIENCE_NETWORK)v=true;if(!w&&u.position!==c("AdsAPIAudienceNetworkPosition").INSTREAM_VIDEO)w=true;if(v&&w)q.push(u)})});var r=m.filter(function(s){return!c("adsContainsAssetCustomizationPlacement")(q,s)});return r},getPlacementsCompatibleWithVideo:function k(l,m,n){__p&&__p();var o=j.getVideoErrorsByPlacement(l,m,n),p=[];m.forEach(function(q){var r=!o[q.position]||o[q.position].length===0,s=!o[q.platform]||o[q.platform].length===0;if(!r&&q.platform===c("AdsAPIPublisherPlatform").AUDIENCE_NETWORK)r=true;if(!s&&q.position!==c("AdsAPIAudienceNetworkPosition").INSTREAM_VIDEO)s=true;if(r&&s)p.push(q)});return c("immutable").List(p)},getVideoListErrors:function k(l,m,n){var o=new Map();l.forEach(function(p){o.set(p.id,j.getVideoErrors(p,m,n))});o.forEach(function(p){return p.forEach(function(q){if(q)q.level=c("AdsError").Level.WARN})});return o},getVideoListErrorsFromAdlabel:function k(l,m,n,o,p,q){__p&&__p();var r=void 0,s=i;if(n){if(l===h.INSTAGRAM)r=c("immutable").List.of({platform:c("AdsAPIPublisherPlatform").INSTAGRAM,position:c("AdsAPIInstagramPosition").STREAM})}else{var t=c("AdsPlacementAssetUtils").coerceAssetCustomizationGroup(l);if(t!=null)r=p.get(t)}if(r!=null)s=j.getVideoListErrors(q,r,o);var u=m.get(c("AdsAPIAdCampaignFields").OPTIMIZATION_GOAL);c("AdsVideoBuyingStoreUtils").addVideoBuyingVideoListErrors(q,s,[u]);return s},getVideoErrors:function k(l,m,n){var o=j.getVideoErrorsByPlacement(l,m,n),p=[];for(var q in o)p=p.concat(o[q]);return p},getVideoErrorsByPlacement:function k(l,m,n){var o=c("AdsVideoSpecsUtils").getVideoSpecsForAssetCustomizationPlacementObjective(m,n),p={};o.forEach(function(q){p[q.placement]=c("AdsVideoValidation").validateVideoForSpec(l,q)});return p},getVideoSpecByPlacement:function k(l,m){var n=c("AdsVideoSpecsUtils").getVideoSpecsForAssetCustomizationPlacementObjective(l,m);return n.length===1?n[0]:null},getAssetCustomizationPlacementFromPageTypes:function k(l){switch(l){case c("AdsPageTypes").DESKTOP_FEED:case c("AdsPageTypes").MOBILE_FEED:return{platform:c("AdsAPIPublisherPlatform").FACEBOOK,position:c("AdsAPIFacebookPosition").FEED};case c("AdsPageTypes").RIGHT_COLUMN:return{platform:c("AdsAPIPublisherPlatform").FACEBOOK,position:c("AdsAPIFacebookPosition").RHC};case c("AdsPageTypes").INSTAGRAM_STREAM:return{platform:c("AdsAPIPublisherPlatform").INSTAGRAM,position:c("AdsAPIInstagramPosition").STREAM};case c("AdsPageTypes").INSTAGRAM_STORY:return{platform:c("AdsAPIPublisherPlatform").INSTAGRAM,position:c("AdsAPIInstagramPosition").STORY};case c("AdsPageTypes").MOBILE_EXTERNAL:return{platform:c("AdsAPIPublisherPlatform").AUDIENCE_NETWORK,position:c("AdsAPIAudienceNetworkPosition").CLASSIC};default:return null}},filterInstagramSpecsBasedOnCrop:function k(l,m,n){var o=void 0;if(m.toArray().some(function(p){return p.platform===c("AdsAPIPublisherPlatform").INSTAGRAM}))o=c("AdImageSpecsUtils").getSelectedInstagramImageSpec(l);if(o)n=n.filter(function(p){return p.placement!==c("AdsPageTypes").INSTAGRAM_STREAM&&p.placement!==c("AdsPageTypes").INSTAGRAM_STORY||o&&p.cropKey===o.cropKey});return n},shouldShowL2RemovingCustomizationDialog:function k(l,m,n,o,p,q){__p&&__p();if(!l||m)return false;if(q)return true;if(p){var r=j.getPositionFromGroup(p);switch(o){case c("AdsAPIPublisherPlatform").FACEBOOK:if(p===c("AdsPlacementsFacebookInstreamVideosGroupPlugin").key&&!c("AdsAccountUtils").hasCapabilityFromList(n.capabilities,c("AdsAccountCapabilities").CAN_USE_PAC_PHASE2_FB_INSTREAM))return true;return!c("AdsAssetCustomizationEligibility").FACEBOOK_POSITIONS.includes(String(r));case c("AdsAPIPublisherPlatform").INSTAGRAM:return!c("AdsAssetCustomizationEligibility").INSTAGRAM_POSITIONS.includes(String(r));case c("AdsAPIPublisherPlatform").AUDIENCE_NETWORK:return!c("AdsAssetCustomizationEligibility").AUDIENCE_NETWORK_POSITIONS.includes(String(r));case c("AdsAPIPublisherPlatform").MESSENGER:return true;default:return false}}else if(o===c("AdsPlacementsFacebookPlatformPlugin").key||o==c("AdsPlacementsMessengerPlatformPlugin").key)return true;return false},getPositionFromGroup:function k(l){var m=c("AdsPlacementPlugins").getAllGroups().filter(function(n){var o=n.key;return o===l}).flatMap(function(n){var m=n.positions;return m}).map(function(n){var o=n.apiPosition;return o}).filter(function(n){return!!n}).toArray();return m.length===0?null:m[0]}};f.exports=j}),null);
__d("AdsVideoErrorUtils",["AdsError","AdsPlacementAssetValidationUtils","AdsUniformValue","AdsVideoBuyingStoreUtils","AdsVideoValidation","immutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={getVideoListErrors:function i(j,k,l,m,n,o){__p&&__p();var p=new Map();n.map(function(q){return c("AdsVideoValidation").getValidationMapByPlacementV2ForVideoList(o,q,m instanceof c("AdsUniformValue")?m.getValue():undefined,j?j.getValues():undefined,l)}).forEach(function(q){q.forEach(function(r,s){var t=p.get(s)||[];r.forEach(function(u){if(!t.some(function(v){return v.key===u.key}))t.push(u)});p.set(s,t)})});h._updateOptimizedVideoError(k,o,p);return p},getSingleVideoErrors:function i(j,k,l,m,n,o){var p=[];o.forEach(function(r){return p=p.concat(c("AdsVideoValidation").validateVideoForPlacementV2AndObjective(k,r,n instanceof c("AdsUniformValue")?n.getValue():undefined,l?l.getValues():undefined,j))});var q=c("AdsVideoBuyingStoreUtils").getVideoBuyingVideoErrors(k,m.getValues());return p.concat(q)},getNewlyUploadedVideoWarnErrors:function i(j,k,l,m,n,o,p){var q=o?c("AdsPlacementAssetValidationUtils").getVideoErrors(k,o,n instanceof c("AdsUniformValue")?n.getValue():undefined):h.getSingleVideoErrors(j,k,l,m,n,p),r=q.filter(function(s){return s.level===c("AdsError").Level.WARN});return r},_updateOptimizedVideoError:function i(j,k,l){c("AdsVideoBuyingStoreUtils").addVideoBuyingVideoListErrors(k,l,j.getValues())}};f.exports=h}),null);
__d("AdsVideoToastCardsUploadProgressDataReducerPlugin",["AdsVideoUploadStatus","AdsVideoUploadToastCardUtils"],(function a(b,c,d,e,f,g){"use strict";var h={reduce:function i(j,k){return c("AdsVideoUploadToastCardUtils").updateToastCard(j,c("AdsVideoUploadToastCardUtils").TOAST_CARD_TYPE.PROGRESS,k.title,null,k.videoBackgroundUpload,k.progress,c("AdsVideoUploadStatus").UPLOADING)}};f.exports=h}),null);
__d("AdsVideoToastCardsUploadProgressDataReducer",["AdsDataReducer","AdsToastCardDataProvider","AdsVideoToastCardsUploadProgressDataReducerPlugin"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataReducer").create(c("AdsToastCardDataProvider"),{},c("AdsVideoToastCardsUploadProgressDataReducerPlugin").reduce);f.exports=h}),null);
__d("AdsVideoUploadProgressDataAction",["AdsDataAction","AdsVideoToastCardsUploadProgressDataReducer"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([c("AdsVideoToastCardsUploadProgressDataReducer")],"VIDEO.UPLOAD_PROGRESS");f.exports=h}),null);
__d("AdsVideoToastCardsUploadSuccessDataReducerPlugin",["AdsVideoUploadStatus","AdsVideoUploadToastCardUtils"],(function a(b,c,d,e,f,g){"use strict";var h={reduce:function i(j,k){return c("AdsVideoUploadToastCardUtils").updateToastCard(j,c("AdsVideoUploadToastCardUtils").TOAST_CARD_TYPE.PROGRESS,k.title,null,k.videoBackgroundUpload,null,c("AdsVideoUploadStatus").ENCODING)}};f.exports=h}),null);
__d("AdsVideoToastCardsUploadSuccessDataReducer",["AdsDataReducer","AdsToastCardDataProvider","AdsVideoToastCardsUploadSuccessDataReducerPlugin"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataReducer").create(c("AdsToastCardDataProvider"),{},c("AdsVideoToastCardsUploadSuccessDataReducerPlugin").reduce);f.exports=h}),null);
__d("AdsVideoUploadSuccessDataAction",["AdsDataAction","AdsVideoToastCardsUploadSuccessDataReducer"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([c("AdsVideoToastCardsUploadSuccessDataReducer")],"VIDEO.UPLOAD_SUCCESS");f.exports=h}),null);
__d("AdsVideoUploadStore",["invariant","AdsDataAtom","AdsDraftDraftDeleteBatchDataAction","AdsDraftDraftPublishDataAction","AdsUEditorAdgroupSetChildVideoIDDataAction","AdsUEditorAdgroupSetVideoIDDataAction","AdsVideoBackgroundUploadUtils","AdsVideoEncodingSuccessDataAction","AdsVideoErrorUtils","AdsVideoItemClickedDataAction","AdsVideoUploadCancelDataAction","AdsVideoUploadConsts","AdsVideoUploadErrorDataAction","AdsVideoUploadFinishDataAction","AdsVideoUploadProgressDataAction","AdsVideoUploadStartDataAction","AdsVideoUploadStatus","AdsVideoUploadStoreState","AdsVideoUploadSuccessDataAction","AdsVideoUploadUtil","Bootloader","FluxMapStore","immutable","VideoUploadFile","idx","ifRequired","requireWeak"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;function k(m){__p&&__p();for(var n=m,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q,s=r[0],t=r[1];t.__internalUploader&&t.__internalUploader.abort()}return m.clear()}i=babelHelpers.inherits(l,c("FluxMapStore"));j=i&&i.prototype;l.prototype.getInitialState=function(){return c("immutable").Map()};l.prototype.reduce=function(m,n){__p&&__p();var o=n.action,p=o.uploaderKey;if(!p)p=o.type===c("AdsVideoUploadStartDataAction").actionType?c("AdsVideoUploadUtil").generateUploaderKey(m.size):c("AdsVideoUploadConsts").DEFAULT_UPLOADER_KEY;var q=m.get(p);if(!q){q=new(c("AdsVideoUploadStoreState"))();m=m.set(p,q)}switch(o.type){case c("AdsUEditorAdgroupSetVideoIDDataAction").actionType:case c("AdsUEditorAdgroupSetChildVideoIDDataAction").actionType:var r=q.videoBackgroundUploadInfo||{},s=r.videoUploadingAdgroupIDs,t=r.videoUploadingTabID;if(o.ids&&c("AdsVideoBackgroundUploadUtils").areCurrentAdLevelsUploadingVideoNow(o.ids,s)&&(!o.index||o.index===t))return m.set(p,q.withMutations(function(q){q.set("errorMessage",null).set("newlyUploadedVideoErrors",null)}));return m;case c("AdsVideoUploadStartDataAction").actionType:c("ifRequired")("AdsVideoUploaderWrapper",function(C){q=this.$AdsVideoUploadStore1(q,o,p)}.bind(this),function(){q=this.$AdsVideoUploadStore2(q,o,p)}.bind(this));return m.set(p,q);case c("AdsVideoEncodingSuccessDataAction").actionType:var u=void 0;if(q.videoBackgroundUploadInfo){var v=q.videoBackgroundUploadInfo,w=v.bulkBuyingType,x=v.bulkOptimizationGoal,y=v.objective,z=v.placementSpecs,A=v.isMPA,B=q.videoUploadPACInfo&&q.videoUploadPACInfo.placementList;u=c("AdsVideoErrorUtils").getNewlyUploadedVideoWarnErrors(A,o.video,w,x,y,B,z)}return m.set(p,q.withMutations(function(q){q.set("errorMessage",null).set("newlyUploadedVideoErrors",u).set("videoBackgroundUploadInfo",null).set("videoUploadPACInfo",null).merge({encodingTime:q.__internalUploader&&q.__internalUploader.getEncodingTime(),recentUploadedVideoID_DO_NOT_USE:o.video.id,status:c("AdsVideoUploadStatus").NONE})}));case c("AdsVideoItemClickedDataAction").actionType:return m.set(p,q.merge({recentUploadedVideoID_DO_NOT_USE:null}));case c("AdsVideoUploadErrorDataAction").actionType:return m.set(p,q.withMutations(function(q){q.set("errorMessage",o.errorMessage).set("newlyUploadedVideoErrors",null).set("status",c("AdsVideoUploadStatus").ERROR).set("uploadTime",q.__internalUploader&&q.__internalUploader.getUploadTime()).set("videoBackgroundUploadInfo",null).set("videoUploadPACInfo",null)}));case c("AdsVideoUploadProgressDataAction").actionType:return m.set(p,q.merge({progress:o.progress}));case c("AdsVideoUploadSuccessDataAction").actionType:if(q.__internalUploader)q=q.merge({progress:1,status:c("AdsVideoUploadStatus").ENCODING,uploadTime:q.__internalUploader.getUploadTime()});return m.set(p,q);case c("AdsVideoUploadCancelDataAction").actionType:if(o.uploaderKey){q.__internalUploader&&q.__internalUploader.abort();return m["delete"](o.uploaderKey)}else return k(m);case c("AdsDraftDraftPublishDataAction").actionType:case c("AdsDraftDraftDeleteBatchDataAction").actionType:return k(m);case c("AdsVideoUploadFinishDataAction").actionType:return m.clear();default:return m}};l.prototype.$AdsVideoUploadStore1=function(m,n,o){__p&&__p();var p,q,r=void 0;c("requireWeak")("AdsVideoUploaderWrapper",function(v){return r=v});r||h(0);var s=(p=n)!=null?(p=p.context)!=null?p.videoBackgroundUploadInfo:p:p,t=(q=n)!=null?(q=q.context)!=null?q.videoUploadPACInfo:q:q,u=new r(o,s,t);m=m.merge({__internalUploader:u});m.status==c("AdsVideoUploadStatus").NONE||m.status==c("AdsVideoUploadStatus").BOOTLOADING||m.status==c("AdsVideoUploadStatus").ERROR||h(0);if(n.file)u.upload(c("VideoUploadFile").fromFile(n.file),n.accountID);else if(n.instagramStoryID)u.uploadInstagramVideo(n.instagramStoryID,n.title,n.accountID);else{n.url!=null||h(0);u.remoteUpload(n.url,n.title,n.accountID)}return m.withMutations(function(m){m.set("videoBackgroundUploadInfo",s).set("videoUploadPACInfo",t).merge({status:c("AdsVideoUploadStatus").UPLOADING,title:u.getVideoTitle(),uploaderKey:o})})};l.prototype.$AdsVideoUploadStore2=function(m,n,o){c("Bootloader").loadModules(["AdsVideoUploaderWrapper"],function(){c("AdsDataAtom").addPostDispatchCallback(function(){c("AdsVideoUploadStartDataAction").dispatch(babelHelpers["extends"]({},n,{uploaderKey:o}))})},"AdsVideoUploadStore");return m.set("status",c("AdsVideoUploadStatus").BOOTLOADING)};function l(){i.apply(this,arguments)}f.exports=new l(c("AdsDataAtom"))}),null);
__d("adsLoadableVideoListSelector",["AdsVideoStore","LoadObject","adsCreateStoreSelector"],(function a(b,c,d,e,f,g){"use strict";var h=c("adsCreateStoreSelector")([c("AdsVideoStore")],function(i){var j=i.videoIDs;return j.map(function(k){return Array.from(c("AdsVideoStore").getAll(k).values())})},f.id+".adsLoadableVideoListSelector");f.exports=h}),null);
__d("AdsSlideshowVideoPickerContainer.react",["AdsFluxContainer","AdsSlideshowActions","AdsVideoActions","AdsVideoListStore","AdsVideoPicker.react","AdsVideoPickerUIDataProvider","AdsVideoUploadStore","AdsVideoUploadStoreState","AdsVideoUploadUtil","LoadObject","React","SlideshowMediaUploadContainer.react","adsLoadableVideoListSelector"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("AdsVideoPickerUIDataProvider").toFluxSelector();h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(){__p&&__p();var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$AdsSlideshowVideoPickerContainer2=function(q){c("AdsVideoActions").startUpload(q,this.props.accountID)}.bind(this),this.$AdsSlideshowVideoPickerContainer4=function(q,r){c("AdsVideoActions").startImport(q,r,this.props.accountID)}.bind(this),this.$AdsSlideshowVideoPickerContainer5=function(){c("AdsSlideshowActions").videoPickerClosed();var q=this.state.uploadStateMap.last();if(!q||!q.videoBackgroundUploadInfo)c("AdsVideoActions").cancelUpload()}.bind(this),m}k.getStores=function(){return[].concat(c("adsLoadableVideoListSelector").getStores(),j.getStores(),[c("AdsVideoListStore"),c("AdsVideoUploadStore")])};k.calculateState=function(l,m){var n=j(),o=n.recentUploadedVideoID,p=c("AdsVideoListStore").getLoadObjectForAdAccountAndPage(m.accountID,m.pageID),q=c("adsLoadableVideoListSelector")({videoIDs:p});return{recentUploadedVideoID:o,uploadStateMap:c("AdsVideoUploadStore").getState(),videoList:q}};k.prototype.$AdsSlideshowVideoPickerContainer1=function(){c("AdsSlideshowActions").addVideoClick()};k.prototype.$AdsSlideshowVideoPickerContainer3=function(l){c("AdsSlideshowActions").fetchFrameImages(l[0])};k.prototype.$AdsSlideshowVideoPickerContainer6=function(){return c("React").createElement("div",null,c("React").createElement(c("AdsVideoPicker.react"),{errorMessage:c("AdsVideoUploadUtil").getFirstErrorMessage(this.state.uploadStateMap),recentUploadedVideoID:this.state.recentUploadedVideoID,uploadStateMap:this.state.uploadStateMap,videoList:this.state.videoList,onClose:this.$AdsSlideshowVideoPickerContainer5,onDialogConfirm:this.$AdsSlideshowVideoPickerContainer3,onDismissError:c("AdsVideoActions").cancelUpload,onImportConfirm:this.$AdsSlideshowVideoPickerContainer4,onOpen:c("AdsVideoActions").openSelector,onUploadCancel:c("AdsVideoActions").cancelUpload,onVideoFileChange:this.$AdsSlideshowVideoPickerContainer2},c("SlideshowMediaUploadContainer.react").getVideoUploadButton()))};k.prototype.render=function(){return c("React").createElement("div",babelHelpers["extends"]({},this.props,{role:"button",tabIndex:"0",onClick:this.$AdsSlideshowVideoPickerContainer1}),this.$AdsSlideshowVideoPickerContainer6())};f.exports=c("AdsFluxContainer").create(k,{withProps:true,name:f.id})}),null);
__d("AdsSlideshowVideoUploadView.react",["cx","AdsProgressBox.react","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("AdsProgressBox.react").PROCESSING_ACTION;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){return c("React").createElement(c("AdsProgressBox.react"),{className:"_4y6q",processingAction:k.Encoding,progressValue:100,striped:true})};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("SlideshowFrameImage.react",["Image.react","React","SlideshowImageUtil"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.$SlideshowFrameImage5=function(){__p&&__p();if(this.props.croppingSpec){this.$SlideshowFrameImage3={width:this.props.imageWidth,height:this.props.imageHeight};this.$SlideshowFrameImage4={x:-this.props.croppingSpec.topLeft[0],y:-this.props.croppingSpec.topLeft[1]};this.$SlideshowFrameImage1={width:this.props.croppingSpec.bottomRight[0]+this.$SlideshowFrameImage4.x,height:this.props.croppingSpec.bottomRight[1]+this.$SlideshowFrameImage4.y}}else{this.$SlideshowFrameImage3={width:this.props.imageWidth,height:this.props.imageHeight};this.$SlideshowFrameImage4={x:0,y:0};this.$SlideshowFrameImage1={width:this.props.imageWidth,height:this.props.imageHeight}}if(this.props.fitToMaxHeightAndWidth){var k=this.props.maxWidth/this.$SlideshowFrameImage1.width;this.$SlideshowFrameImage3.width*=k;this.$SlideshowFrameImage4.x*=k;this.$SlideshowFrameImage1.width*=k;var l=this.props.maxHeight/this.$SlideshowFrameImage1.height;this.$SlideshowFrameImage3.height*=l;this.$SlideshowFrameImage4.y*=l;this.$SlideshowFrameImage1.height*=l}else{var m=Math.min(this.props.maxWidth/this.$SlideshowFrameImage1.width,this.props.maxHeight/this.$SlideshowFrameImage1.height);this.$SlideshowFrameImage3.width*=m;this.$SlideshowFrameImage3.height*=m;this.$SlideshowFrameImage4.x*=m;this.$SlideshowFrameImage4.y*=m;this.$SlideshowFrameImage1.width*=m;this.$SlideshowFrameImage1.height*=m}this.$SlideshowFrameImage2={x:(this.props.maxWidth-this.$SlideshowFrameImage1.width)/2,y:(this.props.maxHeight-this.$SlideshowFrameImage1.height)/2}};j.prototype.$SlideshowFrameImage6=function(){var k=this.props.textoverlay,l=c("SlideshowImageUtil").getScaleMultiplier(this.props.maxWidth,this.props.maxHeight);if(!k||!k.textoverlay_content)return null;var m=c("SlideshowImageUtil").calculateTextboxCoordinates(this.props.maxHeight,this.props.maxWidth,k,l),n=k.text_alignment.split("-")[1];return c("React").createElement("div",{style:{backgroundColor:c("SlideshowImageUtil").convertHexToRGBA(k.background_color),color:k.font_color,position:"absolute",fontFamily:k.font,fontSize:c("SlideshowImageUtil").getFontSize(l),fontWeight:c("SlideshowImageUtil").getFontWeight(k.bold),letterSpacing:"0.2px",lineHeight:c("SlideshowImageUtil").getLineHeight(),marginLeft:m.marginLeft,marginTop:m.marginTop,maxHeight:c("SlideshowImageUtil").getTextoverlayMaxEdge(this.props.maxHeight,l),maxWidth:c("SlideshowImageUtil").getTextoverlayMaxEdge(this.props.maxWidth,l),overflow:"hidden",overflowWrap:"break-word",padding:c("SlideshowImageUtil").getTextoverlayPadding(l),textAlign:n,whiteSpace:"pre-wrap"}},k.textoverlay_content)};j.prototype.render=function(){this.$SlideshowFrameImage5();return c("React").createElement("div",{className:this.props.className,style:{position:this.props.positionStyle,width:this.$SlideshowFrameImage1.width,height:this.$SlideshowFrameImage1.height,left:this.$SlideshowFrameImage2.x,top:this.$SlideshowFrameImage2.y,overflow:"hidden"}},c("React").createElement(c("Image.react"),{src:this.props.imageSrc,width:this.$SlideshowFrameImage3.width,height:this.$SlideshowFrameImage3.height,style:{position:"absolute",left:this.$SlideshowFrameImage4.x,top:this.$SlideshowFrameImage4.y}}),this.$SlideshowFrameImage6())};function j(){h.apply(this,arguments)}j.defaultProps={className:null,croppingSpec:null,fitToMaxHeightAndWidth:false,positionStyle:"absolute",textoverlay:null};f.exports=j}),null);
__d("SlideshowFramesPanel.react",["cx","React","SlideshowImageUtil","SlideshowFrameImage.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=3,l=110,m=110;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$SlideshowFramesPanel1=function(t){return c("React").createElement("div",{onClick:function(){return this.$SlideshowFramesPanel2(t)}.bind(this),role:"presentation"},c("React").createElement(c("SlideshowFrameImage.react"),{className:"_qme",croppingSpec:c("SlideshowImageUtil").getFullSizeImageBoxCroppingSpec({width:t.width,height:t.height},{width:m,height:l}),imageSrc:t.uri,imageWidth:t.width,imageHeight:t.height,maxWidth:m,maxHeight:l,positionStyle:"relative"}))}.bind(this),this.$SlideshowFramesPanel2=function(t){this.props.onFrameImageSelected(t)}.bind(this),this.$SlideshowFramesPanel3=function(t){return t.map(function(u,v){return c("React").createElement("div",{className:"_qmf",key:u.id},this.$SlideshowFramesPanel1(u))}.bind(this))}.bind(this),this.$SlideshowFramesPanel4=function(){var t=this.props.frameImages,u=0,v=[];for(u=0;u<t.length;u+=k){var w=t.slice(u,u+k);v.push(c("React").createElement("div",{key:u},this.$SlideshowFramesPanel3(w)))}return v}.bind(this),this.$SlideshowFramesPanel5=function(){return c("React").createElement("div",{className:"_qmk"},this.$SlideshowFramesPanel4())}.bind(this),p}n.prototype.render=function(){return c("React").createElement("div",{className:"_qmm"},this.$SlideshowFramesPanel5())};f.exports=n}),null);
__d("LoadingImageBox.react",["cssVar","CenteredContainer.react","React","SUIBusinessTheme","SUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props,m=l.className,n=l.height,o=l.width;return c("React").createElement(c("CenteredContainer.react"),{className:m,style:{backgroundColor:"#000000",height:n,width:o},vertical:true},c("React").createElement(c("SUISpinner.react"),{background:"dark",size:"large",theme:c("SUIBusinessTheme")}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("SlideshowActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({CHANGE_COLOR_PICKER_TYPE:null,CHANGE_EDIT_OPTION_TYPE:null,CHANGE_PHOTO_CROPS:null,CHANGE_TEXTOVERLAY_ALIGNMENT:null,CHANGE_TEXTOVERLAY_FONT:null,CHANGE_TEXTOVERLAY_FONT_BOLD:null,SELECT_TEXTOVERLAY_COLOR:null,SET_TEXTOVERLAY_CONTENT:null,SHOW_PHOTO_EDIT_DIALOG:null,CLOSE_PHOTO_EDIT_DIALOG:null,TOGGLE_COLOR_PICKER_DIALOG:null,TOGGLE_PHOTO_EDIT_DIALOG:null});f.exports=h}),null);
__d("SlideshowDispatcher",["ExplicitRegistrationDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationDispatcher"));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this)}f.exports=new j({strict:true})}),null);
__d("SlideshowTextoverlayColorPickerConstants",[],(function a(b,c,d,e,f,g){f.exports={Basic:"BASIC",Advanced:"ADVANCED"}}),null);
__d("SlideshowActions",["SlideshowActionTypes","SlideshowDispatcher","SlideshowTextoverlayColorPickerConstants"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={showPhotoEditDialog:function i(j,k,l){c("SlideshowDispatcher").dispatch({isColorPickerDialogShown:false,isPhotoEditDialogShown:true,isTextoverlayFontBold:l.bold,photoCrops:k,photoToEdit:j,textoverlayAlignment:l.text_alignment,textoverlayColor:{background_color:l.background_color,font_color:l.font_color},textoverlayContent:l.textoverlay_content,textoverlayFont:l.font,type:c("SlideshowActionTypes").SHOW_PHOTO_EDIT_DIALOG})},closePhotoEditDialog:function i(){c("SlideshowDispatcher").dispatch({isPhotoEditDialogShown:false,photoToEdit:null,type:c("SlideshowActionTypes").CLOSE_PHOTO_EDIT_DIALOG})},toggleColorPickerDialog:function i(){c("SlideshowDispatcher").dispatch({type:c("SlideshowActionTypes").TOGGLE_COLOR_PICKER_DIALOG})},selectTextoverlayColor:function i(j){c("SlideshowDispatcher").dispatch({textoverlayColor:j,type:c("SlideshowActionTypes").SELECT_TEXTOVERLAY_COLOR})},setTextoverlayContent:function i(j){c("SlideshowDispatcher").dispatch({textoverlayContent:j,type:c("SlideshowActionTypes").SET_TEXTOVERLAY_CONTENT})},changeEditOptionType:function i(j){c("SlideshowDispatcher").dispatch({type:c("SlideshowActionTypes").CHANGE_EDIT_OPTION_TYPE,editOptionType:j})},changePhotoCrops:function i(j){c("SlideshowDispatcher").dispatch({type:c("SlideshowActionTypes").CHANGE_PHOTO_CROPS,photoCrops:j})},changeTextoverlayAlignment:function i(j){c("SlideshowDispatcher").dispatch({textoverlayAlignment:j,type:c("SlideshowActionTypes").CHANGE_TEXTOVERLAY_ALIGNMENT})},changeTextoverlayFont:function i(j){c("SlideshowDispatcher").dispatch({textoverlayFont:j,type:c("SlideshowActionTypes").CHANGE_TEXTOVERLAY_FONT})},changeTextoverlayFontBold:function i(j){c("SlideshowDispatcher").dispatch({isTextoverlayFontBold:j,type:c("SlideshowActionTypes").CHANGE_TEXTOVERLAY_FONT_BOLD})},showBasicColorPicker:function i(){c("SlideshowDispatcher").dispatch({type:c("SlideshowActionTypes").CHANGE_COLOR_PICKER_TYPE,colorPickerType:c("SlideshowTextoverlayColorPickerConstants").Basic})},showAdvancedColorPicker:function i(){c("SlideshowDispatcher").dispatch({type:c("SlideshowActionTypes").CHANGE_COLOR_PICKER_TYPE,colorPickerType:c("SlideshowTextoverlayColorPickerConstants").Advanced})}};f.exports=h}),null);
__d("SlideshowPhotoEditButton.react",["ix","fbt","Image.react","React","Tooltip","XUIButton.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.$SlideshowPhotoEditButton1=function(){this.props.onPhotoEdit(this.props.selectedPhoto,this.props.selectedPhotoCrops,this.props.selectedPhotoTextoverlay)}.bind(this);this.$SlideshowPhotoEditButton1=this.$SlideshowPhotoEditButton1.bind(this)}l.prototype.render=function(){var m=i._("Edit Photo");return c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({image:c("React").createElement(c("Image.react"),{src:h("113738")}),className:this.props.className,onClick:this.$SlideshowPhotoEditButton1},c("Tooltip").propsFor(m),{label:i._("Edit"),size:"small",labelIsHidden:true}))};f.exports=l}),null);
__d("SlideshowDraggableImage.react",["cx","invariant","DraggableTokenMixin.react","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","LoadingImageBox.react","ReactComponentWithPureRenderMixin","React","SlideshowActions","SlideshowFrameImage.react","SlideshowImageUtil","SlideshowPhotoEditButton.react","XUICloseButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=100,k=100,l=c("React").PropTypes,m=c("React").createClass({displayName:"SlideshowDraggableImage",mixins:[c("DraggableTokenMixin.react"),c("ReactComponentWithPureRenderMixin")],propTypes:{className:l.string.isRequired,dragTargetIndex:l.oneOfType([l.oneOf([null]),l.number]),image:l.shape({height:l.number,isLoading:l.bool.isRequired,key:l.string.isRequired,url:l.string,width:l.number}).isRequired,imageTextoverlay:l.oneOfType([l.oneOf([null]),l.shape({background_color:l.string,bold:l.bool.isRequired,font:l.string.isRequired,font_color:l.string.isRequired,text_alignment:l.string.isRequired,textoverlay_content:l.oneOfType([l.oneOf([null]),l.string])})]),imageCrops:l.oneOfType([l.oneOf([null]),l.object]),index:l.number.isRequired,overflow:l.bool.isRequired,showSlideshowImageCroppingEditOption:l.bool.isRequired,showSlideshowPhotoEditButton:l.bool.isRequired,onImageRemove:l.func.isRequired},_onImageRemove:function n(){this.props.onImageRemove(this.props.image)},_getImage:function n(){var o=this.props.image,p="_590x"+(this.props.overflow?" _5b-k":"");if(o.isLoading)return c("React").createElement(c("LoadingImageBox.react"),{className:p,height:j,width:k});else{o.width!=null&&o.height!=null||i(0);return c("React").createElement(c("SlideshowFrameImage.react"),{className:p,croppingSpec:c("SlideshowImageUtil").getCroppingSpec(this.props.imageCrops,{width:k,height:j},o,this.props.showSlideshowImageCroppingEditOption),fitToMaxHeightAndWidth:this.props.showSlideshowImageCroppingEditOption,imageSrc:o.url,imageWidth:o.width,imageHeight:o.height,maxWidth:k,maxHeight:j,positionStyle:"relative",textoverlay:this.props.imageTextoverlay})}},_getPhotoEditButton:function n(){return this.props.showSlideshowPhotoEditButton?c("React").createElement(c("SlideshowPhotoEditButton.react"),{className:"_fah",selectedPhoto:this.props.image,selectedPhotoCrops:this.props.imageCrops,selectedPhotoTextoverlay:this.props.imageTextoverlay,onPhotoEdit:c("SlideshowActions").showPhotoEditDialog}):null},render:function n(){return this.renderDraggableToken(c("React").createElement(c("FBOverlayContainer.react"),null,c("React").createElement(c("FBOverlayBase.react"),null,this._getImage()),c("React").createElement(c("FBOverlayElement.react"),null,c("React").createElement("div",{className:"_5910"+(this.props.dragTargetIndex===this.props.index?" _5911":"")},c("React").createElement(c("XUICloseButton.react"),{className:"_5912",shade:"light",size:"small",onClick:this._onImageRemove}),this._getPhotoEditButton()))))}});f.exports=m}),null);
__d("SlideshowImageUploadsContainer.react",["cx","fbt","invariant","React","Image.react","SlideshowDraggableImage.react","SUIBusinessTheme","SUISimplePopover.react","padNumber"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=1e3,n=60,o=":",p=0,q=1,r=2,s=c("React").PropTypes;k=babelHelpers.inherits(t,c("React").Component);l=k&&k.prototype;function t(){__p&&__p();var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=l.constructor).call.apply(u,[this].concat(x)),this.$SlideshowImageUploadsContainer1=function(){return{draggingIndex:null,dragTargetIndex:null}},this.$SlideshowImageUploadsContainer2=function(z,A){this.setState({draggingIndex:A})}.bind(this),this.$SlideshowImageUploadsContainer3=function(z,A){this.setState(this.$SlideshowImageUploadsContainer1())}.bind(this),this.$SlideshowImageUploadsContainer4=function(z,A,B){if(this.state.draggingIndex!==null&&this.state.dragTargetIndex!==A)this.setState({dragTargetIndex:A})}.bind(this),this.$SlideshowImageUploadsContainer5=function(z,A){if(this.state.draggingIndex!==null&&this.state.draggingIndex!==undefined&&this.state.draggingIndex!==A)this.$SlideshowImageUploadsContainer6(this.state.draggingIndex,A)}.bind(this),this.$SlideshowImageUploadsContainer6=function(z,A){if(A<this.props.selectedImages.length&&A>=0)this.props.onImageReorder(z,A)}.bind(this),this.$SlideshowImageUploadsContainer7=function(z){this.props.onImageRemove(z)}.bind(this),this.$SlideshowImageUploadsContainer8=function(z,A){var B=this.props,C=B.durationWithTransitionInMS,D=B.maxSelectedImages,E=C/m;if(A===D-1)return c("React").createElement("span",null,this.$SlideshowImageUploadsContainer9(A*E),c("React").createElement("span",{className:"_73-"},this.$SlideshowImageUploadsContainer9(D*E)));else if(A===D)return c("React").createElement(c("SUISimplePopover.react"),{content:i._("You can only show{maximum number of images}images in your slideshow. All other images won't get displayed.",[i._param("maximum number of images",D)]),contentWidthUseSparingly:258,position:"left",theme:c("SUIBusinessTheme")});else if(A<D)return c("React").createElement("span",null,this.$SlideshowImageUploadsContainer9(A*E));else return c("React").createElement("span",null,"\xa0")}.bind(this),this.$SlideshowImageUploadsContainer9=function(z){var A=Math.floor(z/n),B=z-A*n;return A+o+c("padNumber")(B,2)},this.$SlideshowImageUploadsContainer10=function(){var z=this.props,A=z.maxSelectedImages,B=z.selectedImages,C=Math.max(B.length,A),D=Array.from(Array(C),function(E,F){if(F<B.length&&F<A)return p;else if(F<B.length&&F>=A)return r;else return q});return c("React").createElement("div",{className:"_73_"},D.map(function(E,F){return c("React").createElement("span",{className:"_2j_u"+(E===p&&F!==0&&F<A?" _741":"")+(E===r&&F>=A?" _4lrv":"")+(E===r&&F===A?" _4lrw":"")+(E===q&&F===0?" _742":"")+(E===q&&F===B.length&&F!==0?" _743":"")+(E===q&&F!==B.length&&F!==0?" _749":""),key:F},this.$SlideshowImageUploadsContainer8(E,F))}.bind(this)))}.bind(this),this.$SlideshowImageUploadsContainer11=function(){if(this.props.selectedImages.length>=this.props.maxSelectedImages)return null;this.props.children!=null&&!Array.isArray(this.props.children)||j(0);return this.props.children}.bind(this),this.$SlideshowImageUploadsContainer12=function(){var z=this.props.maxSelectedImages-1-this.props.selectedImages.length;if(z<=0)return null;var A=[];for(var B=0;B<z;B++)A.push(c("React").createElement("span",{className:"_74a",key:B}));return A}.bind(this),this.$SlideshowImageUploadsContainer13=function(z){var A=this.state,B=A.draggingIndex,C=A.dragTargetIndex;if(B!=null&&C!=null){if(C<z&&z<=B)return z-1;if(B<=z&&z<C)return z+1}return z}.bind(this),this.state=this.$SlideshowImageUploadsContainer1(),v}t.prototype.render=function(){var u="_38i3"+(this.props.selectedImages.length>=this.props.maxSelectedImages?" _1ca2":"");return c("React").createElement("div",{className:"_832"},c("React").createElement("div",{className:"_1ca3"},this.$SlideshowImageUploadsContainer10(),c("React").createElement("div",{className:u},this.props.selectedImages.map(function(v,w){var x=this.$SlideshowImageUploadsContainer13(w),y=this.props.imagesTextoverlays?this.props.imagesTextoverlays[x]:null,z=this.props.imagesCrops?this.props.imagesCrops[x]:null,A=v.key;return c("React").createElement(c("SlideshowDraggableImage.react"),{className:this.state.draggingIndex!=null&&this.state.dragTargetIndex===w?"_44cb":"",draggableImageClass:c("Image.react").baseClassName,dragTargetIndex:this.state.dragTargetIndex,entry:{},image:this.props.selectedImages[x],imageTextoverlay:y,imageCrops:z,index:w,isDragDropEnabled:true,key:A,overflow:w>=this.props.maxSelectedImages,showSlideshowImageCroppingEditOption:this.props.showSlideshowImageCroppingEditOption,showSlideshowPhotoEditButton:this.props.showSlideshowPhotoEditButton,onImageRemove:this.$SlideshowImageUploadsContainer7,onTokenDragEnd:this.$SlideshowImageUploadsContainer3,onTokenDragOver:this.$SlideshowImageUploadsContainer4,onTokenDragStart:this.$SlideshowImageUploadsContainer2,onTokenDrop:this.$SlideshowImageUploadsContainer5})}.bind(this))),this.$SlideshowImageUploadsContainer11(),this.$SlideshowImageUploadsContainer12()))};t.propTypes={durationWithTransitionInMS:s.number.isRequired,imagesCrops:s.array,imagesTextoverlays:s.array,maxSelectedImages:s.number.isRequired,selectedImages:s.arrayOf(s.shape({height:s.number,isLoading:s.bool.isRequired,key:s.string.isRequired,url:s.string,width:s.number})).isRequired,showSlideshowImageCroppingEditOption:s.bool.isRequired,showSlideshowPhotoEditButton:s.bool.isRequired,onImageRemove:s.func.isRequired,onImageReorder:s.func.isRequired};f.exports=t}),null);
__d("SlideshowMusicCategorySelector.react",["cx","React","SlideshowAudioUtil","SlideshowFbtUtils","SlideshowMusicCategory","Tooltip.react","XUICardSection.react","XUIPageNavigation.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("XUIPageNavigation.react").Group,l=c("XUIPageNavigation.react").Item;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.$SlideshowMusicCategorySelector1=function(n){var o=c("SlideshowAudioUtil").getMusicCategoryGlyph(n);if(!o)return null;return c("React").createElement(l,{key:n,ref:n},c("React").createElement(c("Tooltip.react"),{alignH:"center",className:"_3fk8",position:"above",tooltip:c("SlideshowFbtUtils").getMusicCategoryTooltip(n)},o))};m.prototype.$SlideshowMusicCategorySelector2=function(){return c("React").createElement(c("XUICardSection.react"),{className:"_5vx1"},c("React").createElement(c("XUIPageNavigation.react"),{activeTabKey:this.props.selectedMusicCategory,defaultActiveTabKey:c("SlideshowMusicCategory").ALL_TRACKS,onTabClick:this.props.onMusicCategorySelect},c("React").createElement(k,null,Object.values(c("SlideshowMusicCategory")).map(function(n){return this.$SlideshowMusicCategorySelector1(n)}.bind(this)))))};m.prototype.render=function(){return c("React").createElement("div",{className:"_d__"},this.$SlideshowMusicCategorySelector2())};function m(){i.apply(this,arguments)}m.defaultProps={selectedMusicCategory:c("SlideshowMusicCategory").ALL_TRACKS};f.exports=m}),null);
__d("SlideshowMusicTrackUploader.react",["cx","fbt","ix","LayerFadeOnHide","React","ReactFragment","SlideshowDataManager","FileInput.react","Image.react","Link.react","Tooltip.react","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=700;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(o){l.constructor.call(this,o);this.$SlideshowMusicTrackUploader2=function(p){this.setState({showCopyrightDialog:p})}.bind(this);this.$SlideshowMusicTrackUploader5=function(){this.$SlideshowMusicTrackUploader2(false);this.props.onAudioFileUpload();var p=this.refs.audioFileInput.getFileInput();c("SlideshowDataManager").uploadAudioFile(p,this.props.targetID,this.props.onAudioFileUploadSuccess,this.props.onAudioFileUploadError)}.bind(this);this.state={showCopyrightDialog:false}}n.prototype.renderLayers=function(){var o=this.state.showCopyrightDialog?this.$SlideshowMusicTrackUploader1():null;return c("ReactFragment").create({copyrightDialog:o})};n.prototype.$SlideshowMusicTrackUploader1=function(){return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},layerHideOnBlur:false,shown:this.state.showCopyrightDialog,width:m,onToggle:this.$SlideshowMusicTrackUploader2},c("React").createElement(c("XUIDialogTitle.react"),null,i._("Rights to Upload Music")),c("React").createElement(c("XUIDialogBody.react"),{className:"_3mav",useCustomPadding:true},this.$SlideshowMusicTrackUploader3()),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:i._("Cancel")}),this.$SlideshowMusicTrackUploader4()))};n.prototype.$SlideshowMusicTrackUploader4=function(){return c("React").createElement(c("FileInput.react"),{accept:"audio/*",multiple:false,ref:"audioFileInput",onChange:this.$SlideshowMusicTrackUploader5},c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",className:"_3maw",href:{url:"#"},label:i._("Proceed"),use:"confirm"}))};n.prototype.$SlideshowMusicTrackUploader3=function(){return c("React").createElement("div",{className:"_3max"},c("React").createElement("div",{className:"_3may"},c("React").createElement(c("Image.react"),{src:j("99134")})),c("React").createElement("div",{className:"_3ma-"},i._("By uploading music, you confirm that you have the rights to use it with your slideshow and have it played on Facebook. If you're not sure, learn more about {slideshow_upload_audio_help_link}.",[i._param("slideshow_upload_audio_help_link",c("React").createElement(c("Link.react"),{href:"/help/249141925204375",target:"_blank"},i._("music you can use")))])))};n.prototype.$SlideshowMusicTrackUploader6=function(){var o=this.props.selectedStorylineMood?i._("You need to remove the track you've selected before uploading another"):null,p=this.props.selectedStorylineMood||this.props.audioFileUploadInfo.isUploading;return c("React").createElement(c("Tooltip.react"),{alignH:"center",className:"_2fiy",position:"above",tooltip:o},c("React").createElement(c("XUIButton.react"),{className:"_3maw"+(p?" _42fr":""),label:i._("Upload"),ref:"dialogButton",size:"xlarge",onClick:p?c("emptyFunction"):function(){this.setState({showCopyrightDialog:true})}.bind(this)}))};n.prototype.render=function(){return c("React").createElement("div",null,this.$SlideshowMusicTrackUploader6(),this.renderLayers())};f.exports=n}),null);
__d("SlideshowMusicSelectedTrackComponent.react",["cx","fbt","React","ShimButton.react","SlideshowMusicTrackUploader.react","Tooltip.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$SlideshowMusicSelectedTrackComponent4=function(event){event.stopPropagation();this.props.onChangeStorylineMood(null);this.props.onPreviewStateChange(false)}.bind(this),this.$SlideshowMusicSelectedTrackComponent5=function(){if(!this.props.selectedStorylineMood)return;this.props.onPreviewStateChange(!this.props.isPreviewPlaying)}.bind(this),n}l.prototype.$SlideshowMusicSelectedTrackComponent1=function(){return c("React").createElement("div",{className:"_nan"+(!this.props.isPreviewPlaying?" _5yby":"")+(this.props.isPreviewPlaying?" _5ybz":"")})};l.prototype.$SlideshowMusicSelectedTrackComponent2=function(){var m=i._("No music selected");if(this.props.selectedStorylineMood)m=this.props.selectedStorylineMood.fileName;return c("React").createElement("div",{className:"_nao"},m)};l.prototype.$SlideshowMusicSelectedTrackComponent3=function(){if(!this.props.selectedStorylineMood)return null;return c("React").createElement(c("ShimButton.react"),{className:"_59qs",onClick:this.$SlideshowMusicSelectedTrackComponent4})};l.prototype.$SlideshowMusicSelectedTrackComponent6=function(){return c("React").createElement(c("SlideshowMusicTrackUploader.react"),{audioFileUploadInfo:this.props.audioFileUploadInfo,selectedStorylineMood:this.props.selectedStorylineMood,targetID:this.props.targetID,onAudioFileUpload:this.props.onAudioFileUpload,onAudioFileUploadError:this.props.onAudioFileUploadError,onAudioFileUploadSuccess:this.props.onAudioFileUploadSuccess})};l.prototype.$SlideshowMusicSelectedTrackComponent7=function(){return c("React").createElement("div",{className:(!this.props.selectedStorylineMood?"_1sx5":"")+(!!this.props.selectedStorylineMood?" _nar":""),onClick:this.$SlideshowMusicSelectedTrackComponent5,role:"presentation"},this.$SlideshowMusicSelectedTrackComponent1(),this.$SlideshowMusicSelectedTrackComponent2(),this.$SlideshowMusicSelectedTrackComponent3())};l.prototype.$SlideshowMusicSelectedTrackComponent8=function(){return i._("Select a track below or upload your own tracks")};l.prototype.render=function(){if(!this.props.selectedStorylineMood)return c("React").createElement("div",{className:"_naq"},c("React").createElement(c("Tooltip.react"),{alignH:"center",className:"_9ns",position:"above",tooltip:this.$SlideshowMusicSelectedTrackComponent8()},this.$SlideshowMusicSelectedTrackComponent7()),this.$SlideshowMusicSelectedTrackComponent6());return c("React").createElement("div",{className:"_naq"},this.$SlideshowMusicSelectedTrackComponent7(),this.$SlideshowMusicSelectedTrackComponent6())};f.exports=l}),null);
__d("SlideshowMusicTrackSelector.react",["cx","fbt","React","SlideshowAudioUtil","SlideshowMusicCategory","Tooltip.react","XUINotice.react","XUISpinner.react","curry"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=6;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$SlideshowMusicTrackSelector2=function(s){this.props.onPreviewStateChange(false);this.props.onChangeStorylineMood(s)}.bind(this),this.$SlideshowMusicTrackSelector3=function(s,event){event.stopPropagation();this.props.onDeleteStorylineMood(s)}.bind(this),o}m.prototype.$SlideshowMusicTrackSelector1=function(n){if(this.props.selectedMusicCategory===c("SlideshowMusicCategory").ALL_TRACKS||this.props.selectedMusicCategory===c("SlideshowMusicCategory").RECENTLY_USED||n.categories.indexOf(this.props.selectedMusicCategory)!==-1)return true;return false};m.prototype.$SlideshowMusicTrackSelector4=function(){return c("React").createElement("div",{className:"_4o-n",key:"UPLOADING_TRACK_KEY"},c("React").createElement(c("XUISpinner.react"),{className:"_2ruw",size:"small"}),c("React").createElement("div",{className:"_4o-p"},i._("Uploading...")))};m.prototype.$SlideshowMusicTrackSelector5=function(){var n=i._("There was a problem uploading your music. Please make sure it's a supported file format and try again. You can use WAV, MP3, M4A, FLAC or OGG.");return c("React").createElement("div",{className:"_4o-n",key:"ERROR_UPLOADING_TRACK_KEY"},c("React").createElement(c("XUINotice.react"),{className:"_2h_x",use:"warn"},n))};m.prototype.$SlideshowMusicTrackSelector6=function(n){var o=i._("Delete");return c("React").createElement(c("Tooltip.react"),{alignH:"center",className:"_4o-m",position:"above",tooltip:o,onClick:c("curry")(this.$SlideshowMusicTrackSelector3,n)},c("React").createElement("div",null))};m.prototype.$SlideshowMusicTrackSelector7=function(){return Array.from(new Set(this.props.recentlyUsedStorylineMoods)).slice(0,l)};m.prototype.$SlideshowMusicTrackSelector8=function(){__p&&__p();var n=[],o=this.props.selectedMusicCategory===c("SlideshowMusicCategory").USER_UPLOADED,p=this.props.selectedMusicCategory===c("SlideshowMusicCategory").RECENTLY_USED;if(o&&this.props.audioFileUploadInfo.isUploading)n.push(this.$SlideshowMusicTrackSelector4());else if(o&&this.props.audioFileUploadInfo.hasError)n.push(this.$SlideshowMusicTrackSelector5());var q=p?this.$SlideshowMusicTrackSelector7():this.props.storylineMoodFiles;q.sort(function(r,s){if(r.fileName<s.fileName)return-1;else if(r.fileName>s.fileName)return 1;else return 0});q.forEach(function(r){var s=o?this.$SlideshowMusicTrackSelector6(r):null;if(this.$SlideshowMusicTrackSelector1(r)){var t=c("SlideshowAudioUtil").storylineMoodCompare(r,this.props.selectedStorylineMood);n.push(c("React").createElement("div",{className:"_4o-n",key:r.moodID,onClick:c("curry")(this.$SlideshowMusicTrackSelector2,r),role:"presentation"},s,c("React").createElement("div",{className:(!t?"_4o-o":"")+(t?" _4c2n":"")}),c("React").createElement("div",{className:"_4o-p"},r.fileName)))}}.bind(this));return n};m.prototype.render=function(){return c("React").createElement("div",{className:"_4o-x"},this.$SlideshowMusicTrackSelector8())};m.defaultProps={selectedMusicCategory:c("SlideshowMusicCategory").ALL_TRACKS};f.exports=m}),null);
__d("SlideshowMusicPanel.react",["cx","React","SlideshowMusicCategorySelector.react","SlideshowMusicSelectedTrackComponent.react","SlideshowMusicTrackSelector.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.$SlideshowMusicPanel1=function(){return c("React").createElement(c("SlideshowMusicSelectedTrackComponent.react"),{audioFileUploadInfo:this.props.audioFileUploadInfo,isPreviewPlaying:this.props.isPreviewPlaying,selectedStorylineMood:this.props.selectedStorylineMood,targetID:this.props.targetID,onAudioFileUpload:this.props.onAudioFileUpload,onAudioFileUploadError:this.props.onAudioFileUploadError,onAudioFileUploadSuccess:this.props.onAudioFileUploadSuccess,onChangeStorylineMood:this.props.onChangeStorylineMood,onPreviewStateChange:this.props.onPreviewStateChange})};k.prototype.$SlideshowMusicPanel2=function(){return c("React").createElement(c("SlideshowMusicCategorySelector.react"),{selectedMusicCategory:this.props.selectedMusicCategory,onMusicCategorySelect:this.props.onMusicCategorySelect})};k.prototype.$SlideshowMusicPanel3=function(){return c("React").createElement(c("SlideshowMusicTrackSelector.react"),{audioFileUploadInfo:this.props.audioFileUploadInfo,recentlyUsedStorylineMoods:this.props.recentlyUsedStorylineMoods,selectedMusicCategory:this.props.selectedMusicCategory,selectedStorylineMood:this.props.selectedStorylineMood,storylineMoodFiles:this.props.storylineMoodFiles,onChangeStorylineMood:this.props.onChangeStorylineMood,onDeleteStorylineMood:this.props.onDeleteStorylineMood,onPreviewStateChange:this.props.onPreviewStateChange})};k.prototype.render=function(){return c("React").createElement("div",{className:"_3-xf"},this.$SlideshowMusicPanel1(),this.$SlideshowMusicPanel2(),this.$SlideshowMusicPanel3())};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("SlideshowAlignmentBox.react",["cx","React","ShimButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$SlideshowAlignmentBox1=function(){var r=this.props,s=r.horizontalAlignment,t=r.verticalAlignment,u=t+"-"+s;this.props.onValueChange&&this.props.onValueChange(u)}.bind(this),n}l.prototype.render=function(){var m=this.props,n=m.horizontalAlignment,o=m.selectedValue,p=m.verticalAlignment,q=p+"-"+n;return c("React").createElement(c("ShimButton.react"),{className:"_hfg"+(o==q?" _hfh":"")+(p=="bottom"?" _hfi":"")+(p=="top"?" _hfj":"")+(n=="right"?" _hfk":"")+(n=="left"?" _hfl":""),onClick:this.$SlideshowAlignmentBox1})};l.propTypes={onValueChange:k.func.isRequired};f.exports=l}),null);
__d("SlideshowColorBox.react",["cx","React","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l="#ffffff";i=babelHelpers.inherits(m,c("React").PureComponent);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$SlideshowColorBox1=function(){this.props.onClick&&this.props.onClick(this.props.color)}.bind(this),o}m.prototype.render=function(){__p&&__p();var n=this.props,o=n.className,p=n.style,q=babelHelpers.objectWithoutProperties(n,["className","style"]);o=c("joinClasses")("_5266",this.props.className);if(p&&p.backgroundColor===l)o=c("joinClasses")("_2obn",o);else if(p&&!p.backgroundColor){o=c("joinClasses")("_526b",o);if(p.color===l)o=c("joinClasses")("_12k3",o)}return c("React").createElement("div",babelHelpers["extends"]({},q,{className:o,style:p,onClick:this.$SlideshowColorBox1,role:"button",tabIndex:"0"}),"T")};m.propTypes={className:k.string,style:k.object,onClick:k.func};f.exports=m}),null);
__d("SlideshowPhotoCropperWindow.react",["cx","fbt","React","SUIBusinessTheme","SUISimplePopover.react","joinClasses","SlideshowConstants"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("SlideshowConstants").formats;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n)}m.prototype.$SlideshowPhotoCropperWindow1=function(){__p&&__p();if(this.props.isCropping)return null;var n=void 0;switch(this.props.format){case l.Original:n=i._("Original");break;case l.Wide:n=i._("Rectangle(16:9)");break;case l.Square:n=i._("Square(1:1)");break;case l.Vertical:n=i._("Vertical(2:3)");break;default:n=i._("Unknown")}return c("React").createElement("div",{className:"_2d6a"},c("React").createElement(c("SUISimplePopover.react"),{alignment:"center",content:i._("This photo's crop area is based on the aspect ratio of your slideshow. You can change the aspect ratio on the main slideshow editor."),contentWidthUseSparingly:388,position:"above",theme:c("SUIBusinessTheme")}),c("React").createElement("div",{className:"_2d6b"},n))};m.prototype.render=function(){return c("React").createElement("div",{onMouseDown:this.props.onMouseDown,className:c("joinClasses")(this.props.className,"_2d6c"),style:babelHelpers["extends"]({},this.props.style||{},{width:this.props.width,height:this.props.height})},c("React").createElement("div",{className:"_2d6d"}),this.$SlideshowPhotoCropperWindow1())};f.exports=m}),null);
__d("SlideshowPhotoCropSelector.react",["cx","invariant","BackgroundImage.react","Event","SlideshowPhotoCropperWindow.react","React","ReactDOM"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=656,m=425,n=400,o=400,p=function p(s,t,u){return Math.min(Math.max(s,t),u)},q=function q(s){return s*s};j=babelHelpers.inherits(r,c("React").Component);k=j&&j.prototype;function r(s){__p&&__p();k.constructor.call(this,s);this.$SlideshowPhotoCropSelector12=function(t,u){var v=Math.sqrt(q(this.state.screenX-this.$SlideshowPhotoCropSelector5.x)+q(this.state.screenY-this.$SlideshowPhotoCropSelector5.y)),w={x:t/2+this.state.screenX,y:u/2+this.state.screenY},x=Math.sqrt(q(this.$SlideshowPhotoCropSelector5.x-w.x)+q(this.$SlideshowPhotoCropSelector5.y-w.y)),y=p(x/v,this.state.min.scale,this.state.max.scale),z=Math.round(this.state.coordinates.width*y),A=Math.round(this.state.coordinates.height*y),B=this.state.screenX<this.$SlideshowPhotoCropSelector5.x?this.state.coordinates.width-z:0,C=this.state.screenY<this.$SlideshowPhotoCropSelector5.y?this.state.coordinates.height-A:0,D=p(this.state.coordinates.left+B,this.state.min.x,this.state.max.x-z),E=p(this.state.coordinates.top+C,this.state.min.y,this.state.max.y-A);this.$SlideshowPhotoCropSelector20(D,E,z,A)}.bind(this);this.state={coordinates:{},isCropping:false,isResizing:false,min:{},max:{},photoDimensions:{},scale:1,screenX:0,screenY:0};this.$SlideshowPhotoCropSelector1=false;this.$SlideshowPhotoCropSelector2=null;this.$SlideshowPhotoCropSelector3=null;this.$SlideshowPhotoCropSelector5={};this.$SlideshowPhotoCropSelector4=null;this.$SlideshowPhotoCropSelector6=null;this.$SlideshowPhotoCropSelector7=this.$SlideshowPhotoCropSelector7.bind(this);this.$SlideshowPhotoCropSelector8=this.$SlideshowPhotoCropSelector8.bind(this);this.$SlideshowPhotoCropSelector9=this.$SlideshowPhotoCropSelector9.bind(this);this.$SlideshowPhotoCropSelector10=this.$SlideshowPhotoCropSelector10.bind(this);this.$SlideshowPhotoCropSelector11=this.$SlideshowPhotoCropSelector11.bind(this);this.$SlideshowPhotoCropSelector12=this.$SlideshowPhotoCropSelector12.bind(this)}r.prototype.UNSAFE_componentWillMount=function(){this.$SlideshowPhotoCropSelector13(this.props)};r.prototype.UNSAFE_componentWillReceiveProps=function(s){this.$SlideshowPhotoCropSelector13(s)};r.prototype.componentWillUnmount=function(){if(this.$SlideshowPhotoCropSelector2)this.$SlideshowPhotoCropSelector2.remove();if(this.$SlideshowPhotoCropSelector6)this.$SlideshowPhotoCropSelector6.remove()};r.prototype.$SlideshowPhotoCropSelector13=function(s){__p&&__p();var t=s.photoToEdit.width,u=s.photoToEdit.height;t&&u||i(0);var v=Math.min(l/t,m/u),w={height:u,scaledWidth:Math.round(t*v),scaledHeight:Math.round(u*v),width:t},x={scale:1,x:(l-w.scaledWidth)/2,y:(m-w.scaledHeight)/2},y={scale:1,x:x.x+w.scaledWidth,y:x.y+w.scaledHeight},z=s.photoCrops,A=Object.keys(z)[0],B=z[A],C={};C.top=x.y+B[0][1]*v;C.left=x.x+B[0][0]*v;C.bottom=x.y+(u-B[1][1])*v;C.right=x.x+(t-B[1][0])*v;C.width=l-C.right-C.left;C.height=m-C.bottom-C.top;x.scale=Math.min(n*v/C.width,o*v/C.height);y.scale=Math.min(w.scaledWidth/C.width,w.scaledHeight/C.height);this.setState({max:y,min:x,photoDimensions:w,scale:v,coordinates:C})};r.prototype.$SlideshowPhotoCropSelector14=function(){var s=c("React").createElement("td",{className:"_47uq"}),t=c("React").createElement("tr",null,s,s,s);return c("React").createElement("table",{className:"_47ur"},c("React").createElement("tbody",null,t,t,t))};r.prototype.$SlideshowPhotoCropSelector15=function(s){var t=this.state.min.y,u=this.state.min.x,v=Math.floor(s.top-t),w=Math.floor(s.left-u),x=Math.floor(s.right-u),y=Math.floor(s.bottom-t);return v+"px "+x+"px "+y+"px "+w+"px"};r.prototype.$SlideshowPhotoCropSelector16=function(){return c("React").createElement("div",{className:"_47us",ref:"handles"},c("React").createElement("div",{className:"_47ut _47vn",key:"top_left",onMouseDown:this.$SlideshowPhotoCropSelector11}),c("React").createElement("div",{className:"_47ut _47vo",key:"top_right",onMouseDown:this.$SlideshowPhotoCropSelector11}),c("React").createElement("div",{className:"_47ut _47vp",key:"bottom_right",onMouseDown:this.$SlideshowPhotoCropSelector11}),c("React").createElement("div",{className:"_47ut _47vq",key:"bottom_left",onMouseDown:this.$SlideshowPhotoCropSelector11}))};r.prototype.$SlideshowPhotoCropSelector11=function(event){this.$SlideshowPhotoCropSelector17(event,true)};r.prototype.$SlideshowPhotoCropSelector17=function(event,s){__p&&__p();event.preventDefault();this.$SlideshowPhotoCropSelector18();if(!this.$SlideshowPhotoCropSelector1){this.$SlideshowPhotoCropSelector3=this.$SlideshowPhotoCropSelector19(s);var t=c("ReactDOM").findDOMNode(this.refs.handles);t||i(0);var u=t.getBoundingClientRect(),v=u.left,w=u.top,x=u.width,y=u.height;this.$SlideshowPhotoCropSelector5={x:v+x/2,y:w+y/2};this.$SlideshowPhotoCropSelector2=c("Event").listen(window,"mousemove",this.$SlideshowPhotoCropSelector8);this.$SlideshowPhotoCropSelector6=c("Event").listen(window,"mouseup",this.$SlideshowPhotoCropSelector7);this.setState({isCropping:true,isResizing:s,screenX:event.pageX,screenY:event.pageY});this.$SlideshowPhotoCropSelector1=true;this.$SlideshowPhotoCropSelector20(this.state.coordinates.left,this.state.coordinates.top,this.state.coordinates.width,this.state.coordinates.height)}};r.prototype.$SlideshowPhotoCropSelector19=function(s){return s?this.$SlideshowPhotoCropSelector12:this.$SlideshowPhotoCropSelector10};r.prototype.$SlideshowPhotoCropSelector21=function(){var s,t=this.$SlideshowPhotoCropSelector22(this.$SlideshowPhotoCropSelector23()),u=Object.keys(this.props.photoCrops)[0];this.props.onPhotoCropsUpdate((s={},s[u]=t,s))};r.prototype.$SlideshowPhotoCropSelector22=function(s){var t=this.state.photoDimensions,u={bottom:Math.round(t.height-s.bottom/this.state.scale),left:Math.round(s.left/this.state.scale),right:Math.round(t.width-s.right/this.state.scale),top:Math.round(s.top/this.state.scale)};return[[u.left,u.top],[u.right,u.bottom]]};r.prototype.$SlideshowPhotoCropSelector23=function(){return{left:this.state.coordinates.left-this.state.min.x,right:this.state.coordinates.right-this.state.min.x,top:this.state.coordinates.top-this.state.min.y,bottom:this.state.coordinates.bottom-this.state.min.y}};r.prototype.$SlideshowPhotoCropSelector20=function(s,t,u,v){var w=m-t-v,x=l-s-u,y=this.$SlideshowPhotoCropSelector15({top:t,left:s,bottom:w,right:x});this.$SlideshowPhotoCropSelector4||i(0);this.$SlideshowPhotoCropSelector4.style.borderWidth=y;this.$SlideshowPhotoCropSelector4.style.width=u+"px";this.$SlideshowPhotoCropSelector4.style.height=v+"px";if(!this.$SlideshowPhotoCropSelector1)this.setState({coordinates:{top:t,left:s,bottom:w,right:x,width:u,height:v}},function(){this.$SlideshowPhotoCropSelector21()}.bind(this))};r.prototype.$SlideshowPhotoCropSelector10=function(s,t){var u=this.state.coordinates.width,v=this.state.coordinates.height,w=p(this.state.coordinates.left+s,this.state.min.x,this.state.max.x-u),x=p(this.state.coordinates.top+t,this.state.min.y,this.state.max.y-v);this.$SlideshowPhotoCropSelector20(w,x,u,v)};r.prototype.$SlideshowPhotoCropSelector18=function(){!this.$SlideshowPhotoCropSelector4||i(0);this.$SlideshowPhotoCropSelector4=c("ReactDOM").findDOMNode(this.refs.selector);this.$SlideshowPhotoCropSelector4||i(0)};r.prototype.$SlideshowPhotoCropSelector9=function(event){this.$SlideshowPhotoCropSelector17(event,false)};r.prototype.$SlideshowPhotoCropSelector8=function(event){if(this.$SlideshowPhotoCropSelector1){event.prevent();this.$SlideshowPhotoCropSelector3||i(0);this.$SlideshowPhotoCropSelector3(event.pageX-this.state.screenX,event.pageY-this.state.screenY)}};r.prototype.$SlideshowPhotoCropSelector7=function(event){__p&&__p();if(this.$SlideshowPhotoCropSelector1){this.$SlideshowPhotoCropSelector1=false;this.setState({isCropping:false,isResizing:false});this.$SlideshowPhotoCropSelector3||i(0);this.$SlideshowPhotoCropSelector3(event.pageX-this.state.screenX,event.pageY-this.state.screenY);this.$SlideshowPhotoCropSelector2&&this.$SlideshowPhotoCropSelector2.remove();this.$SlideshowPhotoCropSelector2=null;this.$SlideshowPhotoCropSelector6&&this.$SlideshowPhotoCropSelector6.remove();this.$SlideshowPhotoCropSelector6=null;this.$SlideshowPhotoCropSelector3=null}this.$SlideshowPhotoCropSelector24()};r.prototype.$SlideshowPhotoCropSelector24=function(){delete this.$SlideshowPhotoCropSelector4};r.prototype.$SlideshowPhotoCropSelector25=function(){var s=this.state.coordinates.width+"px",t=this.state.coordinates.height+"px",u=this.$SlideshowPhotoCropSelector15(this.state.coordinates);return c("React").createElement("div",null,c("React").createElement("div",{className:"_47vr",style:{width:this.state.photoDimensions.scaledWidth+2,height:this.state.photoDimensions.scaledHeight+2,top:this.state.min.y-1,left:this.state.min.x-1}}),c("React").createElement("div",null,c("React").createElement("div",{className:"_47vs",ref:"selector",style:{borderWidth:u,height:t,left:this.state.min.x,top:this.state.min.y,width:s}},this.$SlideshowPhotoCropSelector14(),this.$SlideshowPhotoCropSelector16(),c("React").createElement(c("SlideshowPhotoCropperWindow.react"),{className:"_ms8",format:this.props.format,height:this.state.coordinates.height,isCropping:this.state.isCropping&&this.$SlideshowPhotoCropSelector1,onMouseDown:this.$SlideshowPhotoCropSelector9,width:this.state.coordinates.width}))))};r.prototype.render=function(){return c("React").createElement("div",{className:"_118z"},c("React").createElement("div",{className:"_47vt"},c("React").createElement(c("BackgroundImage.react"),{backgroundSize:"contain",height:m,loadingIndicatorStyle:"large",src:this.props.photoToEdit.url,width:l}),this.$SlideshowPhotoCropSelector25()))};f.exports=r}),null);
__d("SlideshowPhotoEditOptionConstants",[],(function a(b,c,d,e,f,g){f.exports={Text:"TEXT",Crop:"CROP"}}),null);
__d("SlideshowPhotoEditOptionSelector.react",["ix","cx","fbt","Image.react","React","ShimButton.react","SlideshowPhotoEditOptionConstants","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("SlideshowPhotoEditOptionConstants").Text,n=c("SlideshowPhotoEditOptionConstants").Crop;k=babelHelpers.inherits(o,c("React").PureComponent);l=k&&k.prototype;function o(){var p;(p=l.constructor).call.apply(p,[this].concat(Array.prototype.slice.call(arguments)));this.$SlideshowPhotoEditOptionSelector1=this.$SlideshowPhotoEditOptionSelector1.bind(this);this.$SlideshowPhotoEditOptionSelector2=this.$SlideshowPhotoEditOptionSelector2.bind(this)}o.prototype.$SlideshowPhotoEditOptionSelector3=function(p){if(p!==this.props.editOptionType)return null;return c("React").createElement(c("Image.react"),{className:p===m?"_3rqm":"_3rqn",src:h("115698")})};o.prototype.$SlideshowPhotoEditOptionSelector4=function(){return c("React").createElement("div",null,c("React").createElement(c("ShimButton.react"),{className:this.props.editOptionType===m?"_4bna":"_3rqo",onClick:this.$SlideshowPhotoEditOptionSelector2},c("React").createElement(c("Image.react"),{className:"_3rqp",src:h("117249")}),c("React").createElement("span",{className:"_3rqq"},j._("Text"))),this.$SlideshowPhotoEditOptionSelector3(m))};o.prototype.$SlideshowPhotoEditOptionSelector5=function(){return c("React").createElement("div",null,c("React").createElement(c("ShimButton.react"),{className:this.props.editOptionType===n?"_4bnb":"_3rqr",onClick:this.$SlideshowPhotoEditOptionSelector1},c("React").createElement(c("Image.react"),{className:"_3rqp",src:h("116301")}),c("React").createElement("span",{className:"_3rqq"},j._("Crop"))),this.$SlideshowPhotoEditOptionSelector3(n))};o.prototype.$SlideshowPhotoEditOptionSelector2=function(){if(this.props.editOptionType!==m)this.props.onChangeEditOption(m)};o.prototype.$SlideshowPhotoEditOptionSelector1=function(){if(this.props.editOptionType!==n)this.props.onChangeEditOption(n)};o.prototype.render=function(){return c("React").createElement("div",{className:"_3rqs"},this.$SlideshowPhotoEditOptionSelector4(),this.$SlideshowPhotoEditOptionSelector5())};f.exports=o}),null);
__d("SlideshowTextoverlayAlignmentConstants",[],(function a(b,c,d,e,f,g){f.exports={Horizontal:["left","center","right"],Vertical:["top","center","bottom"]}}),null);
/**
 * License: https://www.facebook.com/legal/license/v4UK-P_gtfA/
 */
__d("color-picker-clamp",[],(function a(b,c,d,e,f,g){function h(i,j,k){return i<j?j:i>k?k:i}f.exports=h}),null);
/**
 * License: https://www.facebook.com/legal/license/v4UK-P_gtfA/
 */
__d("color-picker-draggable-mixin",["React","color-picker-clamp"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React"),i=c("color-picker-clamp");function j(){}var k={propTypes:{onChange:h.PropTypes.func,max:h.PropTypes.number},getDefaultProps:function(){return{onChange:j,max:1}},getInitialState:function(){return{active:false}},componentDidMount:function(){document.addEventListener("mousemove",this.handleUpdate);document.addEventListener("touchmove",this.handleUpdate);document.addEventListener("mouseup",this.stopUpdates);document.addEventListener("touchend",this.stopUpdates)},componentWillUnmount:function(){document.removeEventListener("mousemove",this.handleUpdate);document.removeEventListener("touchmove",this.handleUpdate);document.removeEventListener("mouseup",this.stopUpdates);document.removeEventListener("touchend",this.stopUpdates)},startUpdates:function(l){var m=this.getPosition(l);this.setState({active:true});this.updatePosition(m.x,m.y)},handleUpdate:function(l){if(this.state.active){l.preventDefault();var m=this.getPosition(l);this.updatePosition(m.x,m.y)}},stopUpdates:function(){if(this.state.active)this.setState({active:false})},getPosition:function(l){if(l.touches)l=l.touches[0];return{x:l.clientX,y:l.clientY}},getPercentageValue:function(l){return l/this.props.max*100+"%"},getScaledValue:function(l){return i(l,0,1)*this.props.max}};f.exports=k}),null);
/**
 * License: https://www.facebook.com/legal/license/TN64DW1aWE6/
 */
__d("color-picker-map",["cx","React","ReactDOM","ReactComponentWithPureRenderMixin","color-picker-draggable-mixin"],(function a(b,c,d,e,f,g,h){var i=c("React").createClass({displayName:"Map",mixins:[c("color-picker-draggable-mixin"),c("ReactComponentWithPureRenderMixin")],propTypes:{x:c("React").PropTypes.number,y:c("React").PropTypes.number,backgroundColor:c("React").PropTypes.string},getDefaultProps:function j(){return{x:0,y:0,backgroundColor:"transparent"}},updatePosition:function j(k,l){var m=c("ReactDOM").findDOMNode(this).getBoundingClientRect(),n=(k-m.left)/m.width,o=(m.bottom-l)/m.height;n=this.getScaledValue(n);o=this.getScaledValue(o);this.props.onChange(n,o)},render:function j(){var k="map"+(this.state.active?" active":"");return c("React").createElement("div",{className:"_4uwo "+this.props.className+" "+k,onMouseDown:this.startUpdates,onTouchStart:this.startUpdates},c("React").createElement("div",{className:"background",style:{backgroundColor:this.props.backgroundColor}}),c("React").createElement("div",{className:"pointer",style:{left:this.getPercentageValue(this.props.x),bottom:this.getPercentageValue(this.props.y)}}))}});f.exports=i}),null);
/**
 * License: https://www.facebook.com/legal/license/TN64DW1aWE6/
 */
__d("color-picker-slider",["cx","React","ReactDOM","ReactComponentWithPureRenderMixin","color-picker-draggable-mixin"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("React").createClass({displayName:"Slider",mixins:[c("color-picker-draggable-mixin"),c("ReactComponentWithPureRenderMixin")],propTypes:{vertical:c("React").PropTypes.bool.isRequired,value:c("React").PropTypes.number.isRequired},getDefaultProps:function j(){return{value:0}},updatePosition:function j(k,l){var m=c("ReactDOM").findDOMNode(this).getBoundingClientRect(),n;if(this.props.vertical)n=(m.bottom-l)/m.height;else n=(k-m.left)/m.width;n=this.getScaledValue(n);this.props.onChange(n)},getCss:function j(){var k={},l=this.props.vertical?"bottom":"left";k[l]=this.getPercentageValue(this.props.value);return k},render:function j(){var k="slider"+(this.props.vertical?" vertical":"")+(!this.props.vertical?" horizontal":"");return c("React").createElement("div",{className:"_4_2w "+k,onMouseDown:this.startUpdates,onTouchStart:this.startUpdates},c("React").createElement("div",{className:"track"}),c("React").createElement("div",{className:"pointer",style:this.getCss()}))}});f.exports=i}),null);
/**
 * License: https://www.facebook.com/legal/license/QYQNmh4x0KJ/
 */
__d("color-picker",["cx","React","color-picker-map","color-picker-slider","colr","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;function k(l){"use strict";__p&&__p();j.constructor.call(this,l);this.getStateFrom=function(m){var n=c("colr").fromHex(m);return{hsv:n.toHsvObject()}};this.getLuminosity=function(){return c("colr").fromHsvObject(this.state.hsv).toGrayscale()/255}.bind(this);this.getBackgroundHue=function(){return c("colr").fromHsv(this.state.hsv.h,100,100).toHex()}.bind(this);this.handleHueChange=function(m){this.update({h:m,s:this.state.hsv.s,v:this.state.hsv.v})}.bind(this);this.handleSaturationValueChange=function(m,n){this.update({h:this.state.hsv.h,s:m,v:n})}.bind(this);this.update=function(m){var n=c("colr").fromHsvObject(m);this.props.onChange(n.toHex());this.setState({hsv:m})}.bind(this);this.state=this.getStateFrom(l.color)}k.prototype.componentWillReceiveProps=function(l){"use strict";var m=l.color,n=c("colr").fromHsvObject(this.state.hsv).toHex();if(m.toLowerCase()!==n.toLowerCase())this.setState(this.getStateFrom(m))};k.prototype.render=function(){"use strict";var l=this.getLuminosity(),m=this.getBackgroundHue(),n=(l<=.5?"dark":"")+(l>.5?" light":"");return c("React").createElement("div",{className:c("joinClasses")("_f4e",this.props.className)},c("React").createElement("div",{className:"_2ppf"},c("React").createElement(c("color-picker-slider"),{vertical:true,value:this.state.hsv.h,max:360,onChange:this.handleHueChange})),c("React").createElement(c("color-picker-map"),{x:this.state.hsv.s,y:this.state.hsv.v,max:100,className:n,backgroundColor:m,onChange:this.handleSaturationValueChange}))};k.defaultProps={className:"",color:"#000000"};f.exports=k}),null);
__d("SlideshowPhotoEditDialog.react",["invariant","cx","fbt","colr","color-picker","LayerHideOnBlur","LayerFadeOnHide","React","ShimButton.react","SlideshowAlignmentBox.react","SlideshowColorBox.react","SlideshowConstants","SlideshowFrameImage.react","SlideshowPhotoCropSelector.react","SlideshowImageUtil","SlideshowPhotoEditOptionConstants","SlideshowPhotoEditOptionSelector.react","SlideshowTextoverlayAlignmentConstants","SlideshowTextoverlayColorPickerConstants","XUIButton.react","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogSaveButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIRadioButtonGroup.react","XUISingleSelector.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("XUISingleSelector.react").Option,n=204,o=730,p=810,q=460,r=60;k=babelHelpers.inherits(s,c("React").Component);l=k&&k.prototype;function s(t){__p&&__p();l.constructor.call(this,t);this.$SlideshowPhotoEditDialog7=function(u){if(this.props.colorPickerDialogShown&&!u)this.props.onSaveColor()}.bind(this);this.$SlideshowPhotoEditDialog6=function(u){this.setState({colorInput:u.background_color});this.props.onSelectTextoverlayColor(u)}.bind(this);this.$SlideshowPhotoEditDialog5=function(u){var v=u.target;v instanceof HTMLInputElement||h(0);this.setState({colorInput:v.value});var w=void 0;try{w=c("colr").fromHex(v.value).toHex();if(w)this.props.onSelectTextoverlayColor({background_color:w,font_color:this.props.textoverlayColor.font_color})}catch(x){}}.bind(this);this.$SlideshowPhotoEditDialog4=function(u){this.setState({colorInput:u});this.props.onSelectTextoverlayColor({background_color:u,font_color:this.props.textoverlayColor.font_color})}.bind(this);this.$SlideshowPhotoEditDialog1=function(u){this.props.onChangeTextoverlayFont(u.value)}.bind(this);this.$SlideshowPhotoEditDialog2=function(u){this.props.onChangeTextoverlayFontBold(u)}.bind(this);this.$SlideshowPhotoEditDialog3=function(u){this.props.onSetTextoverlayContent(u.target.value)}.bind(this);this.state={colorInput:t.textoverlayColor.background_color};this.$SlideshowPhotoEditDialog1=this.$SlideshowPhotoEditDialog1.bind(this);this.$SlideshowPhotoEditDialog2=this.$SlideshowPhotoEditDialog2.bind(this);this.$SlideshowPhotoEditDialog3=this.$SlideshowPhotoEditDialog3.bind(this);this.$SlideshowPhotoEditDialog4=this.$SlideshowPhotoEditDialog4.bind(this);this.$SlideshowPhotoEditDialog5=this.$SlideshowPhotoEditDialog5.bind(this);this.$SlideshowPhotoEditDialog6=this.$SlideshowPhotoEditDialog6.bind(this);this.$SlideshowPhotoEditDialog7=this.$SlideshowPhotoEditDialog7.bind(this)}s.prototype.$SlideshowPhotoEditDialog8=function(){var t=c("SlideshowConstants").textoverlays_fonts;return Object.keys(t).map(function(u){return c("React").createElement(m,{key:u,value:u},t[u])})};s.prototype.$SlideshowPhotoEditDialog9=function(){return c("React").createElement("div",{className:"_bsi"},c("React").createElement("div",{className:"_bsj"},j._("Font")),c("React").createElement(c("XUISingleSelector.react"),{className:"_bsm",maxwidth:138,name:"font",size:"large",value:this.props.textoverlayFont,onChange:this.$SlideshowPhotoEditDialog1},this.$SlideshowPhotoEditDialog8()),c("React").createElement(c("XUIRadioButtonGroup.react"),{className:"_46un",selectedValue:this.props.isTextoverlayFontBold,selectedDepressed:true,onValueChange:this.$SlideshowPhotoEditDialog2},c("React").createElement(c("XUIButton.react"),{label:j._("Regular"),value:false}),c("React").createElement(c("XUIButton.react"),{label:j._("Bold"),value:true})))};s.prototype.$SlideshowPhotoEditDialog10=function(){return c("React").createElement("div",{className:"_47dr"},c("React").createElement("span",{className:"_bsj"},j._("Colors")),c("React").createElement(c("SlideshowColorBox.react"),{className:"_458a",ref:"colorBox",style:{color:this.props.textoverlayColor.font_color,backgroundColor:this.props.textoverlayColor.background_color},onClick:this.props.onOpenColorPicker}),this.$SlideshowPhotoEditDialog11())};s.prototype.$SlideshowPhotoEditDialog12=function(){var t=c("SlideshowConstants").textoverlays_colors,u=this.props.textoverlayColor;return c("React").createElement("div",{className:"_3pya"},t.map(function(v){return c("React").createElement(c("SlideshowColorBox.react"),{className:"_47ds"+(v.background_color==u.background_color&&v.font_color==u.font_color?" _auk":""),color:v,key:v.font_color+v.background_color,style:{color:v.font_color,backgroundColor:v.background_color},onClick:this.$SlideshowPhotoEditDialog6})}.bind(this)))};s.prototype.$SlideshowPhotoEditDialog13=function(){var t=this.props.textoverlayColor;return c("React").createElement("div",null,c("React").createElement("div",{className:"_3pyb"},c("React").createElement(c("color-picker"),{color:t.background_color,onChange:this.$SlideshowPhotoEditDialog4})),c("React").createElement(c("SlideshowColorBox.react"),{className:"_47ds _3pyc",color:t,style:{color:t.font_color,backgroundColor:t.background_color}}),c("React").createElement("div",{className:"_3pyd"},c("React").createElement("input",{maxLength:7,value:this.state.colorInput,onChange:this.$SlideshowPhotoEditDialog5})))};s.prototype.$SlideshowPhotoEditDialog11=function(){var t=this.props,u=t.colorPickerDialogShown,v=t.colorPickerType,w=v==c("SlideshowTextoverlayColorPickerConstants").Basic;return c("React").createElement(c("XUIContextualDialog.react"),{alignment:"right",behaviors:{LayerHideOnBlur:c("LayerHideOnBlur")},contextRef:function(){return this.refs.colorBox}.bind(this),shown:u,position:"below",width:n,onToggle:this.$SlideshowPhotoEditDialog7},c("React").createElement(c("XUIContextualDialogBody.react"),null,c("React").createElement(c("ShimButton.react"),{className:"_3pye _2d75"+(w?" _3pyf":""),onClick:this.props.onClickBasicColorPicker},j._("Basic")),c("React").createElement(c("ShimButton.react"),{className:"_3pye _2d76"+(!w?" _3pyf":""),onClick:this.props.onClickAdvancedColorPicker},j._("Advanced")),w?this.$SlideshowPhotoEditDialog12():this.$SlideshowPhotoEditDialog13()),c("React").createElement(c("XUIContextualDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{use:"confirm",label:j._("Done"),onClick:this.props.onSaveColor})))};s.prototype.$SlideshowPhotoEditDialog14=function(){var t=c("SlideshowTextoverlayAlignmentConstants").Horizontal,u=c("SlideshowTextoverlayAlignmentConstants").Vertical;return c("React").createElement("div",{className:"_b3r"},c("React").createElement("span",{className:"_bsj"},j._("Alignment")),c("React").createElement("div",{className:"_b3s"},u.map(function(v){return t.map(function(w){return c("React").createElement(c("SlideshowAlignmentBox.react"),{key:v+"-"+w,selectedValue:this.props.textoverlayAlignment,horizontalAlignment:w,verticalAlignment:v,onValueChange:this.props.onChangeTextoverlayAlignment})}.bind(this))}.bind(this))))};s.prototype.$SlideshowPhotoEditDialog15=function(){return c("React").createElement("div",{className:"_32zp"},this.$SlideshowPhotoEditDialog16(),this.$SlideshowPhotoEditDialog9(),this.$SlideshowPhotoEditDialog10(),this.$SlideshowPhotoEditDialog14())};s.prototype.$SlideshowPhotoEditDialog17=function(){if(!this.props.dialogShown)return null;var t=c("SlideshowImageUtil").getPreviewBoxDimensions(this.props.photosCrops,q),u={marginLeft:(q-t.width)/2,marginTop:(q-t.height)/2},v=this.props.photoToEdit;v||h(0);return c("React").createElement("div",{className:"_4ry3"},c("React").createElement("div",{style:u},c("React").createElement(c("SlideshowFrameImage.react"),{croppingSpec:c("SlideshowImageUtil").getCroppingSpec(this.props.photoCrops,t,v,this.props.showSlideshowImageCroppingEditOption),imageSrc:v.url,imageWidth:v.width,imageHeight:v.height,maxWidth:t.width,maxHeight:t.height,positionStyle:"relative",textoverlay:{background_color:this.props.textoverlayColor.background_color,bold:this.props.isTextoverlayFontBold,font:this.props.textoverlayFont,font_color:this.props.textoverlayColor.font_color,text_alignment:this.props.textoverlayAlignment,textoverlay_content:this.props.textoverlayContent}})))};s.prototype.$SlideshowPhotoEditDialog18=function(){switch(this.props.editOptionType){case c("SlideshowPhotoEditOptionConstants").Crop:if(!this.props.photoToEdit||!this.props.photoCrops)return null;return c("React").createElement("div",{className:"_2m0d"},c("React").createElement(c("SlideshowPhotoCropSelector.react"),{format:this.props.format,photoCrops:this.props.photoCrops,photoToEdit:this.props.photoToEdit,onPhotoCropsUpdate:this.props.onPhotoCropsUpdate}));case c("SlideshowPhotoEditOptionConstants").Text:return c("React").createElement("div",{className:"_2m0d"},this.$SlideshowPhotoEditDialog15(),c("React").createElement("div",{className:"_4ry4"},this.$SlideshowPhotoEditDialog17()));default:return null}};s.prototype.$SlideshowPhotoEditDialog16=function(){var t=this.props.textoverlayContent,u=r-(t?t.length:0);return c("React").createElement("div",null,c("React").createElement("textarea",{className:"_32zq",placeholder:j._("Your text..."),maxLength:r,onChange:this.$SlideshowPhotoEditDialog3,value:t||""}),c("React").createElement("div",{className:"_2nyn"+(u<=0?" _2d77":"")},u))};s.prototype.$SlideshowPhotoEditDialog19=function(){if(!this.props.showSlideshowImageCroppingEditOption)return null;return c("React").createElement(c("SlideshowPhotoEditOptionSelector.react"),{editOptionType:this.props.editOptionType,onChangeEditOption:this.props.onChangeEditOption})};s.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},layerHideOnBlur:false,shown:this.props.dialogShown,width:this.props.showSlideshowImageCroppingEditOption?p:o},c("React").createElement(c("XUIDialogTitle.react"),{showCloseButton:false},j._("Edit Photo")),c("React").createElement(c("XUIDialogBody.react"),{className:"_5emm",useCustomPadding:true},this.$SlideshowPhotoEditDialog19(),this.$SlideshowPhotoEditDialog18()),c("React").createElement(c("XUIDialogFooter.react"),{className:"_vc3"},c("React").createElement(c("XUIDialogCancelButton.react"),{onClick:this.props.onCancel}),c("React").createElement(c("XUIDialogSaveButton.react"),{disabled:this.props.textoverlayContent&&this.props.textoverlayContent.length>r,use:"confirm",onClick:this.props.onSave})))};f.exports=s}),null);
__d("SlideshowPhotoEditStore",["SlideshowConstants","SlideshowPhotoEditOptionConstants","SlideshowTextoverlayColorPickerConstants","FluxReduceStore","immutable","SlideshowActionTypes","SlideshowDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l=c("immutable").Record({colorPickerType:c("SlideshowTextoverlayColorPickerConstants").Basic,isColorPickerDialogShown:false,isPhotoEditDialogShown:false,isTextoverlayFontBold:false,editOptionType:c("SlideshowPhotoEditOptionConstants").Text,photoCrops:null,photoToEdit:null,textoverlayAlignment:"center-center",textoverlayColor:c("SlideshowConstants").textoverlays_colors[0],textoverlayContent:null,textoverlayFont:Object.keys(c("SlideshowConstants").textoverlays_fonts)[0]});h=babelHelpers.inherits(m,l);i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.__moduleID=f.id,p}n.prototype.getInitialState=function(){return new m()};n.prototype.getPhotoToEdit=function(){return this.getState().get("photoToEdit")};n.prototype.reduce=function(o,p){__p&&__p();switch(p.type){case c("SlideshowActionTypes").SHOW_PHOTO_EDIT_DIALOG:return o.set("isColorPickerDialogShown",p.isColorPickerDialogShown).set("isPhotoEditDialogShown",p.isPhotoEditDialogShown).set("photoCrops",p.photoCrops).set("photoToEdit",p.photoToEdit).set("textoverlayAlignment",p.textoverlayAlignment).set("textoverlayColor",p.textoverlayColor).set("textoverlayContent",p.textoverlayContent).set("textoverlayFont",p.textoverlayFont).set("isTextoverlayFontBold",p.isTextoverlayFontBold);case c("SlideshowActionTypes").CLOSE_PHOTO_EDIT_DIALOG:return o.set("isPhotoEditDialogShown",p.isPhotoEditDialogShown).set("photoToEdit",p.photoToEdit);case c("SlideshowActionTypes").TOGGLE_COLOR_PICKER_DIALOG:return o.set("isColorPickerDialogShown",!o.get("isColorPickerDialogShown"));case c("SlideshowActionTypes").CHANGE_COLOR_PICKER_TYPE:return o.set("colorPickerType",p.colorPickerType);case c("SlideshowActionTypes").CHANGE_EDIT_OPTION_TYPE:return o.set("editOptionType",p.editOptionType);case c("SlideshowActionTypes").CHANGE_PHOTO_CROPS:return o.set("photoCrops",p.photoCrops);case c("SlideshowActionTypes").SELECT_TEXTOVERLAY_COLOR:return o.set("textoverlayColor",p.textoverlayColor);case c("SlideshowActionTypes").SET_TEXTOVERLAY_CONTENT:var q=p.textoverlayContent?p.textoverlayContent.trimLeft():null;return o.set("textoverlayContent",q);case c("SlideshowActionTypes").CHANGE_TEXTOVERLAY_ALIGNMENT:return o.set("textoverlayAlignment",p.textoverlayAlignment);case c("SlideshowActionTypes").CHANGE_TEXTOVERLAY_FONT:return o.set("textoverlayFont",p.textoverlayFont);case c("SlideshowActionTypes").CHANGE_TEXTOVERLAY_FONT_BOLD:return o.set("isTextoverlayFontBold",p.isTextoverlayFontBold)}return o};n.prototype.getColorPickerType=function(){return this.getState().get("colorPickerType")};n.prototype.getEditOptionType=function(){return this.getState().get("editOptionType")};n.prototype.getPhotoCrops=function(){return this.getState().get("photoCrops")};n.prototype.getTextoverlayAlignment=function(){return this.getState().get("textoverlayAlignment")};n.prototype.getTextoverlayColor=function(){return this.getState().get("textoverlayColor")};n.prototype.getTextoverlayContent=function(){return this.getState().get("textoverlayContent")};n.prototype.getTextoverlayFont=function(){return this.getState().get("textoverlayFont")};n.prototype.shouldShowColorPickerDialog=function(){return this.getState().get("isColorPickerDialogShown")};n.prototype.shouldShowPhotoEditDialog=function(){return this.getState().get("isPhotoEditDialogShown")};n.prototype.isTextoverlayFontBold=function(){return this.getState().get("isTextoverlayFontBold")};f.exports=new n(c("SlideshowDispatcher"))}),null);
__d("SlideshowPhotoEditDialogContainer.react",["FluxContainer","React","SlideshowActions","SlideshowDispatcher","SlideshowPhotoEditDialog.react","SlideshowPhotoEditStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.$SlideshowPhotoEditDialogContainer1=function(){this.props.onSaveTextoverlay&&this.props.onSaveTextoverlay(this.state.photoToEdit,{textoverlay_content:this.state.textoverlayContent,font_color:this.state.textoverlayColor.font_color,background_color:this.state.textoverlayColor.background_color,text_alignment:this.state.textoverlayAlignment,font:this.state.textoverlayFont,bold:this.state.isTextoverlayFontBold});this.props.onSaveImageCrops&&this.props.onSaveImageCrops(this.state.photoToEdit,this.state.photoCrops);c("SlideshowActions").closePhotoEditDialog()}.bind(this),l}j.getStores=function(){return[c("SlideshowPhotoEditStore")]};j.calculateState=function(){return{colorPickerType:c("SlideshowPhotoEditStore").getColorPickerType(),editOptionType:c("SlideshowPhotoEditStore").getEditOptionType(),isColorPickerDialogShown:c("SlideshowPhotoEditStore").shouldShowColorPickerDialog(),isPhotoEditDialogShown:c("SlideshowPhotoEditStore").shouldShowPhotoEditDialog(),isTextoverlayFontBold:c("SlideshowPhotoEditStore").isTextoverlayFontBold(),textoverlayAlignment:c("SlideshowPhotoEditStore").getTextoverlayAlignment(),textoverlayColor:c("SlideshowPhotoEditStore").getTextoverlayColor(),textoverlayContent:c("SlideshowPhotoEditStore").getTextoverlayContent(),textoverlayFont:c("SlideshowPhotoEditStore").getTextoverlayFont(),photoToEdit:c("SlideshowPhotoEditStore").getPhotoToEdit(),photoCrops:c("SlideshowPhotoEditStore").getPhotoCrops()}};j.prototype.UNSAFE_componentWillMount=function(){c("SlideshowDispatcher").explicitlyRegisterStores([c("SlideshowPhotoEditStore")])};j.prototype.render=function(){return c("React").createElement(c("SlideshowPhotoEditDialog.react"),{colorPickerDialogShown:this.state.isColorPickerDialogShown,colorPickerType:this.state.colorPickerType,dialogShown:this.state.isPhotoEditDialogShown,editOptionType:this.state.editOptionType,format:this.props.format,isTextoverlayFontBold:this.state.isTextoverlayFontBold,photoCrops:this.state.photoCrops,photosCrops:this.props.photosCrops,photoToEdit:this.state.photoToEdit,showSlideshowImageCroppingEditOption:this.props.showSlideshowImageCroppingEditOption,textoverlayAlignment:this.state.textoverlayAlignment,textoverlayColor:this.state.textoverlayColor,textoverlayContent:this.state.textoverlayContent,textoverlayFont:this.state.textoverlayFont,onCancel:c("SlideshowActions").closePhotoEditDialog,onChangeEditOption:c("SlideshowActions").changeEditOptionType,onChangeTextoverlayAlignment:c("SlideshowActions").changeTextoverlayAlignment,onChangeTextoverlayFont:c("SlideshowActions").changeTextoverlayFont,onChangeTextoverlayFontBold:c("SlideshowActions").changeTextoverlayFontBold,onClickAdvancedColorPicker:c("SlideshowActions").showAdvancedColorPicker,onClickBasicColorPicker:c("SlideshowActions").showBasicColorPicker,onOpenColorPicker:c("SlideshowActions").toggleColorPickerDialog,onPhotoCropsUpdate:c("SlideshowActions").changePhotoCrops,onSave:this.$SlideshowPhotoEditDialogContainer1,onSaveColor:c("SlideshowActions").toggleColorPickerDialog,onSelectTextoverlayColor:c("SlideshowActions").selectTextoverlayColor,onSetTextoverlayContent:c("SlideshowActions").setTextoverlayContent})};f.exports=c("FluxContainer").create(j)}),null);
__d("SlideshowPreviewConstants",[],(function a(b,c,d,e,f,g){f.exports={WWW_PREVIEW_CONTAINER_SIZE:450,WWW_PREVIEW_CONTAINER_SIZE_COMPOSER:478,WWW_COMPOSER_LEFT_MARGIN:12,WWW_PLAY_ICON_SIZE:64,WWW_PLAYER_SIZE:350,WWW_PLAYER_SIZE_COMPOSER:478}}),null);
__d("SlideshowPlayer.react",["cx","fbt","ix","Animation","Event","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","Image.react","Link.react","React","ReactDOM","Style","SlideshowConstants","SlideshowImageUtil","SlideshowPreviewConstants","SlideshowUtil","XUICloseButton.react","XUIOverlayButton.react","ge","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=c("React").PropTypes,l=1e3,m=100,n=c("React").createClass({displayName:"SlideshowPlayer",_animation:null,_timeout:null,_audioEndedEvent:c("Event"),_audioref:"slideshow_audio_player",_fadeTimeOut:null,_fadeInterval:null,_maxAudioTimeOut:null,propTypes:{durationInMS:k.number.isRequired,imagesAllLoaded:k.bool.isRequired,imagesCrops:k.arrayOf(k.object.isRequired).isRequired,isPreviewPlaying:k.bool.isRequired,previewBoxContainerSize:k.number.isRequired,previewBoxSize:k.number.isRequired,storylineMoodIDSource:k.oneOfType([k.oneOf([null,undefined]),k.string]),transitionInMS:k.number.isRequired,onClose:k.func,onPreviewStateChange:k.func.isRequired},getInitialState:function o(){return{currIndex:0,nextIndex:1,playing:false}},componentDidMount:function o(){this._timeout=null;this._audioEndedEvent=null},componentWillUnmount:function o(){this._clearTimeout()},componentDidUpdate:function o(p){if(this.props.isPreviewPlaying&&!p.isPreviewPlaying)this._startPlaying();else if(!this.props.isPreviewPlaying&&p.isPreviewPlaying)this._stopPlaying()},_clearTimeout:function o(){__p&&__p();if(this._timeout){clearTimeout(this._timeout);this._timeout=null}if(this._animation){this._animation.stop();this._animation=null}if(this._fadeTimeOut)clearTimeout(this._fadeTimeOut);if(this._fadeInterval)clearInterval(this._fadeInterval);if(this._maxAudioTimeOut)clearTimeout(this._maxAudioTimeOut)},_getItemCount:function o(){return c("React").Children.count(this.props.children)},_moveNext:function o(){var p=this._getItemCount();if(p===0)if(this._maxAudioTimeOut)return;else this._setAudioTimeout();else if(this.state.nextIndex>=p)this._stopPlaying();else this._fadeImage()},_setTimeout:function o(){this._timeout=setTimeout(this._moveNext,this.props.durationInMS)},_setAudioTimeout:function o(){var p=this._getItemCount(),q=p===0?c("SlideshowUtil").getMaximumTotalLengthInMS():p*(this.props.durationInMS+this.props.transitionInMS);this._fadeTimeOut=setTimeout(this._fadeAudio,q-l*c("SlideshowConstants").audio_fadeout);this._maxAudioTimeOut=setTimeout(this._stopPlaying,q)},_fadeImage:function o(){var p=this.state,q=p.currIndex,r=p.nextIndex,s=c("ReactDOM").findDOMNode(this.refs[q]);if(!s){this._stopPlaying();return}this._animation=new(c("Animation"))(c("ReactDOM").findDOMNode(this.refs[q])).from("opacity",1).to("opacity",0).duration(this.props.transitionInMS).ondone(function(){this.setState({currIndex:r,nextIndex:r+1},this._setTimeout)}.bind(this)).go()},_resetImages:function o(){this.setState({currIndex:0,nextIndex:1});for(var p=0;p<this._getItemCount();p++)c("Style").set(c("ReactDOM").findDOMNode(this.refs[p]),"opacity",1)},_fadeAudio:function o(){var p=c("ge")(this._audioref),q=c("SlideshowConstants").audio_fadeout*(l/m),r=1/q;this._fadeInterval=setInterval(function(){var s=p.volume;if(s-r>=0){s-=r;p.volume=s}else clearInterval(this._fadeInterval)},m)},_startPlaying:function o(){__p&&__p();if(this._timeout)return;this.setState({playing:true},this._setTimeout);this._audioEndedEvent=null;var p=this.props.storylineMoodIDSource;if(!p)return;var q=c("ge")(this._audioref);if(!q)return;q.src=p;q.volume=1;q.play();this._audioEndedEvent=c("Event").listen(q,"ended",function(){q.play()});this._setAudioTimeout()},_stopPlaying:function o(){__p&&__p();this.props.onPreviewStateChange(false);if(this._timeout){this.setState({playing:false});var p=c("ge")(this._audioref);if(p!=null)p.pause();if(this._audioEndedEvent!==null)this._audioEndedEvent.remove();this._clearTimeout();this._resetImages()}},_getCurrentImages:function o(){return this.props.children.map(function(p,q){return c("React").createElement("div",{ref:q,key:q,style:{position:"absolute"}},p)}).reverse()},_getPlayerStyle:function o(){return{height:this.props.previewBoxSize,margin:(this.props.previewBoxContainerSize-this.props.previewBoxSize)/2,width:this.props.previewBoxSize}},_getEditOverlayButtonStyle:function o(){var p=c("SlideshowImageUtil").getPreviewBoxDimensions(this.props.imagesCrops,this.props.previewBoxSize);return{marginLeft:(this.props.previewBoxSize-p.width)/2,marginTop:(this.props.previewBoxSize-p.height)/2}},_getCloseOverlayButtonStyle:function o(){var p=c("SlideshowImageUtil").getPreviewBoxDimensions(this.props.imagesCrops,this.props.previewBoxSize);return{marginRight:(this.props.previewBoxSize-p.width)/2,marginTop:(this.props.previewBoxSize-p.height)/2}},_getCloseButton:function o(){if(!this.props.onClose)return null;return c("React").createElement(c("XUICloseButton.react"),{className:"_4xxs",onClick:this.props.onClose,size:"medium",shade:"light",style:this._getCloseOverlayButtonStyle()})},_playButtonClick:function o(){this.props.onPreviewStateChange(true)},_getEditButton:function o(){if(!this.props.onEdit)return null;var p=i._("Edit");return c("React").createElement(c("XUIOverlayButton.react"),{className:"_4xxt",image:c("React").createElement(c("Image.react"),{src:j("115341")}),label:p,style:this._getEditOverlayButtonStyle(),onClick:this.props.onEdit})},render:function o(){var p=this._getItemCount(),q={marginLeft:(this.props.previewBoxContainerSize-c("SlideshowPreviewConstants").WWW_PLAY_ICON_SIZE)/2,marginTop:(this.props.previewBoxContainerSize-c("SlideshowPreviewConstants").WWW_PLAY_ICON_SIZE)/2};return c("React").createElement(c("FBOverlayContainer.react"),null,c("React").createElement(c("FBOverlayBase.react"),null,c("React").createElement("div",{className:"_4xxx",style:this._getPlayerStyle()},p===1?c("React").createElement("div",{ref:0,style:{position:"absolute"}},this.props.children):this._getCurrentImages(),this._getCloseButton(),this._getEditButton(),c("React").createElement("audio",{id:this._audioref,className:"hidden_elem"},c("React").createElement("source",{type:"audio/mpeg"})))),c("React").createElement(c("FBOverlayElement.react"),null,c("React").createElement("div",{className:this.state.playing||!this.props.imagesAllLoaded?"_4xxy":"",style:q},c("React").createElement(c("Link.react"),{onClick:this._playButtonClick},c("React").createElement(c("Image.react"),{src:j("27500")})))))}});f.exports=n}),null);
__d("SlideshowPreview.react",["cx","invariant","LoadingImageBox.react","React","SlideshowFrameImage.react","SlideshowImageUtil","SlideshowPlayer.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;l.prototype.$SlideshowPreview1=function(){var m=c("SlideshowImageUtil").getPreviewBoxDimensions(this.props.imagesCrops,this.props.previewBoxSize),n={marginLeft:(this.props.previewBoxSize-m.width)/2,marginTop:(this.props.previewBoxSize-m.height)/2};return this.props.selectedImages.map(function(o,p){o.width!=null&&o.height!=null||i(0);return c("React").createElement("div",{style:n,key:o.key},c("React").createElement(c("SlideshowFrameImage.react"),{className:"_590x",croppingSpec:c("SlideshowImageUtil").getCroppingSpec(this.props.imagesCrops[p],m,o,this.props.showSlideshowImageCroppingEditOption),imageSrc:o.url,imageWidth:o.width,imageHeight:o.height,maxWidth:m.width,maxHeight:m.height,positionStyle:"relative",textoverlay:this.props.imagesTextoverlays&&this.props.imagesTextoverlays[p].textoverlay_content?this.props.imagesTextoverlays[p]:null}))}.bind(this)).slice(0,this.props.maxSelectedImages)};l.prototype.render=function(){return c("React").createElement("div",this.props,c("React").createElement(c("SlideshowPlayer.react"),{durationInMS:this.props.durationWithTransitionInMS-this.props.transitionInMS,imagesAllLoaded:this.props.imagesAllLoaded,imagesCrops:this.props.imagesCrops,isPreviewPlaying:this.props.isPreviewPlaying,previewBoxContainerSize:this.props.previewBoxContainerSize,previewBoxSize:this.props.previewBoxSize,storylineMoodIDSource:this.props.storylineMoodIDSource,transitionInMS:this.props.transitionInMS,onClose:this.props.onClose,onEdit:this.props.onEdit,onPreviewStateChange:this.props.onPreviewStateChange},this.props.imagesAllLoaded?this.$SlideshowPreview1():c("React").createElement(c("LoadingImageBox.react"),{className:"_590x",height:this.props.previewBoxSize,width:this.props.previewBoxSize})))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("APIcon.react",["cx","invariant","immutable","React","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=40,k=40,l=c("React").createElement("g",null,c("React").createElement("path",{d:"M 20 2 l 19 32 l -38 0 z",className:"_31vw"}),c("React").createElement("path",{d:"M 18 11 l 4 0 l -1 14 l -2 0 z",className:"_31v-"}),c("React").createElement("path",{d:"M 22 27 l 0 4 l -4 0 l 0 -4 z",className:"_31v-"})),m={info:c("React").createElement("svg",{className:"_31v_",viewBox:"0, 0, 40, 40"},c("React").createElement("circle",{cx:20,cy:20,r:18,className:"_31vw"}),c("React").createElement("rect",{x:18,y:18,width:4,height:14,className:"_31v-"}),c("React").createElement("circle",{cx:20,cy:11,r:2.5,className:"_31v-"})),success:c("React").createElement("svg",{className:"_31w0",viewBox:"0, 0, 40, 40"},c("React").createElement("circle",{cx:20,cy:20,r:18,className:"_31vw"}),c("React").createElement("path",{d:"M 9 22 l 7 7 l 15 -15",fill:"none",className:"_31v-"})),error:c("React").createElement("svg",{className:"_31w1",viewBox:"0, 0, 40, 40"},l),warning:c("React").createElement("svg",{className:"_31w2",viewBox:"0, 0, 40, 40"},l),apLogo:c("React").createElement("svg",{className:"_48hp",viewBox:"0, 0, 40, 40"},c("React").createElement("circle",{cx:13,cy:14,r:11.5,strokeWidth:2.5,fill:"none"}),c("React").createElement("circle",{cx:27,cy:14,r:11.5,strokeWidth:2.5,fill:"none"}),c("React").createElement("circle",{cx:20,cy:26,r:11.5,strokeWidth:2.5,fill:"none"})),dataSet:c("React").createElement("svg",{className:"_48hq",viewBox:"0, 0, 40, 40"},c("React").createElement("circle",{cx:7,cy:6,r:4.7,stroke:"none"}),c("React").createElement("circle",{cx:20,cy:6,r:4.7,stroke:"none"}),c("React").createElement("circle",{cx:33,cy:6,r:4.7,stroke:"none"}),c("React").createElement("circle",{cx:13.5,cy:18,r:4.7,stroke:"none"}),c("React").createElement("circle",{cx:26.5,cy:18,r:4.7,stroke:"none"}),c("React").createElement("circle",{cx:20,cy:30,r:4.7,stroke:"none"})),add:c("React").createElement("svg",{className:"_5fkp",viewBox:"0, 0, 40, 40"},c("React").createElement("rect",{x:1,y:1,width:38,height:38,rx:4,ry:4}),c("React").createElement("line",{x1:20,y1:12,x2:20,y2:28}),c("React").createElement("line",{x1:12,y1:20,x2:28,y2:20})),remove:c("React").createElement("svg",{className:"_5fkp",viewBox:"0, 0, 40, 40"},c("React").createElement("rect",{x:1,y:1,width:38,height:38,rx:4,ry:4}),c("React").createElement("line",{x1:15,y1:15,x2:25,y2:25}),c("React").createElement("line",{x1:25,y1:15,x2:15,y2:25}))},n=function n(o){var p=c("joinClasses")("_31w3"+(o.inverted&&o.inverted===true?" _31w4":"")+(o.animation==="fadeIn"?" _31w5":"")+(o.animation==="bounceIn"?" _31w6":""),o.className),q=!isNaN(o.width)?o.width:j,r=!isNaN(o.height)?o.height:k,s=m[o.shape];s||i(0);return c("React").createElement("div",{className:p,style:{width:q,height:r}},s)};f.exports=n}),null);
__d("SlideshowSettingsPanel.react",["cx","fbt","SlideshowConstants","SlideshowFbtUtils","React","APIcon.react","DateConsts","SUIBusinessTheme","SUISimplePopover.react","XUIButton.react","XUIRadioButtonGroup.react","XUISingleSelector.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("XUISingleSelector.react").Option,m=c("SlideshowConstants").image_duration_in_sec_options;j=babelHelpers.inherits(n,c("React").PureComponent);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$SlideshowSettingsPanel12=function(event){this.props.onPreviewStateChange(false);var t=event.value,u=this.props.storylineMoodFiles.find(function(v){return v.moodID===t});this.props.onChangeStorylineMood(u?u:null)}.bind(this),p}n.prototype.$SlideshowSettingsPanel1=function(){return c("React").createElement("div",{className:"_315i"},c("React").createElement("span",{className:"_315k"},i._("ASPECT RATIO")),c("React").createElement(c("SUISimplePopover.react"),{content:i._("Choose the aspect ratio for your video. Let the first image of your slideshow determine the ratio, or set it to square (1:1), rectangle (16:9) or vertical (2:3)"),contentWidthUseSparingly:328,theme:c("SUIBusinessTheme")}),c("React").createElement("div",{className:"_2i2r"},c("React").createElement(c("XUISingleSelector.react"),{defaultValue:this.props.format,name:"format",size:"xlarge",onChange:this.props.onChangeFormat},this.$SlideshowSettingsPanel2())))};n.prototype.$SlideshowSettingsPanel2=function(){var o=c("SlideshowConstants").formats;return Object.keys(o).map(function(p){return c("React").createElement(l,{key:p,value:o[p]},c("SlideshowFbtUtils").getFormatFbtString(p))})};n.prototype.$SlideshowSettingsPanel3=function(){return i._("Slideshows can't be longer than 15 seconds. We've selected a shorter image duration so you can include all of your images. To use a longer duration, you can remove images.")};n.prototype.$SlideshowSettingsPanel4=function(){return m.map(function(o){var p=this.props.numberOfSelectedImages*o*c("DateConsts").MS_PER_SEC>=c("SlideshowConstants").max_total_length;return c("React").createElement(c("XUIButton.react"),{disabled:p,label:o.toString(),value:o*c("DateConsts").MS_PER_SEC,key:o,size:"xlarge"})}.bind(this))};n.prototype.$SlideshowSettingsPanel5=function(){return c("React").createElement("div",{className:"_2zys","data-hover":"tooltip","data-tooltip-content":this.$SlideshowSettingsPanel3(),"data-tooltip-position":"below",href:"#"},c("React").createElement(c("APIcon.react"),{shape:"warning",width:18,height:18}))};n.prototype.$SlideshowSettingsPanel6=function(){return m.map(function(o){return c("React").createElement(l,{key:o,value:o*c("DateConsts").MS_PER_SEC},c("SlideshowFbtUtils").getDurationFbtString(o))})};n.prototype.$SlideshowSettingsPanel7=function(){return c("React").createElement(c("React").Fragment,null,c("React").createElement(c("XUIRadioButtonGroup.react"),{selectedDepressed:true,selectedValue:this.props.durationWithTransitionInMS,onValueChange:this.props.onChangeDuration},this.$SlideshowSettingsPanel4()),this.props.showDurationWarning?this.$SlideshowSettingsPanel5():null)};n.prototype.$SlideshowSettingsPanel8=function(){return c("React").createElement(c("XUISingleSelector.react"),{defaultValue:this.props.durationWithTransitionInMS,name:"duration",size:"xlarge",onChange:this.props.onChangeDuration},this.$SlideshowSettingsPanel6())};n.prototype.$SlideshowSettingsPanel9=function(){var o=this.props.shouldLimitTotalLength?this.$SlideshowSettingsPanel7():this.$SlideshowSettingsPanel8();return c("React").createElement("div",{className:"_315i"},c("React").createElement("span",{className:"_315k"},i._("IMAGE DURATION")),c("React").createElement(c("SUISimplePopover.react"),{content:this.props.shouldLimitTotalLength?i._("Choose how long you'd like to show each image in your slideshow. Slideshows can't be longer than 15 seconds, so the duration options will change depending on how many images you'd like to use."):i._("Set the total number of seconds you show each image in your slideshow."),theme:c("SUIBusinessTheme")}),c("React").createElement("div",{className:"_2i2r"},o))};n.prototype.$SlideshowSettingsPanel10=function(){var o=c("SlideshowConstants").transitions;return c("React").createElement("div",{className:"_315i"},c("React").createElement("span",{className:"_315k"},i._("TRANSITION")),c("React").createElement(c("SUISimplePopover.react"),{content:i._("Choose how your slideshow switches from one image to the next."),theme:c("SUIBusinessTheme")}),c("React").createElement("div",{className:"_2i2r"},c("React").createElement(c("XUIRadioButtonGroup.react"),{selectedDepressed:true,selectedValue:this.props.transitionInMS,onValueChange:this.props.onChangeTransition},Object.keys(o).map(function(p){return c("React").createElement(c("XUIButton.react"),{key:p,label:c("SlideshowFbtUtils").getTransitionFbtString(p),size:"xlarge",value:o[p]})}))))};n.prototype.$SlideshowSettingsPanel11=function(){var o=[];this.props.storylineMoodFiles.forEach(function(q){o.push(c("React").createElement(l,{key:q.moodID,value:q.moodID},q.fileName))});var p=[c("React").createElement(l,{key:c("SlideshowConstants").storyline_mood_id_none,value:null},i._("None"))];return c("React").createElement(c("XUISingleSelector.react"),{defaultValue:null,name:"storyline_mood_file",size:"xlarge",value:this.props.selectedStorylineMood?this.props.selectedStorylineMood.moodID:null,onChange:this.$SlideshowSettingsPanel12},p.concat(o))};n.prototype.render=function(){return c("React").createElement("div",babelHelpers["extends"]({className:"_2bot"},this.props),this.props.warningMessage,this.$SlideshowSettingsPanel1(),this.$SlideshowSettingsPanel9(),this.$SlideshowSettingsPanel10())};f.exports=n}),null);
__d("SlideshowTabBar.react",["cx","LayerFadeOnHide","React","ReactFragment","SimpleNUXMessage","SimpleNUXMessageTypes","SlideshowFbtUtils","SlideshowFlowTypes","XUIAmbientNUX.react","XUICardSection.react","XUIPageNavigation.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("SlideshowFlowTypes").SlideshowTabKey,l=c("XUIPageNavigation.react").Group,m=c("XUIPageNavigation.react").Item;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;function n(o){"use strict";__p&&__p();j.constructor.call(this,o);this.$SlideshowTabBar1=function(p){var q;if(p!==k.FRAMES_TAB)this.setState({showFramesTabNux:false});else if(p!==k.MUSIC_TAB)this.setState({showMusicTabNux:false});for(var r=arguments.length,s=Array(r>1?r-1:0),t=1;t<r;t++)s[t-1]=arguments[t];(q=this.props).onSelect.apply(q,[p].concat(s))}.bind(this);this.$SlideshowTabBar3=function(p,q){return c("React").createElement(m,{key:p,ref:q},c("SlideshowFbtUtils").getTabNameFbtString(p))};this.state={showFramesTabNux:!c("SimpleNUXMessage").hasUserSeenMessage(c("SimpleNUXMessageTypes").SLIDESHOW_FRAMES_TAB_NUX),showMusicTabNux:!c("SimpleNUXMessage").hasUserSeenMessage(c("SimpleNUXMessageTypes").SLIDESHOW_MUSIC_TAB_NUX)}}n.prototype.renderLayers=function(){"use strict";__p&&__p();var o=this.props.tabKeys.indexOf(k.FRAMES_TAB)!==-1,p=this.props.tabKeys.indexOf(k.MUSIC_TAB)!==-1,q=null,r=null;if(o){c("SimpleNUXMessage").markMessageSeenByUser(c("SimpleNUXMessageTypes").SLIDESHOW_FRAMES_TAB_NUX);q=c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"left",behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},contextRef:function(){return this.refs.framesTab}.bind(this),offsetX:14,position:"below",shown:this.state.showFramesTabNux,width:"normal",onCloseButtonClick:function(){this.setState({showFramesTabNux:false})}.bind(this)},c("SlideshowFbtUtils").getFramesTabNuxFbtString())}if(p){c("SimpleNUXMessage").markMessageSeenByUser(c("SimpleNUXMessageTypes").SLIDESHOW_MUSIC_TAB_NUX);r=c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"left",behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},contextRef:function(){return this.refs.musicTab}.bind(this),offsetX:14,position:"below",shown:this.state.showMusicTabNux,width:"normal",onCloseButtonClick:function(){this.setState({showMusicTabNux:false})}.bind(this)},c("SlideshowFbtUtils").getMusicTabNuxFbtString())}return c("ReactFragment").create({framesTabNUX:q,musicTabNUX:r})};n.prototype.render=function(){"use strict";return c("React").createElement(c("XUICardSection.react"),{className:"_5vx1"},c("React").createElement(c("XUIPageNavigation.react"),{activeTabKey:this.props.selected,defaultActiveTabKey:this.props.tabKeys[0],onTabClick:this.$SlideshowTabBar1},this.$SlideshowTabBar2()),this.renderLayers())};n.prototype.$SlideshowTabBar2=function(){"use strict";return c("React").createElement(l,{shouldCalculateVisibleTabs:false},this.props.tabKeys.map(function(o){switch(o){case k.FRAMES_TAB:return this.$SlideshowTabBar3(k.FRAMES_TAB,"framesTab");case k.MUSIC_TAB:return this.$SlideshowTabBar3(k.MUSIC_TAB,"musicTab");default:return this.$SlideshowTabBar3(o)}}.bind(this)))};f.exports=n}),null);
__d("SlideshowTopLeftPanelFrame.react",["cx","React","SlideshowTabBar.react","SlideshowFlowTypes","emptyFunction"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("SlideshowFlowTypes").SlideshowTabKey;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.$SlideshowTopLeftPanelFrame1=function(){var m=[k.SETTINGS_TAB,k.MUSIC_TAB];if(this.props.showFramesTab)m.push(k.FRAMES_TAB);return m};l.prototype.render=function(){var m=this.$SlideshowTopLeftPanelFrame1();return c("React").createElement("div",{className:"_3mt1"},c("React").createElement(c("SlideshowTabBar.react"),{selected:this.props.selectedTab,tabKeys:m,onSelect:this.props.onTabSelect}),c("React").createElement("div",{className:"_3mt2"},c("React").createElement("div",{className:"_3mtc"+(this.props.selectedTab===m[0]?" _3mtd":"")+(this.props.selectedTab===m[1]?" _3mte":"")+(this.props.selectedTab===m[2]?" _1ovn":"")},c("React").Children.map(this.props.children,function(n){return c("React").createElement("div",{className:"_3mtf"},n)}))))};function l(){i.apply(this,arguments)}l.defaultProps={selectedTab:k.SETTINGS_TAB,onTabSelect:c("emptyFunction")};f.exports=l}),null);
__d("SlideshowDialog.react",["cx","fbt","AdsTestIDs","LayerFadeOnHide","LeftRight.react","Link.react","React","SlideshowConstants","SlideshowFramesPanel.react","SlideshowImageUploadsContainer.react","SlideshowMusicPanel.react","SlideshowPhotoEditDialogContainer.react","SlideshowPreview.react","SlideshowPreviewConstants","SlideshowSettingsPanel.react","SlideshowTopLeftPanelFrame.react","SUISpinner.react","SUIBusinessTheme","XUIDialog.react","XUIDialogButton.react","XUIDialogBody.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=900;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;m.prototype.$SlideshowDialog1=function(){if(this.props.selectedImages.length>=c("SlideshowConstants").min_photo_num)return null;return i._({"*":"You'll need to add at least {Minimum number of images} images to create a slideshow"},[i._param("Minimum number of images",c("SlideshowConstants").min_photo_num,[0])])};m.prototype.$SlideshowDialog2=function(){return c("React").createElement(c("SlideshowSettingsPanel.react"),{durationWithTransitionInMS:this.props.durationWithTransitionInMS,format:this.props.format,numberOfSelectedImages:this.props.selectedImages.length,selectedStorylineMood:this.props.selectedStorylineMood,shouldLimitTotalLength:this.props.shouldLimitTotalLength,showDurationWarning:this.props.showDurationWarning,storylineMoodFiles:this.props.storylineMoodFiles,transitionInMS:this.props.transitionInMS,onChangeDuration:this.props.onChangeDuration,onChangeFormat:this.props.onChangeFormat,onChangeStorylineMood:this.props.onChangeStorylineMood,onChangeTransition:this.props.onChangeTransition,onPreviewStateChange:this.props.onPreviewStateChange,warningMessage:this.props.warningMessage})};m.prototype.$SlideshowDialog3=function(){return c("React").createElement(c("SlideshowMusicPanel.react"),{audioFileUploadInfo:this.props.audioFileUploadInfo,isPreviewPlaying:this.props.isPreviewPlaying,recentlyUsedStorylineMoods:this.props.recentlyUsedStorylineMoods,selectedMusicCategory:this.props.selectedMusicCategory,selectedStorylineMood:this.props.selectedStorylineMood,storylineMoodFiles:this.props.storylineMoodFiles,targetID:this.props.targetID,onAudioFileUpload:this.props.onAudioFileUpload,onAudioFileUploadError:this.props.onAudioFileUploadError,onAudioFileUploadSuccess:this.props.onAudioFileUploadSuccess,onChangeStorylineMood:this.props.onChangeStorylineMood,onDeleteStorylineMood:this.props.onDeleteStorylineMood,onMusicCategorySelect:this.props.onMusicCategorySelect,onPreviewStateChange:this.props.onPreviewStateChange})};m.prototype.$SlideshowDialog4=function(){return c("React").createElement(c("SlideshowFramesPanel.react"),{frameImages:this.props.frameImages,onFrameImageSelected:this.props.onFrameImageSelected})};m.prototype.$SlideshowDialog5=function(){var n=this.props.frameImages&&this.props.frameImages.length>0;if(n)return c("React").createElement(c("SlideshowTopLeftPanelFrame.react"),{selectedTab:this.props.selectedTab,showFramesTab:true,onTabSelect:this.props.onTabSelect},this.$SlideshowDialog2(),this.$SlideshowDialog3(),this.$SlideshowDialog4());else return c("React").createElement(c("SlideshowTopLeftPanelFrame.react"),{selectedTab:this.props.selectedTab,showFramesTab:false,onTabSelect:this.props.onTabSelect},this.$SlideshowDialog2(),this.$SlideshowDialog3())};m.prototype.$SlideshowDialog6=function(){return this.props.showLoading?c("React").createElement("div",{className:"_4165"},c("React").createElement(c("SUISpinner.react"),{size:"large",theme:c("SUIBusinessTheme")})):c("React").createElement("div",null,this.$SlideshowDialog5(),c("React").createElement("div",{className:"_2ldm"},c("React").createElement(c("SlideshowPreview.react"),{durationWithTransitionInMS:this.props.durationWithTransitionInMS,hidden:!this.props.showPreview,imagesAllLoaded:this.props.imagesAllLoaded,imagesCrops:this.props.imagesCrops,imagesTextoverlays:this.props.imagesTextoverlays,isPreviewPlaying:this.props.isPreviewPlaying,maxSelectedImages:this.props.maxSelectedImages,previewBoxContainerSize:c("SlideshowPreviewConstants").WWW_PREVIEW_CONTAINER_SIZE,previewBoxSize:c("SlideshowPreviewConstants").WWW_PLAYER_SIZE,selectedImages:this.props.selectedImages,showSlideshowImageCroppingEditOption:this.props.showSlideshowImageCroppingEditOption,storylineMoodIDSource:this.props.selectedStorylineMood?this.props.selectedStorylineMood.source:null,transitionInMS:this.props.transitionInMS,onPreviewStateChange:this.props.onPreviewStateChange}),this.props.children[2],this.props.children[1]),c("React").createElement(c("SlideshowImageUploadsContainer.react"),{durationWithTransitionInMS:this.props.durationWithTransitionInMS,imagesCrops:this.props.imagesCrops,imagesTextoverlays:this.props.imagesTextoverlays,maxSelectedImages:this.props.maxSelectedImages,selectedImages:this.props.selectedImages,showSlideshowImageCroppingEditOption:this.props.showSlideshowImageCroppingEditOption,showSlideshowPhotoEditButton:this.props.showSlideshowPhotoEditButton,onImageRemove:this.props.onImageRemove,onImageReorder:this.props.onImageReorder},this.props.children[0]))};m.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},"data-testid":c("AdsTestIDs").SLIDE_SHOW_CREATION_DIALOG,layerHideOnBlur:false,shown:this.props.dialogShown,width:l},c("React").createElement(c("XUIDialogBody.react"),{className:"_5z0a",useCustomPadding:true},this.$SlideshowDialog6()),c("React").createElement(c("LeftRight.react"),{className:"_5z0b"},c("React").createElement("div",null,c("React").createElement(c("Link.react"),{href:"/business/learn/facebook-create-ad-slideshow-ads",target:"_blank"},i._("Guidelines")),c("React").createElement("span",{className:"_5z0c"},c("React").createElement(c("Link.react"),{href:"/help/503502689826117",target:"_blank"},i._("Help Center"))),c("React").createElement(c("Link.react"),{href:"/business/help/search/?query=slideshow",target:"_blank"},i._("FAQ"))),c("React").createElement("div",null,c("React").createElement(c("XUIDialogButton.react"),{label:i._("Cancel"),onClick:this.props.onCloseDialog}),c("React").createElement(c("XUIDialogButton.react"),{"data-hover":"tooltip","data-testid":c("AdsTestIDs").CONFIRM_CREATE_SLIDESHOW_BUTTON,"data-tooltip-content":this.$SlideshowDialog1(),"data-tooltip-position":"above",disabled:this.props.selectedImages.length<c("SlideshowConstants").min_photo_num,label:i._("Create Slideshow"),href:this.props.selectedImages.length<c("SlideshowConstants").min_photo_num?"#":"",use:"confirm",onClick:this.props.onCreateSlideshow}))),c("React").createElement(c("SlideshowPhotoEditDialogContainer.react"),{format:this.props.format,photosCrops:this.props.imagesCrops,showSlideshowImageCroppingEditOption:this.props.showSlideshowImageCroppingEditOption,onSaveImageCrops:this.props.onSaveImageCrops,onSaveTextoverlay:this.props.onSaveTextoverlay}))};function m(){j.apply(this,arguments)}m.defaultProps={adgroupIDs:[]};f.exports=m}),null);
__d("SlideshowVideoUploadContainer.react",["cx","fbt","ix","React","Image.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.$SlideshowVideoUploadContainer1=function(){return i._("We're cutting your video into stills you can use in your slideshow.")};m.prototype.render=function(){return c("React").createElement("div",babelHelpers["extends"]({},this.props,{className:"_v32 _1-2z"}),c("React").createElement(c("Image.react"),{className:"_v33",src:j("99136")}),c("React").createElement("div",{className:"_3dg5"},this.$SlideshowVideoUploadContainer1(),c("React").createElement("div",{className:"_v34"},this.props.children)))};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("AdsSlideshowDialogContainer.react",["cx","AdsEditInlinePostWarning.react","AdsFluxContainer","AdsImageIDClasses","AdsImageInfoStore","AdsImageLegacy","AdsQEStore","AdsSelectedImagesStore","AdsSlideshowActions","AdsSlideshowAudioStore","AdsSlideshowExperimentStoreUtils","AdsSlideshowImageUploadsContainer.react","AdsSlideshowLoggingStore","AdsSlideshowStore","AdsSlideshowVideoPickerContainer.react","AdsSlideshowVideoUploadView.react","AdsVideoFrameImagesStore","DateConsts","React","SlideshowConstants","SlideshowDataManager","SlideshowDialog.react","SlideshowMediaUploadContainer.react","SlideshowUtil","SlideshowVideoUploadContainer.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("AdsImageIDClasses").AdsImageID,l=c("SlideshowConstants").image_duration_in_sec_options,m=c("SlideshowConstants").max_total_length;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$AdsSlideshowDialogContainer4=function(){var t=this.props,u=t.accountID,v=t.adgroupIDs,w=t.slideshowUploader,x=this.state,y=x.durationWithTransitionInMS,z=x.imagesCrops,A=x.imagesTextoverlays,B=x.selectedImages,C=x.selectedStorylineMood,D=x.transitionInMS;c("AdsSlideshowActions").createSlideshow({accountID:u,adgroupIDs:v,imagesCrops:z,imagesTextoverlays:A,length:c("SlideshowUtil").getTotalLengthInSec(y,B.length),selectedImages:B.map(function(E){return new(c("AdsImageLegacy"))(E)}),storylineMoodID:C?C.moodID:null,videoUploader:w,transitionInMS:D})}.bind(this),this.$AdsSlideshowDialogContainer6=function(t){c("AdsSlideshowActions").selectImagesConfirm(t);if(this.state.shouldLimitTotalLength)this.$AdsSlideshowDialogContainer9(t.length)}.bind(this),this.$AdsSlideshowDialogContainer10=function(t){var u=this.state.selectedImages;u.push({url:t.uri,width:t.width,height:t.height,isLoading:true,key:t.id});c("AdsSlideshowActions").selectImagesConfirm(u)}.bind(this),p}n.getStores=function(){return[c("AdsImageInfoStore"),c("AdsSelectedImagesStore"),c("AdsSlideshowAudioStore"),c("AdsSlideshowStore"),c("AdsSlideshowLoggingStore"),c("AdsVideoFrameImagesStore"),c("AdsQEStore")]};n.calculateState=function(o,p){__p&&__p();var q=true,r=c("AdsSelectedImagesStore").getSelectedImages().map(function(z,A){var B=z.stockImageID?k.fromShutterstockID(z.stockImageID):k.fromExternalURL(z.url),C=c("AdsImageInfoStore").getFullSize(B),D=!C.hasValue();if(D)q=false;z.isLoading=D;return z}),s=[];r.forEach(function(z){var A=p.libraryImages.find(function(B){return!z.isLoading&&new(c("AdsImageLegacy"))(B).equals(new(c("AdsImageLegacy"))(z))});if(!A&&!z.isLoading)s.push(z)});var t=s.concat(p.libraryImages),u=c("AdsVideoFrameImagesStore").getVideoFrameImages(),v=c("AdsVideoFrameImagesStore").isFetchingFrameImages(),w=c("AdsSlideshowExperimentStoreUtils").getLengthLimitQE(p.accountID),x=c("AdsSlideshowExperimentStoreUtils").lengthLimitQEValueLoaded(w),y=false;if(x)y=c("AdsSlideshowExperimentStoreUtils").getLengthLimitQEValue(w);return{audioFileUploadInfo:c("AdsSlideshowAudioStore").getAudioFileUploadInfo(),durationWithTransitionInMS:c("AdsSlideshowStore").getDurationInMS(),format:c("AdsSlideshowStore").getFormat(),frameImages:u,imageDialogShown:c("AdsSlideshowStore").shouldShowImageDialog(),imagesAllLoaded:q,imagesCrops:c("AdsSelectedImagesStore").getImagesCrops(),imagesTextoverlays:c("AdsSelectedImagesStore").getImagesTextoverlays(),isFetchingFrameImages:v,isPreviewPlaying:c("AdsSlideshowAudioStore").getIsPreviewPlaying(),libraryImages:t,processing:c("AdsSlideshowStore").isProcessing(p.entrypoint),lengthLimitQEValueLoaded:x,recentlyUsedStorylineMoods:c("AdsSlideshowAudioStore").getRecentlyUsedStorylineMoods(),selectedImages:r,shouldLimitTotalLength:y,selectedMusicCategory:c("AdsSlideshowAudioStore").getSelectedMusicCategory(),selectedStorylineMood:c("AdsSlideshowAudioStore").getSelectedStorylineMood(),selectedTab:c("AdsSlideshowStore").getSelectedTab(),showDurationWarning:c("AdsSlideshowStore").shouldShowDurationWarning(),showPreview:r.length>0,storylineMoodFiles:c("AdsSlideshowAudioStore").getStorylineMoodFiles(),transitionInMS:c("AdsSlideshowStore").getTransitionInMS(),videoFrameImagesError:c("AdsVideoFrameImagesStore").getVideoFrameImagesError()}};n.prototype.componentDidMount=function(){c("SlideshowDataManager").fetchStorylineMoodFiles(function(o){c("AdsSlideshowActions").setStorylineMoodFiles(o)},this.props.accountID)};n.prototype.$AdsSlideshowDialogContainer1=function(o){c("AdsSlideshowActions").changeDurationManual(o)};n.prototype.$AdsSlideshowDialogContainer2=function(o){var p=o.value;c("AdsSlideshowActions").changeDurationManual(p)};n.prototype.$AdsSlideshowDialogContainer3=function(event){c("AdsSlideshowActions").changeFormat(event.value)};n.prototype.$AdsSlideshowDialogContainer5=function(o){return c("React").createElement(c("AdsSlideshowImageUploadsContainer.react"),{accountID:this.props.accountID,disabled:this.state.isFetchingFrameImages,imageDialogShown:this.state.imageDialogShown,imageUploadButtonType:o,libraryImages:this.state.libraryImages,maxSelectedImages:this.props.maxSelectedImages,pageID:this.props.pageID,selectedImages:this.state.selectedImages,onImageDialogClose:c("AdsSlideshowActions").closeImageDialog,onImageDialogShown:c("AdsSlideshowActions").showImageDialog,onSelectImagesConfirm:this.$AdsSlideshowDialogContainer6})};n.prototype.$AdsSlideshowDialogContainer7=function(){return c("React").createElement(c("AdsSlideshowVideoPickerContainer.react"),{accountID:this.props.accountID,pageID:this.props.pageID})};n.prototype.$AdsSlideshowDialogContainer8=function(){return c("React").createElement(c("AdsEditInlinePostWarning.react"),{className:"_1be0",message:this.props.adEditWarningMessage})};n.prototype.$AdsSlideshowDialogContainer9=function(o){var p,q=c("SlideshowUtil").getTotalLengthInSec(this.state.durationWithTransitionInMS,o)*c("DateConsts").MS_PER_SEC;if(q>=m)(function(){var r=m/o,s=l.slice().reverse().find(function(t){return t*c("DateConsts").MS_PER_SEC<r});if(s)c("AdsSlideshowActions").changeDurationAutomatic(s*c("DateConsts").MS_PER_SEC)})()};n.prototype.render=function(){return c("React").createElement(c("SlideshowDialog.react"),{audioFileUploadInfo:this.state.audioFileUploadInfo,dialogShown:this.props.dialogShown,durationWithTransitionInMS:this.state.durationWithTransitionInMS,format:this.state.format,frameImages:this.state.frameImages,imagesAllLoaded:this.state.imagesAllLoaded,imagesCrops:this.state.imagesCrops,imagesTextoverlays:this.state.imagesTextoverlays,isPreviewPlaying:this.state.isPreviewPlaying,maxSelectedImages:this.props.maxSelectedImages,recentlyUsedStorylineMoods:this.state.recentlyUsedStorylineMoods,selectedImages:this.state.selectedImages,selectedMusicCategory:this.state.selectedMusicCategory,selectedStorylineMood:this.state.selectedStorylineMood,selectedTab:this.state.selectedTab,shouldLimitTotalLength:this.state.shouldLimitTotalLength,showDurationWarning:this.state.showDurationWarning,showLoading:!this.state.lengthLimitQEValueLoaded,showPreview:this.state.showPreview,showSlideshowImageCroppingEditOption:false,showSlideshowPhotoEditButton:true,storylineMoodFiles:this.state.storylineMoodFiles,targetID:this.props.accountID,transitionInMS:this.state.transitionInMS,warningMessage:this.$AdsSlideshowDialogContainer8(),onAudioFileUpload:c("AdsSlideshowActions").audioFileUploadStarted,onAudioFileUploadError:c("AdsSlideshowActions").audioFileUploadError,onAudioFileUploadSuccess:c("AdsSlideshowActions").audioFileUploadSuccess,onChangeDuration:this.state.lengthLimitQEValueLoaded&&this.state.shouldLimitTotalLength?this.$AdsSlideshowDialogContainer1:this.$AdsSlideshowDialogContainer2,onChangeFormat:this.$AdsSlideshowDialogContainer3,onChangeStorylineMood:c("AdsSlideshowActions").changeStorylineMoodFile,onChangeTransition:c("AdsSlideshowActions").changeTransition,onCloseDialog:this.props.onCloseDialog,onCreateSlideshow:this.$AdsSlideshowDialogContainer4,onDeleteStorylineMood:c("AdsSlideshowActions").deleteStorylineMoodFile,onFrameImageSelected:this.$AdsSlideshowDialogContainer10,onImageRemove:c("AdsSlideshowActions").removeImage,onImageReorder:c("AdsSlideshowActions").reorderImages,onMusicCategorySelect:c("AdsSlideshowActions").musicCategorySelect,onPreviewStateChange:c("AdsSlideshowActions").previewStateChange,onSaveImageCrops:c("AdsSlideshowActions").saveImageCrops,onSaveTextoverlay:c("AdsSlideshowActions").saveTextoverlay,onTabSelect:c("AdsSlideshowActions").selectTab},this.$AdsSlideshowDialogContainer5("more_link"),c("React").createElement(c("SlideshowMediaUploadContainer.react"),{errorMessage:this.state.videoFrameImagesError,hidden:this.state.showPreview||this.state.isFetchingFrameImages,showVideoButton:true},this.$AdsSlideshowDialogContainer5("add_button"),this.$AdsSlideshowDialogContainer7()),c("React").createElement(c("SlideshowVideoUploadContainer.react"),{hidden:this.state.showPreview||!this.state.isFetchingFrameImages},c("React").createElement(c("AdsSlideshowVideoUploadView.react"),null)))};f.exports=c("AdsFluxContainer").create(n,{withProps:true,name:f.id})}),null);
__d("SlideshowAnimotoDialog.react",["React","XUIDialog.react","XUIDialogBody.react","SlideshowMaker","DOM","ge"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=900;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.componentDidUpdate=function(l){if(l.showAnimotoDialog===this.props.showAnimotoDialog)return;if(this.props.showAnimotoDialog)new(c("SlideshowMaker"))({id:"animoto_container",onFinalize:this.props.onFinalize,onRenderComplete:this.props.onRenderComplete,onRenderError:this.props.onRenderError,onIframeClose:this.props.onIframeClose});else{var m=c("ge")("animoto_container");if(m!==null)c("DOM").empty(m)}};k.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{layerHideOnBlur:false,shown:this.props.showAnimotoDialog,width:j},c("React").createElement(c("XUIDialogBody.react"),{id:"animoto_container",style:{height:"674px",width:"900px"},useCustomPadding:true}))};function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("SlideshowThirdPartyCancelDialog.react",["cx","fbt","ix","CenteredContainer.react","Image.react","InlineBlock.react","React","SlideshowThirdPartyEvents","SlideshowThirdPartyTypedLogger","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogHeader.react","XUIDialogHeaderTitle.react","XUIGrayText.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=700;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$SlideshowThirdPartyCancelDialog1=function(t){if(!t)this.props.onCancel()}.bind(this),this.$SlideshowThirdPartyCancelDialog2=function(){if(this.props.slideshowDialogToShowFromQE==="shakr")new(c("SlideshowThirdPartyTypedLogger"))().setEvent(c("SlideshowThirdPartyEvents").SLIDESHOW_SHAKR_USE_ORIGINAL_SLIDESHOW).log();else if(this.props.slideshowDialogToShowFromQE==="animoto")new(c("SlideshowThirdPartyTypedLogger"))().setEvent(c("SlideshowThirdPartyEvents").SLIDESHOW_ANIMOTO_USE_ORIGINAL_SLIDESHOW).log();this.props.onShowBasicSlideshow()}.bind(this),p}n.prototype.$SlideshowThirdPartyCancelDialog3=function(){return c("React").createElement(c("XUIDialogHeader.react"),null,c("React").createElement(c("XUIDialogHeaderTitle.react"),null,i._("Cancel Slideshow")))};n.prototype.$SlideshowThirdPartyCancelDialog4=function(){return c("React").createElement(c("XUIDialogBody.react"),{style:{height:"350px"}},c("React").createElement(c("CenteredContainer.react"),null,c("React").createElement(c("Image.react"),{className:"_v33",src:j("99135")}),c("React").createElement(c("XUIText.react"),{className:"_2pif _2pim",display:"block",weight:"bold"},i._("Looking for the regular slideshow tool?")),c("React").createElement(c("XUIGrayText.react"),{display:"block"},i._("Create a new basic slideshow using images and text.")),c("React").createElement(c("XUIGrayText.react"),{display:"block"},i._("Any work that has been started will not be saved.")),this.$SlideshowThirdPartyCancelDialog5()))};n.prototype.$SlideshowThirdPartyCancelDialog5=function(){var o=i._("Exit Slideshow Tool"),p=i._("Use Basic Slideshow Tool");return c("React").createElement(c("InlineBlock.react"),{className:"_3-8-"},c("React").createElement(c("XUIButton.react"),{label:o,size:"xlarge",use:"default",onClick:this.props.onCancel}),c("React").createElement(c("XUIButton.react"),{label:p,size:"xlarge",use:"confirm",onClick:this.$SlideshowThirdPartyCancelDialog2}))};n.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{layerHideOnBlur:false,shown:this.props.showCancelDialog,width:m,onToggle:this.$SlideshowThirdPartyCancelDialog1},this.$SlideshowThirdPartyCancelDialog3(),this.$SlideshowThirdPartyCancelDialog4())};f.exports=n}),null);
__d("AdsCreateVideoButton.react",["cx","fbt","invariant","AdsApplicationIDs","AdsSlideshowDialogContainer.react","AdsTestIDs","CenteredContainer.react","ContextualLayerUpdateOnScroll","Link.react","React","ReactFragment","SimpleNUXMessage","SimpleNUXMessageTypes","SlideshowAnimotoDialog.react","SlideshowConstants","SlideshowThirdPartyCancelDialog.react","WebApiApplication","XUIAmbientNUX.react","XUIButton.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("SimpleNUXMessageTypes").CREATE_SLIDESHOW_ADS_NUX;k=babelHelpers.inherits(n,c("React").PureComponent);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.state={shouldShowNux:this.props.type==="button"&&!c("SimpleNUXMessage").hasUserSeenMessage(m)&&c("WebApiApplication").getClientID()!==c("AdsApplicationIDs").ADS_POWER_EDITOR},this.$AdsCreateVideoButton1=function(){c("SimpleNUXMessage").markMessageSeenByUser(m);this.setState({shouldShowNux:false})}.bind(this),p}n.prototype.render=function(){switch(this.props.type){case"button":return c("React").createElement("span",null,c("React").createElement(c("XUIButton.react"),{className:this.props.className,"data-testid":c("AdsTestIDs").OPEN_SLIDE_SHOW_BUTTON,disabled:this.props.disabled||this.props.isFetchingShakrAccessToken,label:this.props.buttonName,ref:"button",size:this.props.size,onClick:this.props.onShowDialog}),this.renderLayers(),c("React").createElement(c("SlideshowThirdPartyCancelDialog.react"),{showCancelDialog:this.props.showSlideshowThirdPartyCancelDialog,slideshowDialogToShowFromQE:this.props.slideshowDialogToShowFromQE,onCancel:this.props.onSlideshowThirdPartyCancel,onShowBasicSlideshow:this.props.onShowBasicSlideshowDialog}),c("React").createElement(c("SlideshowAnimotoDialog.react"),{showAnimotoDialog:this.props.showSlideshowAnimotoDialog,onFinalize:this.props.onSlideshowAnimotoFinalize,onIframeClose:this.props.onSlideshowAnimotoIframeClose,onRenderComplete:this.props.onSlideshowAnimotoRenderComplete,onRenderError:this.props.onSlideshowAnimotoRenderError}));case"box":return c("React").createElement("span",null,c("React").createElement(c("Link.react"),{className:this.props.className,onClick:this.props.onShowDialog},c("React").createElement(c("CenteredContainer.react"),{className:"_2rd9",vertical:true},c("React").createElement("div",{className:"_2npx"}))));default:j(0)}};n.prototype.renderLayers=function(){var o=null;if(this.props.dialogShown)o=c("React").createElement(c("AdsSlideshowDialogContainer.react"),{accountID:this.props.accountID,adEditWarningMessage:this.props.adEditWarningMessage,adgroupIDs:this.props.adgroupIDs,dialogShown:this.props.dialogShown,entrypoint:this.props.entrypoint,libraryImages:this.props.libraryImages,maxSelectedImages:this.props.maxSelectedImages,pageID:this.props.pageID,slideshowUploader:this.props.slideshowUploader,onCloseDialog:this.props.onCloseDialog});var p=this.props.type==="button"?c("React").createElement(c("XUIAmbientNUX.react"),{behaviors:{ContextualLayerUpdateOnScroll:c("ContextualLayerUpdateOnScroll")},contextRef:function(){return this.refs.button}.bind(this),position:"right",shown:this.state.shouldShowNux,onCloseButtonClick:this.$AdsCreateVideoButton1},i._({"*":{"*":"Use {Minimum number of images} - {Maximum number of images} images to create a slideshow video for your ad"}},[i._param("Minimum number of images",c("SlideshowConstants").min_photo_num,[0]),i._param("Maximum number of images",c("SlideshowConstants").max_photo_num,[0])])):null;return c("ReactFragment").create({buttonNux:p,dialog:o})};f.exports=n}),null);
__d("AdsSlideshowUploader",["invariant","AdsAccountCapabilities","AdsAccountUtils","AdsGraphAPI","AdsSelectedAccountGetter","AdsSlideshowActions","AdsSlideshowStore","AdsVideoEncodingAsyncNotifier","AdsVideoUploadUtil","ApiClient","CurrentLocale","SlideshowThirdPartyEvents","SlideshowThirdPartyTypedLogger","SlideshowUtil","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(k){return k>=200&&k<=299}function j(){this.$AdsSlideshowUploader4=function(k){var l=this.$AdsSlideshowUploader1?this.$AdsSlideshowUploader1.responseText:"Slideshow upload error "+k.type+": No request";this.__handleUploadFailure(new Error(l))}.bind(this)}j.prototype.__handleEncodingSuccess=function(k,l){c("abstractMethod")("AdsSlideshowUploader","__handleEncodingSuccess")};j.prototype.__handleUploadFailure=function(k){c("abstractMethod")("AdsSlideshowUploader","__handleUploadFailure")};j.prototype.upload=function(k,l,m,n,o,p,q){__p&&__p();var r=c("SlideshowUtil").getDurationParam(l.length,m,n),s=null;if(q&&o)s=q.map(function(y,z){return c("SlideshowUtil").getTextoverlayParam(y,(o||[])[z])});var t=void 0;try{var u=c("AdsSelectedAccountGetter").get({});t=u&&c("AdsAccountUtils").hasCapability(u,c("AdsAccountCapabilities").VIDEO_ADS_SLIDESHOW_HTTPREQUEST_UPLOAD)}catch(v){t=false}if(!t){c("AdsGraphAPI").get(f.id).adaccount(k).edge("advideos").post({slideshow_spec:{duration_ms:r.durationInMS,images_urls:l,images_crops:o,transition_ms:r.transitionInMS,storyline_mood_id:p,images_textoverlays:s}}).done(function(y){return this.$AdsSlideshowUploader2(y.id,k)}.bind(this),function(y){return this.__handleUploadFailure(y)}.bind(this));return}var w=new FormData();w.append("locale",c("CurrentLocale").get());w.append("slideshow_spec",JSON.stringify({duration_ms:r.durationInMS,images_urls:l,images_crops:o,transition_ms:r.transitionInMS,storyline_mood_id:p,images_textoverlays:s}));var x=c("AdsVideoUploadUtil").getPostEndpoint(c("ApiClient").getAccessToken(),k,null);this.$AdsSlideshowUploader1=new XMLHttpRequest();this.$AdsSlideshowUploader1&&this.$AdsSlideshowUploader1.open("POST",x,true);this.$AdsSlideshowUploader1&&this.$AdsSlideshowUploader1.send(w);this.$AdsSlideshowUploader1&&this.$AdsSlideshowUploader1.addEventListener("load",this.$AdsSlideshowUploader3.bind(this,k));this.$AdsSlideshowUploader1&&this.$AdsSlideshowUploader1.addEventListener("error",this.$AdsSlideshowUploader4)};j.prototype.uploadThirdPartySlideshow=function(k,l,m){c("AdsGraphAPI").get(f.id).adaccount(k).edge("advideos").post({file_url:l,container_type:m,creator_product:"SLIDESHOW"}).done(function(n){return this.$AdsSlideshowUploader2(n.id,k,m)}.bind(this),function(n){return this.__handleUploadFailure(n)}.bind(this))};j.prototype.abort=function(){this.$AdsSlideshowUploader5();this.$AdsSlideshowUploader1&&this.$AdsSlideshowUploader1.abort();this.$AdsSlideshowUploader1=null};j.prototype.$AdsSlideshowUploader5=function(){this.$AdsSlideshowUploader1&&this.$AdsSlideshowUploader1.removeEventListener("load",this.$AdsSlideshowUploader3.bind(this,null));this.$AdsSlideshowUploader1&&this.$AdsSlideshowUploader1.removeEventListener("error",this.$AdsSlideshowUploader4)};j.prototype.$AdsSlideshowUploader3=function(k,l){__p&&__p();var m=this.$AdsSlideshowUploader1&&this.$AdsSlideshowUploader1.responseText?JSON.parse(this.$AdsSlideshowUploader1.responseText).id:null;if(this.$AdsSlideshowUploader1&&!i(this.$AdsSlideshowUploader1.status)){this.__handleUploadFailure(new Error(this.$AdsSlideshowUploader1.responseText));return}!!m||h(0);c("AdsSlideshowActions").setSelectedVideoID(m);var n=new(c("AdsVideoEncodingAsyncNotifier"))(m);n.setOnStatusUpdateListener(function(){if(c("AdsSlideshowStore").getCancelledVideoIDs().has(m))return;this.$AdsSlideshowUploader6()}.bind(this));n.setOnFailedListener(function(o){if(c("AdsSlideshowStore").getCancelledVideoIDs().has(m)){c("AdsSlideshowActions").removeCancelledSlideshowUpload(m);return}this.__handleUploadFailure(o)}.bind(this));n.setOnSuccessListener(function(o){if(c("AdsSlideshowStore").getCancelledVideoIDs().has(m)){c("AdsSlideshowActions").removeCancelledSlideshowUpload(m);return}!!k||h(0);this.__handleEncodingSuccess(o,k)}.bind(this));n.start()};j.prototype.$AdsSlideshowUploader2=function(k,l,m){__p&&__p();var n=new(c("AdsVideoEncodingAsyncNotifier"))(k);n.setOnStatusUpdateListener(function(){return this.$AdsSlideshowUploader6()}.bind(this));n.setOnFailedListener(function(o){this.$AdsSlideshowUploader7(m,k,false);this.__handleUploadFailure(o)}.bind(this));n.setOnSuccessListener(function(o){this.$AdsSlideshowUploader7(m,k,true);this.__handleEncodingSuccess(o,l)}.bind(this));n.start()};j.prototype.$AdsSlideshowUploader7=function(k,l,i){if(k){var m=void 0;if(k==="SLIDESHOW_SHAKR")m=i?c("SlideshowThirdPartyEvents").SLIDESHOW_SHAKR_VIDEO_ENCODING_COMPLETED:c("SlideshowThirdPartyEvents").SLIDESHOW_SHAKR_VIDEO_ENCODING_FAILED;else if(k==="SLIDESHOW_ANIMOTO")m=i?c("SlideshowThirdPartyEvents").SLIDESHOW_ANIMOTO_VIDEO_ENCODING_COMPLETED:c("SlideshowThirdPartyEvents").SLIDESHOW_ANIMOTO_VIDEO_ENCODING_FAILED;if(m)new(c("SlideshowThirdPartyTypedLogger"))().setEvent(m).setVideoID(l).log()}};j.prototype.$AdsSlideshowUploader6=function(){};f.exports=j}),null);
__d("AdsCreateVideoButtonContainer.react",["fbt","AdsCreateVideoButton.react","AdsImageListStore","AdsImageListStoreRecord","AdsImageStore","AdsLoadStateUtils_LEGACY","AdsSlideshowActions","AdsSlideshowExperimentStoreUtils","AdsSlideshowLoggingStore","AdsSlideshowStore","AdsSlideshowUploader","AdsVideoFrameImagesStore","FluxMixinLegacy","React","ReactComponentWithPureRenderMixin","SlideshowEntrypoint"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").PropTypes,j=c("React").createClass({displayName:"AdsCreateVideoButtonContainer",mixins:[c("ReactComponentWithPureRenderMixin"),c("FluxMixinLegacy")([c("AdsImageListStore"),c("AdsImageStore"),c("AdsSlideshowLoggingStore"),c("AdsSlideshowStore"),c("AdsVideoFrameImagesStore")],{withProps:true})],propTypes:{accountID:i.string.isRequired,adEditWarningMessage:i.node,adgroupIDs:i.arrayOf(i.string),buttonName:i.string.isRequired,className:i.string,disabled:i.bool.isRequired,entrypoint:i.oneOf(Object.values(c("SlideshowEntrypoint"))).isRequired,maxSelectedImages:i.number.isRequired,pageID:i.string,size:i.oneOf(["medium","large","xlarge"]).isRequired,slideshowUploader:i.instanceOf(c("AdsSlideshowUploader")).isRequired,type:i.oneOf(["button","box"]).isRequired,onCloseDialog:i.func,onShowDialog:i.func},getDefaultProps:function k(){return{buttonName:h._("Create Slideshow"),disabled:false,size:"xlarge",type:"button"}},statics:{calculateState:function k(l,m){var n=m.accountID,o=new(c("AdsImageListStoreRecord"))({accountID:n}),p=c("AdsImageListStore").get(o),q=p.getValue()||{},r=q.imageList||[],s=c("AdsImageStore").getAllFor(n,r),t=c("AdsLoadStateUtils_LEGACY").getLoadedValues(s),u=c("AdsSlideshowStore").shouldShowSlideshowDialog(),v=c("AdsSlideshowExperimentStoreUtils").getSlideshowDialogInThirdPartyExperiment(n),w=c("AdsSlideshowStore").shouldShowSlideshowThirdPartyCancelDialog(),x=c("AdsSlideshowStore").shouldShowSlideshowAnimotoDialog(),y=c("AdsSlideshowStore").isFetchingShakrAccessToken();return{dialogShown:u,imageList:t,isFetchingShakrAccessToken:y,slideshowDialogToShowFromQE:v,showSlideshowThirdPartyCancelDialog:w,showSlideshowAnimotoDialog:x}}},componentDidMount:function k(){c("AdsSlideshowActions").setEntrypoint(this.props.entrypoint)},_onShowSlideshowDialog:function k(){c("AdsSlideshowActions").showSlideshowDialogByQE(this.state.slideshowDialogToShowFromQE,this.props.entrypoint,this.props.slideshowUploader,this.props.adgroupIDs)},render:function k(){return c("React").createElement(c("AdsCreateVideoButton.react"),{accountID:this.props.accountID,adEditWarningMessage:this.props.adEditWarningMessage,adgroupIDs:this.props.adgroupIDs,buttonName:this.props.buttonName,className:this.props.className,dialogShown:this.state.dialogShown,disabled:this.props.disabled,entrypoint:this.props.entrypoint,isFetchingShakrAccessToken:this.state.isFetchingShakrAccessToken,libraryImages:this.state.imageList,maxSelectedImages:this.props.maxSelectedImages,pageID:this.props.pageID,showSlideshowAnimotoDialog:this.state.showSlideshowAnimotoDialog,showSlideshowThirdPartyCancelDialog:this.state.showSlideshowThirdPartyCancelDialog,size:this.props.size,slideshowDialogToShowFromQE:this.state.slideshowDialogToShowFromQE,slideshowUploader:this.props.slideshowUploader,type:this.props.type,onCloseDialog:this.props.onCloseDialog?this.props.onCloseDialog:c("AdsSlideshowActions").closeSlideshowDialog,onConfirm:c("AdsSlideshowActions").selectImagesConfirm,onShowBasicSlideshowDialog:c("AdsSlideshowActions").showSlideshowDialog,onShowDialog:this.props.onShowDialog?this.props.onShowDialog:this._onShowSlideshowDialog,onSlideshowAnimotoFinalize:c("AdsSlideshowActions").animotoFinalize,onSlideshowAnimotoIframeClose:c("AdsSlideshowActions").hideAnimotoDialog,onSlideshowAnimotoRenderComplete:c("AdsSlideshowActions").animotoRenderComplete,onSlideshowAnimotoRenderError:c("AdsSlideshowActions").animotoRenderError,onSlideshowThirdPartyCancel:c("AdsSlideshowActions").closeThirdPartySlideshowCancelDialog})}});f.exports=j}),null);
__d("AbstractFakeProgressBar.react",["React","fakeProgress"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(){__p&&__p();var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={active:false,fakeProgressToken:null,value:0},this.updateValue=function(q){this.setState({value:q})}.bind(this),this.start=function(){if(this.state.active)return;this.setState({value:0,active:true,fakeProgressToken:c("fakeProgress")(this.props.expectedTime,this.updateValue)})}.bind(this),this.stop=function(){if(this.state.fakeProgressToken)this.state.fakeProgressToken.stop();this.setState({active:false,fakeProgressToken:null})}.bind(this),this.stopAndReset=function(){this.stop();this.setState({value:0})}.bind(this),m}k.prototype.componentDidMount=function(){if(this.props.autostart)this.start()};k.prototype.componentWillUnmount=function(){if(this.state.fakeProgressToken)this.state.fakeProgressToken.stop()};k.prototype.render=function(){return this.props.progressBarRenderer(this.state.value)};k.propTypes={autostart:j.bool.isRequired,expectedTime:j.number.isRequired,progressBarRenderer:j.func.isRequired};k.defaultProps={expectedTime:3,autostart:true};f.exports=k}),null);
__d("AdsFakeProgressBar.react",["AbstractFakeProgressBar.react","AdsXUIProgressBar.react","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$AdsFakeProgressBar1=function(q){return c("React").createElement(c("AdsXUIProgressBar.react"),babelHelpers["extends"]({},this.props,{value:q*100}))}.bind(this),m}k.prototype.render=function(){return c("React").createElement(c("AbstractFakeProgressBar.react"),{autostart:this.props.autostart,expectedTime:this.props.expectedTime,progressBarRenderer:this.$AdsFakeProgressBar1})};k.propTypes={autostart:j.bool,expectedTime:j.number};f.exports=k}),null);
__d("PagesCalloutStore",["FluxReduceStore","PagesCalloutActions","PagesCalloutDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.__moduleID=f.id,l}j.prototype.getInitialState=function(){return{channelID:null,eligible:{},pageID:null,showing:[],surface:"unknown"}};j.prototype.reduce=function(k,l){__p&&__p();var m=babelHelpers["extends"]({},k);switch(l.type){case c("PagesCalloutActions").INIT_SURFACE:return{channelID:l.data.channelID,eligible:{},pageID:l.data.pageID,showing:[],surface:l.data.surface};case c("PagesCalloutActions").REGISTER_CALLOUT:if(!l.data.tip_id||l.data.tip_id==="")break;m.eligible=babelHelpers["extends"]({},k.eligible);m.eligible[l.data.tip_id]=babelHelpers["extends"]({},l.data);break;case c("PagesCalloutActions").SHOW_CALLOUT:m.showing.push(l.data.tip_id);break;case c("PagesCalloutActions").DISMISS_CALLOUT:var n=m.showing.indexOf(l.data.tip_id);if(n!=null)m.showing.splice(n,1);break}return m};f.exports=new j(c("PagesCalloutDispatcher"))}),null);
__d("XPageCalloutAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/callout/",{pageid:{type:"Int",required:true},tip_ids:{type:"IntVector"}})}),null);
__d("PagesCalloutHelper",["AsyncRequest","AYMTClientSideLogging","BasicFBNux","PagesCalloutActions","PagesCalloutDispatcher","PagesCalloutStore","Run","XPageCalloutAsyncController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={_initSurface:function i(j,k,l){c("PagesCalloutDispatcher").dispatch({data:{surface:l,pageID:j,channelID:k},type:c("PagesCalloutActions").INIT_SURFACE})},registerNux:function i(j,k,l){if(j.length===0)return;var m=function(){return this._showCalloutAndListenToClose(j,k,true)}.bind(this),n=l?{tip_id:j,showCallback:m,nux_id:l}:{tip_id:j,showCallback:m};c("PagesCalloutDispatcher").dispatch({type:c("PagesCalloutActions").REGISTER_CALLOUT,data:n})},registerCallout:function i(j,k,l){if(j.length===0)return;var m=function(){return this._showCalloutAndListenToClose(j,k,false)}.bind(this),n=l?{tip_id:j,showCallback:m,nux_id:l}:{tip_id:j,showCallback:m};c("PagesCalloutDispatcher").dispatch({type:c("PagesCalloutActions").REGISTER_CALLOUT,data:n})},showCalloutAfterLoading:function i(j,k,l){c("PagesCalloutDispatcher").explicitlyRegisterStore(c("PagesCalloutStore"));this._initSurface(j,k,l);c("Run").onAfterLoad(function(){return this._pickAndShowCallout()}.bind(this))},logClick:function i(j){c("AYMTClientSideLogging").logClick(j,c("PagesCalloutStore").getState().channelID)},logXout:function i(j){c("AYMTClientSideLogging").logXout(j,c("PagesCalloutStore").getState().channelID);var k=c("PagesCalloutStore").getState().eligible[j];if(k&&k.nux_id)c("BasicFBNux").onDismiss(k.nux_id)},_pickAndShowCallout:function i(){var j=c("PagesCalloutStore").getState();if(j.showing.length>0)return;var k=c("XPageCalloutAsyncController").getURIBuilder().setInt("pageid",j.pageID).setIntVector("tip_ids",Object.keys(j.eligible)).getURI();new(c("AsyncRequest"))().setHandler(function(l){this._showCalloutAndLog(l.payload)}.bind(this)).setURI(k).send()},_showCalloutAndLog:function i(j){__p&&__p();if(!j)return;var k=c("PagesCalloutStore").getState().eligible[j];if(!k)return;var l=k.showCallback;if(!l)return;var m=c("PagesCalloutStore").getState();if(m.showing.length>0)return;l.apply();c("AYMTClientSideLogging").logImpression(j,m.channelID);if(k.nux_id)c("BasicFBNux").onView(k.nux_id)},_showCalloutAndListenToClose:function i(j,k,l){if(!k.isShown()){k.show();c("PagesCalloutDispatcher").dispatch({type:c("PagesCalloutActions").SHOW_CALLOUT,data:{tip_id:j}});k.subscribe("hide",function(){c("PagesCalloutDispatcher").dispatch({type:c("PagesCalloutActions").DISMISS_CALLOUT,data:{tip_id:j}});this.logXout(j)}.bind(this))}}};f.exports=h}),null);
__d("promiseLoadObjects",["Promise","LoadObject"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(k){__p&&__p();return new(c("Promise"))(function(l,m){__p&&__p();var n,o=new Map();function p(){if(o.size===k.size)l(o)}var q=function q(v){var w=v[0],x=v[1];x.then(function(y){o.set(w,i(y));p()})["catch"](function(y){o.set(w,j(y));p()})};for(var r=k,s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(t>=r.length)break;u=r[t++]}else{t=r.next();if(t.done)break;u=t.value}var v=u;q(v)}})}function i(k){return c("LoadObject").withValue(k)}function j(k){return c("LoadObject").withError(k)}f.exports=h}),null);