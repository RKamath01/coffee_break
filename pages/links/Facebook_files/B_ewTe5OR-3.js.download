if (self.CavalryLogger) { CavalryLogger.start_js(["8jGHK"]); }

__d("BasicTypeaheadLoggerJSConstants",[],(function a(b,c,d,e,f,g){f.exports={EventNames:{ADS_TARGETING:"ads_targeting",MENTIONS:"mentions",TINDER_MENTIONS:"tinder_mentions",REACT_COMPOSER_MENTIONS:"react_composer_mentions",PHOTO_TAGGER:"photo-tagger",PROFILE:"profile",TIMELINE_COLLECTION:"timeline_collection",OGCOMPOSER_TAGGER:"ogcomposer-tagger",PLACES_TYPEAHEAD:"places_typeahead",CHAT_MENTIONS_ENTITIES:"chat_mentions_entities",REACT_COMPOSER_OG_TAGGER:"react_composer_og_tagger",REACT_SHARE_DIALOG_OG_TAGGER:"react_share_dialog_og_tagger",REACT_COMPOSER_LOCATION_TAGGER:"react_composer_location_tagger",REACT_SHARE_DIALOG_LOCATION_TAGGER:"react_share_dialog_location_tagger",GROUP_SEARCH_TA:"group_search_ta"},Fields:{EVENT:"event",STRATEGY_NAME:"strategy_name",HAS_INTENT_MENTION:"has_intent_mention",USER_ID:"userid",SELECTED_POSITION:"selected_position",SELECTED_ID:"selected_id",QUERIES_HISTORY:"queries_history",NUM_QUERIES:"num_queries",CANDIDATE_RESULTS:"candidate_results",CANDIDATE_RESULTS_ADS:"candidate_results_ads",QUERY:"query",LAST_NOT_BACKSPACED_QUERY:"last_not_backspaced_query",REQUEST_ID:"request_id",REQUEST_IDS_HISTORY:"request_ids_history",SESSION_ID:"session_id",SESSION_TIME:"session_time",NORMALIZED_BACKEND_QUERY:"normalized_backend_query",SELECTED_TYPE:"selected_type",SELECTED_QUERY:"selected_query",SELECTED_ORIGINAL_ID:"selected_original_id",SELECTED_SCORE:"selected_score",PLACE_ID:"place_id",CLIENT_TIME:"client_time",TIMEZONE:"timezone",TIMEZONE_ID:"timezone_id",ACTION_TYPE_ID:"action_type_id",SELECTED_ID_INT:"selected_id_int",CLICK:"click",FILTERED_CANDIDATE_RESULTS:"filtered_candidate_results",FBTYPE:"fbtype",PAGE:"page",PAGE_VISIBILITY_DUMMY:"page_visibility_dummy",SEARCH_VERSION:"search_version",GK_STATUS:"gk_status",QE_GROUP:"qe_group",EVENT_SPECIFIC_DATA:"event_specific_data",REF:"ref",SOURCE:"source",GEO_PROFILE_COUNTRY:"geo_profile_country",CURRENT_GEO_PROFILE:"current_geo_profile",CURRENT_CITY_GLOBAL_ID:"current_city_global_id",CURRENT_REGION_ID:"current_region_id",CURRENT_COUNTRY:"current_country",COLLECTION_DATA:"collection_data",FILTERED_COUNT:"filtered_count",GOOD_CLICK:"good_click",GOOD_CLICK_INT:"good_click_int",FALLBACK_CLICK:"fallback_click",ENTITY_CLICK:"entity_click",ENTITY_CLICK_INT:"entity_click_int",HAD_RESULTS:"had_results",NUM_RESULTS:"num_results",PAGE_CATEGORY:"page_category",PAGE_VISIBILITY:"page_visibility",PAGE_IS_AUTHENTIC:"page_is_authentic",PRECISION:"precision",EVENT_CONTEXT:"event_context",PAGE_SOURCE:"page_source",ENTITY_TYPE:"entity_type",EVENT_VALID:"event_valid",QUERY_LENGTH:"query_length",FIRST_RESULT:"first_result",HAD_DUPLICATES:"had_duplicates",COMPLETE_APP_COUNT:"complete_app_count",APP_COLLECTION_SIZE:"app_collection_size",COLLECTION_SIZE:"collection_size",NON_EMPTY_FRIENDS_COUNT:"non_empty_friends_count",CAROUSEL_COLLECTION_SIZE:"carousel_collection_size",QUALITY_ACCURACY:"quality_accuracy",SELECTED_WITH_MOUSE:"selected_with_mouse",AVG_QUERY_LATENCY:"avg_query_latency",IS_EMPLOYEE:"is_employee",PROFILE_SECTION:"profile_section",TYPEAHEAD_SOURCE:"typeahead_source",MINUTIAE_COMPOSER_VERSION:"minutiae_composer_version",LAST_QUERY_LATENCY:"last_query_latency",AD_ACCOUNT_ID:"ad_account_id",SUGGESTION_MODE:"suggestion_mode",NEXT_SUGGESTION_MODE:"next_suggestion_mode"},MinutiaeComposerVersions:{LEGACY:"legacy",LEGACY_TOKENIZED:"legacy_tokenized",REACT:"react"}}}),null);
__d("PhotosUploadWaterfallErrorCodes",[],(function a(b,c,d,e,f,g){f.exports={SECURITY:1,FILE_IO:2,IMAGE_IO:3,UPLOAD_IO:4,INVALID_SERVER_RESULT:5,RESIZE_FAILURE:6,ENCODE_FAILURE:7,INVALID_DOMAIN:8,BAD_JPEG_MARKERS:9,BAD_SERVER_RESPONSE:10,EXTERNAL_INTERFACE_UNAVAILABLE:11,JS_CALL_FAILED:12,UNCAUGHT_ERROR:13,UPLOAD_SWF_FAILED_LOAD:14,FILE_IO_TIMEOUT:15,IMAGE_SECURITY:16,BAD_IMAGE_FILE:17,IMAGE_IO_TIMEOUT:18,BLACK_PHOTO:19,EMPTY_FILE_LOADED:20,FILE_READ_DISABLED:21,BAD_NETWORK:22,FLASH_LOAD_TIMEOUT:23,FLASH_LOAD_FAILURE:24,FLASH_UPGRADE_REQUIRED:25,SPHERICAL_CHECK_FAILED:26,SPHERICAL_CHECK_TIMEOUT:27}}),null);
__d("ReactComposerTypeaheadSearchSourceConfig",[],(function a(b,c,d,e,f,g){f.exports={ACTIVITY:{action:{auxiliaryFields:{default_icon:"default_icon",icon:"icon",original_id:"original_id",prompt:"prompt"}},object:{auxiliaryFields:{icon:"icon",icon_src:"icon_src",original_id:"original_id",verified:"is_verified"}}},LOCATION:{include_likes:false,include_subtext:true,include_address:1,exact_match:false,map_height:null,map_width:null,use_unicorn:true,allow_places:true,allow_cities:true,render_map:false,limit:15,use_searchable_entries:true}}}),null);
__d("TaggingLimits",[],(function a(b,c,d,e,f,g){f.exports={MAX_WITH_TAGS:100,MAX_SPONSOR_TAGS:1}}),null);
__d("ProgressBar.react",["cx","React","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){__p&&__p();var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$UIProgressBar1=function(){var r=this.props,s=Math.min(Math.max((r.value-r.min)/(r.max-r.min)*100,0),100);return s}.bind(this),this.$UIProgressBar2=function(){return this.props.label!=null&&this.props.size!=="small"}.bind(this),this.$UIProgressBar3=function(){return this.$UIProgressBar2()&&this.props.typesetting==="float"}.bind(this),this.$UIProgressBar4=function(){if(!this.$UIProgressBar2())return null;return this.props.label}.bind(this),this.$UIProgressBar5=function(){if(this.$UIProgressBar3())return c("React").createElement("div",{className:"_6a"}," ");return null}.bind(this),this.$UIProgressBar6=function(){var r=Math.round(this.$UIProgressBar1()),s="_5e4k"+(r===0?" _5e2d":"")+(r===100?" _5e4j":""),t=this.$UIProgressBar4();if(t)t=c("React").createElement("span",{className:"_5e2h"},t);var u=c("React").createElement("div",{className:s,style:{width:r+"%"}},this.$UIProgressBar5(),t);return u}.bind(this),this.$UIProgressBar7=function(){var r=this.$UIProgressBar4();if(!r)return null;r=c("React").createElement("span",{className:"_5e2h _5e2n"},r);if(this.$UIProgressBar3()){var s=this.$UIProgressBar1(),t={left:s+"%",width:s+"%"},u=c("React").createElement("div",{className:"_5e2g",style:t},this.$UIProgressBar5(),r);return u}return r}.bind(this),n}l.prototype.render=function(){"use strict";var m="_5e4h"+(!this.$UIProgressBar3()?" _5e2k":"")+(this.$UIProgressBar3()?" _5e2j":"")+(this.props.size==="small"?" _5e2l":"")+(this.props.isRounded===true?" _5e2m":"");if(this.$UIProgressBar3())return c("React").createElement("div",babelHelpers["extends"]({},this.props,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":this.$UIProgressBar1(),className:c("joinClasses")(this.props.className,m)}),c("React").createElement("div",{className:"_5e2k"},this.$UIProgressBar7(),this.$UIProgressBar6()));else return c("React").createElement("div",babelHelpers["extends"]({},this.props,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":this.$UIProgressBar1(),className:c("joinClasses")(this.props.className,m)}),this.$UIProgressBar7(),this.$UIProgressBar6())};l.propTypes={value:k.number.isRequired,label:k.oneOfType([k.string,k.element]),min:k.number,max:k.number,size:k.oneOf(["small","large"]),typesetting:k.oneOf(["float","inline"]),isRounded:k.bool};l.defaultProps={min:0,max:100,size:"large",typesetting:"inline",isRounded:false};f.exports=l}),null);
__d("Collection",[],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){if(!i.__collection__){var k=new Function();for(var l in i.prototype)k.prototype[l]=h._call.bind(null,l);i.__collection__=k}var m=new i.__collection__();m._elements=j;return m}h._call=function(i){var j=Array.prototype.slice.call(arguments,1);this._elements.forEach(function(k){k[i].apply(k,j)});return this};f.exports=h}),null);
__d("Drag",["Event","Arbiter","DOM","Style","Vector"],(function a(b,c,d,e,f,g){__p&&__p();var h={};h.currentDraggable=null;h.grab=function(i){if(h.currentDraggable)h._onmouseup();i.lastDragOver=null;h.attachDragEvents();h.currentDraggable=i};h.attachDragEvents=function(){document.onselectstart=function(){document.onselectstart=null;return false};if(h.dragEventsAttached)return;h.dragEventsAttached=true;c("Arbiter").subscribe("scroller/scroll",h._onmousemove);c("Event").listen(document,{mousemove:h._onmousemove,mouseup:h._onmouseup})};h.droppables={};h.addDroppable=function(i,j){(h.droppables[i]=h.droppables[i]||[]).push(j)};h.removeDroppable=function(i,j){h.droppables[i]=h.droppables[i].filter(function(k){return k!=j})};h.getOffsetParent=function(i){if(c("DOM").isNodeOfType(i,["body","html"]))return document.body;while((i=i.parentNode)&&i!==document.body)if(c("Style").get(i,"position")!=="static")return i;return document.body};h._onmousemove=function(event,i){__p&&__p();if(!h.currentDraggable)return;var j=i||c("Vector").getEventPosition(event),k=h.currentDraggable,l=h.droppables[k.namespace];if(k.namespace&&k.active&&l){var m={};l.forEach(function(s){m[s.zIndex]=s.zIndex});var n=[];for(var o in m)n.push(m[o]);n.sort();var p=k.lastDragOver,q=null;for(var r=n.length-1;r>=0;r--)if(p&&p.dom!=null&&p.zIndex==n[r]&&p.isDraggedOver(j)){q=p;break}else{p&&p.ondragout&&p.ondragout(k);for(o=0;o<l.length;o++){if(n[r]!=l[o].zIndex)continue;if(p!=l[o]&&k.dom!=l[o].dom&&l[o].isDraggedOver(j)){q=l[o];r=-1;break}}}if(q&&q!=p){q.ondragover(k);h.currentDraggable.adjustCursorPosition()}if(q)q.ondragmove(k,j.sub(c("Vector").getElementPosition(q.dom)));k.lastDragOver=q}h.currentDraggable._onmousemove(j)};h._onmouseup=function(i){document.onselectstart=null;if(h.currentDraggable){h.currentDraggable._ondrop();h.currentDraggable=null}};f.exports=h}),null);
__d("Draggable",["Event","Arbiter","Collection","DOM","Drag","Rect","Style","Vector","emptyFunction"],(function a(b,c,d,e,f,g){__p&&__p();function h(j){"use strict";this.canvas=j;this.scrollZone=50;this.velocity=100;this.coefficient=1}h.prototype.activate=function(){"use strict";this.activate=c("emptyFunction");this.event=c("Event").listen(document,"mousemove",this._onmousemove.bind(this));this.interval=setInterval(this._intervalHandler.bind(this),50);this.cursor=null};h.prototype.deactivate=function(){"use strict";delete this.activate;this.event&&this.event.remove();this.event=null;clearInterval(this.interval)};h.prototype._onmousemove=function(event){"use strict";this.cursor=c("Vector").getEventPosition(event)};h.prototype._intervalHandler=function(){"use strict";__p&&__p();if(!this.cursor)return;var j=this.canvas==document.body?c("Rect").getViewportBounds():new(c("Rect"))(this.canvas),k=new(c("Rect"))(this.cursor.y-j.t,j.r-this.cursor.x,j.b-this.cursor.y,this.cursor.x-j.l),l=new(c("Vector"))(0,0);if(k.t<k.b&&k.t<this.scrollZone)l.y=-this.scrollZone+k.t;else if(k.b<this.scrollZone)l.y=this.scrollZone-k.b;l.y=this._doMath(l.y);if(k.l<k.r&&k.l<this.scrollZone)l.x=-this.scrollZone+k.l;else if(k.r<this.scrollZone)l.x=this.scrollZone-k.r;l.x=this._doMath(l.x);if(l.x||l.y){l.scrollElementBy(this.canvas);if(document.body==this.canvas){var m=c("Vector").getScrollPosition();l.scrollElementBy(this.canvas);var n=c("Vector").getScrollPosition();this.cursor=this.cursor.add(n.sub(m))}else l.scrollElementBy(this.canvas);c("Arbiter").inform("scroller/scroll",this.cursor)}};h.prototype._doMath=function(j){"use strict";j=j>=0?Math.min(j,this.scrollZone):Math.max(j,-this.scrollZone);return Math.floor(Math.pow(j/this.scrollZone*this.velocity,this.coefficient))};h.findScrollParent=function(j){"use strict";__p&&__p();var k;j=j.parentNode;while(j){if(j.scrollHeight!=j.offsetTop){k=c("Style").get(j,"overflowY");if(k=="scroll"||k=="auto")return j}j=j.parentNode}return document.body};function i(j){"use strict";__p&&__p();if(!j)throw new Error("Element should be a DOM node");if(!(this instanceof i))if(j instanceof Array){var k=[];j.forEach(function(l){k.push(new i(l))});return new(c("Collection"))(i,k)}else return new i(j);else{this.data={};this.handles=[];this.dom=j;this.boundingBox=null;this.useScroller=true;this.scrollParents=null;this.manualPositioner=null;this.grabPctX=this.grabPctY=0;this._shouldKillEvents=true;this.addHandle(this.dom)}}i.prototype.destroy=function(){"use strict";this.handles.forEach(function(j){this.removeHandle(j.obj)}.bind(this));this.data=this.dom=null};i.prototype.adjustCursorPosition=function(){"use strict";var j=c("Vector").getElementDimensions(this.dom);this.cursorPositionVector=new(c("Vector"))(parseInt(this.grabPctX*j.x,10),parseInt(this.grabPctY*j.y,10))};i.prototype._onclick=function(event){"use strict";if(!this._shouldKillEvents)return true;if(this.active)return c("Event").kill(event)};i.prototype._ongrab=function(j){"use strict";__p&&__p();this.ongrab(j);if(this.useScroller){if(!this.scrollers)this.scrollers=this.scrollParents?this.scrollParents.map(function(l){return new h(l)}):[new h(h.findScrollParent(this.dom))];this.scrollers.forEach(function(l){return l.activate()})}if(this.active){if(!this.oldPosition)this.oldPosition=this.dom.style.position;var k=c("Drag").getOffsetParent(this.dom);if(k!==document.body)j=j.sub(c("Vector").getElementPosition(k));this.dom.style.position=this.absolute?"absolute":"relative";j.sub(this.cursorPositionVector).setElementPosition(this.dom)}};i.prototype._onmousedown=function(event){"use strict";__p&&__p();if(!(event.which&&event.which===1||event.button&&event.button===1))return;var j=event.getTarget();if(c("DOM").isNodeOfType(j,["input","select","textarea","object","embed"]))return true;var k=c("Vector").getEventPosition(event),l=c("Vector").getElementDimensions(this.dom);this.draggableInitialVector=c("Vector").getElementPosition(this.dom);this.cursorPositionVector=k.sub(this.draggableInitialVector);this.grabPctX=l.x===0?0:this.cursorPositionVector.x/l.x;this.grabPctY=l.y===0?0:this.cursorPositionVector.y/l.y;c("Drag").grab(this,event);if(this.gutter)this.cursorInitialVector=k;else{this._setActive(true);this._ongrab(k)}if(!this._shouldKillEvents)return true;return c("Event").kill(event)};i.prototype._onmousemove=function(j){"use strict";__p&&__p();if(!this.active)if(j.distanceTo(this.cursorInitialVector)>=this.gutter){this._setActive(true);this._ongrab(j)}if(this.active){var k=j.sub(this.cursorPositionVector),l;if(this.boundingBox){var m=c("Rect").newFromVectors(k,c("Vector").getElementDimensions(this.dom));m=m.boundWithin(this.boundingBox);k=m.getPositionVector();if(this.boundingBox.w()===0)l=new(c("Vector"))(this.draggableInitialVector.x,k.y,"document");else if(this.boundingBox.h()===0)l=new(c("Vector"))(k.x,this.draggableInitialVector.y,"document");else l=k}else l=k;var n=c("Drag").getOffsetParent(this.dom);if(n!==document.body)l=l.sub(c("Vector").getElementPosition(n));if(this.manualPositioner)this.manualPositioner.updateMousePosition(l);else l.setElementPosition(this.dom);this.ondrag(j)}};i.prototype._ondrop=function(){"use strict";__p&&__p();this.scrollers&&this.scrollers.forEach(function(j){return j.deactivate()});if(this.active){setTimeout(function(){this._setActive(false)}.bind(this),0);this.ondrop(this.scrollers&&this.scrollers[0].cursor);if(this.lastDragOver)this.lastDragOver.ondrop(this)}};i.prototype.killDrag=function(){"use strict";this._setActive(false);c("Drag")._onmouseup()};i.prototype.forceDrop=function(){"use strict";c("Drag")._onmouseup()};i.prototype.triggerMouseDown=function(event){"use strict";this._onmousedown(event)};i.prototype.setBoundingBox=function(j){"use strict";this.boundingBox=j;return this};i.prototype.resetPosition=function(){"use strict";this.dom.style.position=this.oldPosition;this.oldPosition=null;this.dom.style.left="";this.dom.style.top="";return this};i.prototype.setUseAbsolute=function(j){"use strict";this.absolute=j;return this};i.prototype.setDragHandler=function(j){"use strict";this.ondrag=j;return this};i.prototype.setGrabHandler=function(j){"use strict";this.ongrab=j;return this};i.prototype.setDropHandler=function(j){"use strict";this.ondrop=j;return this};i.prototype.setGutter=function(j){"use strict";this.gutter=j;return this};i.prototype.setNamespace=function(j){"use strict";this.namespace=j;return this};i.prototype.setUseScroller=function(j){"use strict";this.useScroller=j;return this};i.prototype.setScrollParents=function(j){"use strict";this.scrollParents=j;return this};i.prototype.setAvoidKillingEvents=function(j){"use strict";this._shouldKillEvents=!j;return this};i.prototype.setManualPositioner=function(j){"use strict";this.manualPositioner=j;return this};i.prototype.addHandle=function(j){"use strict";if(this.handles.length==1&&this.handles[0].obj==this.dom)this.removeHandle(this.dom);this.handles.push({obj:j,evt:[c("Event").listen(j,"mousedown",this._onmousedown.bind(this)),c("Event").listen(j,"click",this._onclick.bind(this)),c("Event").listen(j,"drag",this._killUnlessActive.bind(this)),c("Event").listen(j,"selectstart",this._killUnlessActive.bind(this))]});return this};i.prototype.removeHandle=function(j){"use strict";this.handles=this.handles.filter(function(k){if(k.obj!=j)return true;else{k.evt.forEach(function(l){l.remove()});return false}})};i.prototype.getDOM=function(){"use strict";return this.dom};i.prototype.setKey=function(j,k){"use strict";this.data[j]=k;return this};i.prototype.getKey=function(j){"use strict";return this.data[j]};i.prototype._setActive=function(j){"use strict";if(!this.dom)return;this.dom.activeDrag=this.active=j;for(var k=0;k<this.handles.length;k++)this.handles[k].obj.activeDrag=j};i.prototype._killUnlessActive=function(j){"use strict";if(!this._shouldKillEvents)return;if(j.getTarget()!==document.activeElement)return j.kill()};i.prototype.ondrag=c("emptyFunction");i.prototype.ongrab=c("emptyFunction");i.prototype.ondrop=c("emptyFunction");i.prototype.gutter=0;i.prototype.handles=null;f.exports=i}),null);
/**
 * License: https://www.facebook.com/legal/license/szRD2xg2JXY/
 */
__d("exif-js-2.3.0",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={},i={exports:h},j;function k(){__p&&__p();(function(){__p&&__p();var o=false,p=this,q=function(N){if(N instanceof q)return N;if(!(this instanceof q))return new q(N);this.EXIFwrapped=N};if(typeof h!=="undefined"){if(typeof i!=="undefined"&&i.exports)h=i.exports=q;h.EXIF=q}else p.EXIF=q;var r=q.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},s=q.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},t=q.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},u=q.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},v=q.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function w(N){return!!N.exifdata}function x(N,O){O=O||N.match(/^data\:([^\;]+)\;base64,/im)[1]||"";N=N.replace(/^data\:([^\;]+)\;base64,/gim,"");var P=atob(N),Q=P.length,R=new ArrayBuffer(Q),S=new Uint8Array(R);for(var T=0;T<Q;T++)S[T]=P.charCodeAt(T);return R}function y(N,O){var P=new XMLHttpRequest();P.open("GET",N,true);P.responseType="blob";P.onload=function(Q){if(this.status==200||this.status===0)O(this.response)};P.send()}function z(N,O){__p&&__p();function P(T){__p&&__p();var U=A(T);N.exifdata=U||{};var V=B(T);N.iptcdata=V||{};if(q.isXmpEnabled){var W=K(T);N.xmpdata=W||{}}if(O)O.call(N)}if(N.src)if(/^data\:/i.test(N.src)){var Q=x(N.src);P(Q)}else if(/^blob\:/i.test(N.src)){var R=new FileReader();R.onload=function(T){P(T.target.result)};y(N.src,function(T){R.readAsArrayBuffer(T)})}else{var S=new XMLHttpRequest();S.onload=function(){if(this.status==200||this.status===0)P(S.response);else throw"Could not load image";S=null};S.open("GET",N.src,true);S.responseType="arraybuffer";S.send(null)}else if(self.FileReader&&(N instanceof self.Blob||N instanceof self.File)){var R=new FileReader();R.onload=function(T){if(o)false;P(T.target.result)};R.readAsArrayBuffer(N)}}function A(N){__p&&__p();var O=new DataView(N);if(o)false;if(O.getUint8(0)!=255||O.getUint8(1)!=216){if(o)false;return false}var P=2,Q=N.byteLength,R;while(P<Q){if(O.getUint8(P)!=255){if(o)false;return false}R=O.getUint8(P+1);if(o)false;if(R==225){if(o)false;return J(O,P+4,O.getUint16(P+2)-2)}else P+=2+O.getUint16(P+2)}}function B(N){__p&&__p();var O=new DataView(N);if(o)false;if(O.getUint8(0)!=255||O.getUint8(1)!=216){if(o)false;return false}var P=2,Q=N.byteLength,R=function(O,P){return O.getUint8(P)===56&&O.getUint8(P+1)===66&&O.getUint8(P+2)===73&&O.getUint8(P+3)===77&&O.getUint8(P+4)===4&&O.getUint8(P+5)===4};while(P<Q){if(R(O,P)){var S=O.getUint8(P+7);if(S%2!==0)S+=1;if(S===0)S=4;var T=P+8+S,U=O.getUint16(P+6+S);return D(N,T,U);break}P++}}var C={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function D(N,O,P){__p&&__p();var Q=new DataView(N),R={},S,T,U,V,W=O;while(W<O+P){if(Q.getUint8(W)===28&&Q.getUint8(W+1)===2){V=Q.getUint8(W+2);if(V in C){U=Q.getInt16(W+3);T=C[V];S=I(Q,W+5,U);if(R.hasOwnProperty(T))if(R[T]instanceof Array)R[T].push(S);else R[T]=[R[T],S];else R[T]=S}}W++}return R}function E(N,O,P,Q,R){var S=N.getUint16(P,!R),T={},U,V,W;for(W=0;W<S;W++){U=P+W*12+2;V=Q[N.getUint16(U,!R)];if(!V&&o)false;T[V]=F(N,U,O,P,R)}return T}function F(N,O,P,Q,R){__p&&__p();var S=N.getUint16(O+2,!R),T=N.getUint32(O+4,!R),U=N.getUint32(O+8,!R)+P,V,W,X,Y,Z,$;switch(S){case 1:case 7:if(T==1)return N.getUint8(O+8,!R);else{V=T>4?U:O+8;W=[];for(Y=0;Y<T;Y++)W[Y]=N.getUint8(V+Y);return W}case 2:V=T>4?U:O+8;return I(N,V,T-1);case 3:if(T==1)return N.getUint16(O+8,!R);else{V=T>2?U:O+8;W=[];for(Y=0;Y<T;Y++)W[Y]=N.getUint16(V+2*Y,!R);return W}case 4:if(T==1)return N.getUint32(O+8,!R);else{W=[];for(Y=0;Y<T;Y++)W[Y]=N.getUint32(U+4*Y,!R);return W}case 5:if(T==1){Z=N.getUint32(U,!R);$=N.getUint32(U+4,!R);X=new Number(Z/$);X.numerator=Z;X.denominator=$;return X}else{W=[];for(Y=0;Y<T;Y++){Z=N.getUint32(U+8*Y,!R);$=N.getUint32(U+4+8*Y,!R);W[Y]=new Number(Z/$);W[Y].numerator=Z;W[Y].denominator=$}return W}case 9:if(T==1)return N.getInt32(O+8,!R);else{W=[];for(Y=0;Y<T;Y++)W[Y]=N.getInt32(U+4*Y,!R);return W}case 10:if(T==1)return N.getInt32(U,!R)/N.getInt32(U+4,!R);else{W=[];for(Y=0;Y<T;Y++)W[Y]=N.getInt32(U+8*Y,!R)/N.getInt32(U+4+8*Y,!R);return W}}}function G(N,O,P){var Q=N.getUint16(O,!P);return N.getUint32(O+2+Q*12,!P)}function H(N,O,P,Q){__p&&__p();var R=G(N,O+P,Q);if(!R)return{};else if(R>N.byteLength)return{};var S=E(N,O,O+R,u,Q);if(S.Compression)switch(S.Compression){case 6:if(S.JpegIFOffset&&S.JpegIFByteCount){var T=O+S.JpegIFOffset,U=S.JpegIFByteCount;S.blob=new Blob([new Uint8Array(N.buffer,T,U)],{type:"image/jpeg"})}break;case 1:break;default:}else S.PhotometricInterpretation==2;return S}function I(N,O,P){var Q="";for(var R=O;R<O+P;R++)Q+=String.fromCharCode(N.getUint8(R));return Q}function J(N,O){__p&&__p();if(I(N,O,4)!="Exif"){if(o)false;return false}var P,Q,R,S,T,U=O+6;if(N.getUint16(U)==18761)P=false;else if(N.getUint16(U)==19789)P=true;else{if(o)false;return false}if(N.getUint16(U+2,!P)!=42){if(o)false;return false}var V=N.getUint32(U+4,!P);if(V<8){if(o)false;return false}Q=E(N,U,U+V,s,P);if(Q.ExifIFDPointer){S=E(N,U,U+Q.ExifIFDPointer,r,P);for(R in S){switch(R){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":S[R]=v[R][S[R]];break;case"ExifVersion":case"FlashpixVersion":S[R]=String.fromCharCode(S[R][0],S[R][1],S[R][2],S[R][3]);break;case"ComponentsConfiguration":S[R]=v.Components[S[R][0]]+v.Components[S[R][1]]+v.Components[S[R][2]]+v.Components[S[R][3]];break}Q[R]=S[R]}}if(Q.GPSInfoIFDPointer){T=E(N,U,U+Q.GPSInfoIFDPointer,t,P);for(R in T){switch(R){case"GPSVersionID":T[R]=T[R][0]+"."+T[R][1]+"."+T[R][2]+"."+T[R][3];break}Q[R]=T[R]}}Q.thumbnail=H(N,U,V,P);return Q}function K(N){__p&&__p();if(!("DOMParser"in self))return;var O=new DataView(N);if(o)false;if(O.getUint8(0)!=255||O.getUint8(1)!=216){if(o)false;return false}var P=2,Q=N.byteLength,R=new DOMParser();while(P<Q-4)if(I(O,P,4)=="http"){var S=P-1,T=O.getUint16(P-2)-1,U=I(O,S,T),V=U.indexOf("xmpmeta>")+8;U=U.substring(U.indexOf("<x:xmpmeta"),V);var W=U.indexOf("x:xmpmeta")+10;U=U.slice(0,W)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+U.slice(W);var X=R.parseFromString(U,"text/xml");return M(X)}else P++}function L(N){__p&&__p();var O={};if(N.nodeType==1){if(N.attributes.length>0){O["@attributes"]={};for(var P=0;P<N.attributes.length;P++){var Q=N.attributes.item(P);O["@attributes"][Q.nodeName]=Q.nodeValue}}}else if(N.nodeType==3)return N.nodeValue;if(N.hasChildNodes())for(var R=0;R<N.childNodes.length;R++){var S=N.childNodes.item(R),T=S.nodeName;if(O[T]==null)O[T]=L(S);else{if(O[T].push==null){var U=O[T];O[T]=[];O[T].push(U)}O[T].push(L(S))}}return O}function M(N){__p&&__p();try{var O={};if(N.children.length>0)for(var P=0;P<N.children.length;P++){var Q=N.children.item(P),R=Q.attributes;for(var S in R){var T=R[S],U=T.nodeName,V=T.nodeValue;if(U!==undefined)O[U]=V}var W=Q.nodeName;if(typeof O[W]=="undefined")O[W]=L(Q);else{if(typeof O[W].push=="undefined"){var X=O[W];O[W]=[];O[W].push(X)}O[W].push(L(Q))}}else O=N.textContent;return O}catch(Y){}}q.enableXmp=function(){q.isXmpEnabled=true};q.disableXmp=function(){q.isXmpEnabled=false};q.getData=function(N,O){if((self.Image&&N instanceof self.Image||self.HTMLImageElement&&N instanceof self.HTMLImageElement)&&!N.complete)return false;if(!w(N))z(N,O);else if(O)O.call(N);return true};q.getTag=function(N,O){if(!w(N))return;return N.exifdata[O]};q.getIptcTag=function(N,O){if(!w(N))return;return N.iptcdata[O]};q.getAllTags=function(N){if(!w(N))return{};var O,P=N.exifdata,Q={};for(O in P)if(P.hasOwnProperty(O))Q[O]=P[O];return Q};q.getAllIptcTags=function(N){if(!w(N))return{};var O,P=N.iptcdata,Q={};for(O in P)if(P.hasOwnProperty(O))Q[O]=P[O];return Q};q.pretty=function(N){__p&&__p();if(!w(N))return"";var O,P=N.exifdata,Q="";for(O in P)if(P.hasOwnProperty(O))if(typeof P[O]=="object")if(P[O]instanceof Number)Q+=O+" : "+P[O]+" ["+P[O].numerator+"/"+P[O].denominator+"]\r\n";else Q+=O+" : ["+P[O].length+" values]\r\n";else Q+=O+" : "+P[O]+"\r\n";return Q};q.readFromBinaryFile=function(N){return A(N)};if(typeof j==="function"&&j.amd)j("exif-js",[],function(){return q})}).call(this)}var l=false,m=function(){if(!l){l=true;k()}return i.exports},n=function(o){switch(o){case undefined:return m()}};f.exports=n}),null);
__d("exif-js",["exif-js-2.3.0"],(function a(b,c,d,e,f,g){f.exports=c("exif-js-2.3.0")()}),null);
__d("ImageExif",["exif-js"],(function a(b,c,d,e,f,g){__p&&__p();c("exif-js").enableXmp();function h(j){__p&&__p();var k=function k(l){return j.charCodeAt(l)&255};this.getByteAt=k;this.getShortAt=function(l,m){var n=this.getSShortAt(l,m);return n>0?n:n+65536};this.getSShortAt=function(l,m){var n=k(l),o=k(l+1);return m?(n<<8)+o:(o<<8)+n};this.getLongAt=function(l,m){var n=this.getSLongAt(l,m);return n>0?n:n+4294967296};this.getSLongAt=function(l,m){var n=k(l),o=k(l+1),p=k(l+2),q=k(l+3);return m?(((n<<8)+o<<8)+p<<8)+q:(((q<<8)+p<<8)+o<<8)+n};this.getStringAt=function(l,m){return j.substr(l,m)};this.getLength=function(){return j.length}}var i={readFromFile:function j(k,l){var m=new FileReader();m.addEventListener("load",function(event){var n=event.target.result,o=n instanceof ArrayBuffer?this.readFromArrayBuffer(n):this.readFromBinaryString(n);l(o)}.bind(this),false);if(window.DataView)m.readAsArrayBuffer(k);else m.readAsBinaryString(k)},readFromBinaryString:function j(k){return c("exif-js").readFromBinaryFile(new h(k))},readFromArrayBuffer:function j(k){return c("exif-js").readFromBinaryFile(k)}};f.exports=i}),null);
__d("StringEncoding",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(o,p){__p&&__p();var q=new Uint8Array(o),r=0,s=[];while(r<q.length){var t=q[r],u=void 0;if(t>>7===0)u=1;else if(t>>5===6){t&=31;u=2}else if(t>>4===14){t&=15;u=3}else if(t>>3===30){t&=7;u=4}else if(t>>2===62){t&=3;u=5}else if(t>>1===126){t&=1;u=6}else throw new Error("Cannot decode as UTF-8 - unrecognised codepoint header");if(r+u>q.length)throw new Error("Cannot decode as UTF-8 - incomplete codepoint");for(var v=1;v<u;v++){var w=q[r+v];if(w>>6!==2)throw new Error("Cannot decode as UTF-8 - unrecognised codepoint subsequent byte");w&=63;t<<=6;t|=w}if(t>1114111)throw new Error("Cannot decode as UTF-8 - JavaScript doesn't support codepoints over 0x10FFFF");if(!t)switch(p){case"error":throw new Error("Cannot decode as UTF-8 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,s);case"include":break}s.push(t);r+=u}return String.fromCodePoint.apply(String,s)}function i(o){return(o&255)<<8|o>>8}function j(o,p){__p&&__p();if(o.byteLength%2!==0)throw new Error("Cannot decode as UTF-16 - data length mod 2 != 0");var q=new Uint16Array(o),r=0,s=[],t=false;if(q[0]===65279)++r;else if(q[0]==65534){++r;t=true}while(r<q.length){var u=q[r];if(t)u=i(u);var v=u;if(u>55295&&u<57344){if((u&64512)!==55296)throw new Error("Cannot decode as UTF-16 - incorrect signature for high surrogate");if(r+1>=q.length)throw new Error("Cannot decode as UTF-16 - incomplete codepoint");++r;var w=q[r];if(t)w=i(w);if((w&64512)!==56320)throw new Error("Cannot decode as UTF-16 - incorrect signature for low surrogate");v=((u&1023)<<10|w&1023)+65536}if(!v)switch(p){case"error":throw new Error("Cannot decode as UTF-16 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,s);case"include":break}s.push(v);++r}return String.fromCodePoint.apply(String,s)}function k(o){return(o&255)<<24|(o&255<<8)<<8|(o&255<<16)>>8|o>>>24}function l(o,p){__p&&__p();if(o.byteLength%4!==0)throw new Error("Cannot decode as UTF-32 - data length mod 4 != 0");var q=new Uint32Array(o),r=0,s=[],t=false;if(q[0]===65279)++r;else if(q[0]==4294836224){++r;t=true}while(r<q.length){var u=q[r];if(t)u=k(u);if(u&2147483648)throw new Error("Cannot decode as UTF-32 - invalid codepoint");if(u>1114111)throw new Error("Cannot decode as UTF-32 - JavaScript doesn't support codepoints over 0x10FFFF");if(!u)switch(p){case"error":throw new Error("Cannot decode as UTF-32 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,s);case"include":break}s.push(u);++r}return String.fromCodePoint.apply(String,s)}var m={"utf-8":h,"utf-16":j,"utf-32":l};function n(o,p){__p&&__p();if(o)this.$Decoder1=o;else this.$Decoder1=["utf-8","utf-16","utf-32"];if(!p)p="error";this.$Decoder2=p;for(var q=this.$Decoder1,r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=q.length)break;t=q[s++]}else{s=q.next();if(s.done)break;t=s.value}var u=t;this.$Decoder3(u)}}n.prototype.getPrecedence=function(){return this.$Decoder1};n.prototype.decode=function(o){__p&&__p();var p=[];for(var q=this.$Decoder1,r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=q.length)break;t=q[s++]}else{s=q.next();if(s.done)break;t=s.value}var u=t,v=this.$Decoder3(u);try{return v(o,this.$Decoder2)}catch(w){p.push(w)}}throw new Error(p.join(", "))};n.prototype.$Decoder3=function(o){var p=m[o];if(!p)throw new Error("Unknown encoding "+o);return p};f.exports.Decoder=n}),null);
__d("ImageMetadata",["regeneratorRuntime","Promise","ImageExif","StringEncoding","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(m){this.$ImageMetadata4="";this.$ImageMetadata6=m;this.$ImageMetadata7=new Uint8Array(m);this.$ImageMetadata8()}h.prototype.$ImageMetadata8=function(){__p&&__p();var m=0;while(m<this.$ImageMetadata7.length){m=this.$ImageMetadata9(m);if(m===-1)return;var n=this.$ImageMetadata7[m+1],o=i[n];if(!o)return;var p=o.length;if(p===undefined)p=this.$ImageMetadata7[m+2]*256+this.$ImageMetadata7[m+3];this.$ImageMetadata10(m,p,o);if(o.name==="SOS")return;m+=2+p}};h.prototype.$ImageMetadata10=function(m,n,o){__p&&__p();switch(o.name){case"APP1":if(this.$ImageMetadata11(m+4,j)){if(!this.$ImageMetadata1){this.$ImageMetadata1=m;this.$ImageMetadata2=n}this.$ImageMetadata12(m+4+j.length,n-2-j.length)}else if(this.$ImageMetadata11(m+4,k)){this.$ImageMetadata1=m;this.$ImageMetadata2=n;this.$ImageMetadata13(m+4+k.length,n-2-k.length)}else if(this.$ImageMetadata11(m+4,l))this.$ImageMetadata14(m+4+l.length,n-2-l.length);break;case"SOF0":case"SOF1":case"SOF2":case"SOF3":case"SOF5":case"SOF6":case"SOF7":case"JPG":case"SOF9":case"SOF10":case"SOF11":case"SOF13":case"SOF14":case"SOF15":this.$ImageMetadata15(m+4,n-2);break}};h.prototype.$ImageMetadata15=function(m,n){var o=this.$ImageMetadata7[m+3]*256+this.$ImageMetadata7[m+4],p=this.$ImageMetadata7[m+1]*256+this.$ImageMetadata7[m+2];if(o>0&&p>0)this.$ImageMetadata5={x:o,y:p}};h.prototype.$ImageMetadata12=function(m,n){__p&&__p();var o=emptyFunction;try{emptyFunction=c("emptyFunction");var p=c("ImageExif").readFromArrayBuffer(this.$ImageMetadata6)||{}}finally{emptyFunction=o}var q={};for(var r in p){var s=p[r];if(typeof s==="string")s=s.trim();q[r.trim()]=s}this.$ImageMetadata3=q};h.prototype.$ImageMetadata13=function(m,n){var o=new(c("StringEncoding").Decoder)(null,"truncate");try{var p=o.decode(this.$ImageMetadata6.slice(m,m+n));this.$ImageMetadata4=p}catch(q){return}};h.prototype.$ImageMetadata14=function(m){};h.prototype.$ImageMetadata11=function(m,n){return n.split("").every(function(o){return this.$ImageMetadata7[m++]===o.charCodeAt(0)}.bind(this))};h.prototype.$ImageMetadata9=function(m){for(var n=m;n+1<this.$ImageMetadata7.length;++n)if(this.$ImageMetadata7[n]===255&&this.$ImageMetadata7[n+1]!==0&&this.$ImageMetadata7[n+1]!==255)return n;return-1};h.prototype.hasAPP1=function(){return Boolean(this.$ImageMetadata1)};h.prototype.hasExif=function(){return Boolean(this.$ImageMetadata3)};h.prototype.hasXMP=function(){return Boolean(this.$ImageMetadata4)};h.prototype.hasSize=function(){return Boolean(this.$ImageMetadata5)};h.prototype.getAPP1Location=function(){if(!this.hasAPP1())return null;return this.$ImageMetadata1};h.prototype.getAPP1Length=function(){if(!this.hasAPP1())return null;return this.$ImageMetadata2};h.prototype.getExif=function(){if(!this.$ImageMetadata3)throw new Error("Image has no Exif data");return this.$ImageMetadata3};h.prototype.getXMPString=function(){return this.$ImageMetadata4};h.prototype.getSize=function(){if(!this.$ImageMetadata5)throw new Error("Could not find size data?!");return this.$ImageMetadata5};h.genMetadataFromBlob=function m(n){return c("regeneratorRuntime").async(function o(p){while(1)switch(p.prev=p.next){case 0:p.t0=h;p.next=3;return c("regeneratorRuntime").awrap(h.$ImageMetadata16(n));case 3:p.t1=p.sent;return p.abrupt("return",new p.t0(p.t1));case 5:case"end":return p.stop()}},null,this)};h.$ImageMetadata16=function(m){return new(c("Promise"))(function(n,o){var p=new b.FileReader();p.onabort=o;p.onerror=o;p.onload=n;p.readAsArrayBuffer(m)})};var i=[];i[216]={name:"SOI",length:0};i[192]={name:"SOF0"};i[193]={name:"SOF1"};i[194]={name:"SOF2"};i[195]={name:"SOF3"};i[197]={name:"SOF5"};i[198]={name:"SOF6"};i[199]={name:"SOF7"};i[200]={name:"JPG"};i[201]={name:"SOF9"};i[202]={name:"SOF10"};i[203]={name:"SOF11"};i[205]={name:"SOF13"};i[206]={name:"SOF14"};i[207]={name:"SOF15"};i[196]={name:"DHT"};i[219]={name:"DQT"};i[221]={name:"DRI",length:2};i[218]={name:"SOS"};i[208]={name:"RST0",length:0};i[209]={name:"RST1",length:0};i[210]={name:"RST2",length:0};i[211]={name:"RST3",length:0};i[212]={name:"RST4",length:0};i[213]={name:"RST5",length:0};i[214]={name:"RST6",length:0};i[215]={name:"RST7",length:0};i[224]={name:"APP0"};i[225]={name:"APP1"};i[226]={name:"APP2"};i[227]={name:"APP3"};i[228]={name:"APP4"};i[229]={name:"APP5"};i[230]={name:"APP6"};i[231]={name:"APP7"};i[232]={name:"APP8"};i[233]={name:"APP9"};i[234]={name:"APP10"};i[235]={name:"APP11"};i[236]={name:"APP12"};i[237]={name:"APP13"};i[238]={name:"APP14"};i[239]={name:"APP15"};i[254]={name:"COM"};i[217]={name:"EOI",length:0};var j="Exif\0\0",k="http://ns.adobe.com/xap/1.0/\0",l="http://ns.adobe.com/xmp/extension/\0";f.exports=h}),null);
__d("XSphericalPhotoSphereMetadataAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/spherical_media/photo/metadata/",{})}),null);
__d("SphericalImageUtils",["Promise","ImageMetadata","XAsyncRequest","XSphericalPhotoSphereMetadataAsyncController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=2048,i={genArrayBufferFromBlob:function j(k){__p&&__p();return new(c("Promise"))(function(l,m){if(b.FileReader){var n=new b.FileReader();n.onabort=m;n.onerror=m;n.onload=function(event){l(event.target.result)};n.readAsArrayBuffer(k)}else m(new Error("global.FileReader doesn't exit"))})},shouldCheckInServer:function j(k){__p&&__p();if(!k.hasExif()&&!k.hasXMP()||!k.hasSize())return false;var l=k.getXMPString();if(this.getMayContainSphericalMetadata(l))return true;var m=k.getSize(),n=m.x,o=m.y;if(Math.max(n,o)<h||n/o<2&&o/n<2)return false;var p=k.hasExif()?k.getExif():{};if(l===""&&(!p.Make||!p.Model))return false;return true},genPhotosphereMetadata:function j(k){__p&&__p();return new(c("Promise"))(function(l,m){__p&&__p();this.genArrayBufferFromBlob(k).done(function(n){__p&&__p();var o,p=this;try{(function(){var r=new(c("ImageMetadata"))(n);if(p.shouldCheckInServer(r))p.genPhotosphereMetadataFromServer(r.hasSize()?r.getSize():{x:0,y:0},r.getXMPString(),r.hasExif()?r.getExif():{}).done(function(s){var t=s.payload;l({photoSphereMetadata:t,imageMetadata:r})},m);else l({})})()}catch(q){q.__manual=true;m(q)}}.bind(this),m)}.bind(this))},genPhotosphereMetadataFromServer:function j(k,l,m){return new(c("Promise"))(function(n,o){new(c("XAsyncRequest"))(c("XSphericalPhotoSphereMetadataAsyncController").getURIBuilder().getURI()).setMethod("POST").setData({exif_string:this.getExifString(m),height:k.y,width:k.x,xmp:l}).setHandler(n).setErrorHandler(o).send()}.bind(this))},getExifString:function j(k){return JSON.stringify(k,function(l,m){if(l==="FocalLength"&&m.numerator&&m.denominator)return m.numerator+"/"+m.denominator;return m})},getMayContainSphericalMetadata:function j(k){return k!==""&&k.indexOf("GPano:")>-1}};f.exports=i}),null);
__d("SphericalImage",["regeneratorRuntime","SphericalImageUtils"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="ProjectionType";function i(j){this.props=j}i.createFromBlob=function j(k){var l;return c("regeneratorRuntime").async(function m(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return c("regeneratorRuntime").awrap(c("SphericalImageUtils").genPhotosphereMetadata(k));case 2:l=n.sent;return n.abrupt("return",new this(l));case 4:case"end":return n.stop()}},null,this)};i.prototype.isSpherical=function(){return Boolean(this.props.photoSphereMetadata)};i.prototype.getImageMetadata=function(){return this.props.imageMetadata};i.prototype.getPhotoSphereMetadata=function(){return this.props.photoSphereMetadata};i.prototype.getSize=function(){if(this.props.imageMetadata)return this.props.imageMetadata.getSize();return null};i.prototype.getProjectionType=function(){var j="";if(this.props.photoSphereMetadata&&this.props.photoSphereMetadata[h])j=this.props.photoSphereMetadata[h];return j};f.exports=i}),null);
__d("SphericalPhotoUploadHelper",[],(function a(b,c,d,e,f,g){"use strict";f.exports={shouldResize360:function h(i,j,k){if(j&&Math.max(j.x,j.y)<=k||i==="cubestrip")return false;return true}}}),null);
__d("XComposerPhotoUploader",["regeneratorRuntime","Promise","AsyncUploadRequest","FileInputUploader","JSLogger","PhotosMimeType","PhotosUploadID","ReactComposerMediaUtils","SphericalImage","SphericalPhotoConfig","SphericalPhotoUploadHelper","curry","emptyFunction","performanceNow"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("SphericalPhotoUploadHelper").shouldResize360,i=b.URL||b.webkitURL||{};function j(k){__p&&__p();this.$XComposerPhotoUploader2=k.uploadData||{};this.$XComposerPhotoUploader1=k.uploadEndpoint;this.$XComposerPhotoUploader3=k.retryLimit;this.$XComposerPhotoUploader4=k.concurrentLimit;this.$XComposerPhotoUploader5=k.resizer;this.$XComposerPhotoUploader6=k.onUploadEnqueued||c("emptyFunction");this.$XComposerPhotoUploader7=k.onUploadsEnqueued||c("emptyFunction");this.$XComposerPhotoUploader8=k.onResizeStart||c("emptyFunction");this.$XComposerPhotoUploader11=k.onResizeProgress||c("emptyFunction");this.$XComposerPhotoUploader9=k.onResizeSuccess||c("emptyFunction");this.$XComposerPhotoUploader10=k.onResizeFailure||c("emptyFunction");this.$XComposerPhotoUploader12=k.onSphericalCheckFailure||c("emptyFunction");this.$XComposerPhotoUploader13=k.onSphericalCheckSuccess||c("emptyFunction");this.$XComposerPhotoUploader14=k.onUploadIsSpherical||c("emptyFunction");this.$XComposerPhotoUploader15=k.onUploadSent||c("emptyFunction");this.$XComposerPhotoUploader16=k.onUploadStart||c("emptyFunction");this.$XComposerPhotoUploader17=k.onUploadProgress||c("emptyFunction");this.$XComposerPhotoUploader18=k.onUploadSuccess||c("emptyFunction");this.$XComposerPhotoUploader19=k.onUploadFailure||c("emptyFunction");this.$XComposerPhotoUploader20=c("JSLogger").create("composer")}j.prototype.upload=function(k,l){__p&&__p();l=l||0;var m=Object.assign({},this.$XComposerPhotoUploader2),n=null;if(!this.$XComposerPhotoUploader21(k)){var o=c("PhotosUploadID").getNewID();k.uploadID=o;m.upload_id=o;this.$XComposerPhotoUploader6({uploadID:o,fileName:k.value.split("/").pop().split("\\").pop(),fileURL:i.createObjectURL?i.createObjectURL(k):null})}else{n=Array.from(k.files);n=n.filter(function(s){return!c("ReactComposerMediaUtils").hasVideos([s.name])});if(n.length===0)return;var p=n.length+l;n.forEach(function(s){if(!s.uploadID)s.uploadID=c("PhotosUploadID").getNewID();this.$XComposerPhotoUploader6({uploadID:s.uploadID,fileName:s.name,isSpherical:false,fileURL:i.createObjectURL?i.createObjectURL(s):null})}.bind(this))}this.$XComposerPhotoUploader7();var q=new(c("FileInputUploader"))(k).setURI(this.$XComposerPhotoUploader1).setData(m).setAllowCrossOrigin(true).setNetworkErrorRetryLimit(this.$XComposerPhotoUploader3).setUploadInParallel(true);if(n&&n.length>0){q.setFiles({farr:n});if(this.$XComposerPhotoUploader5)q.setPreprocessHandler(this.$XComposerPhotoUploader22.bind(this));else q.setPreprocessHandler(this.$XComposerPhotoUploader23.bind(this));if(this.$XComposerPhotoUploader4)q.setConcurrentLimit(this.$XComposerPhotoUploader4)}q.subscribe("progress",function(s,m){return this.$XComposerPhotoUploader17(this.$XComposerPhotoUploader24(m,k),m)}.bind(this));q.subscribe("failure",function(s,m){return this.$XComposerPhotoUploader19(this.$XComposerPhotoUploader24(m,k),m,n)}.bind(this));q.subscribe("start",function(s,m){return this.$XComposerPhotoUploader16(this.$XComposerPhotoUploader24(m,k),m)}.bind(this));q.subscribe("success",function(s,m){return this.$XComposerPhotoUploader18(this.$XComposerPhotoUploader24(m,k),m)}.bind(this));try{q.send();this.$XComposerPhotoUploader15(k)}catch(r){this.$XComposerPhotoUploader20.error("error_send_unpublished_files",r);throw r}};j.prototype.getAsyncUploadRequest=function(k,l){__p&&__p();var m=new(c("AsyncUploadRequest"))().setData(Object.assign({},l&&l.data,this.$XComposerPhotoUploader2)).setFiles({farr:k}).setAllowCrossOrigin(true).setURI(this.$XComposerPhotoUploader1);if(this.$XComposerPhotoUploader4)m.setLimit(this.$XComposerPhotoUploader4);if(this.$XComposerPhotoUploader5)m.setPreprocessHandler(this.$XComposerPhotoUploader22.bind(this));m.subscribe("start",function(n,o){return this.$XComposerPhotoUploader16(o.getFile().uploadID,{upload:o})}.bind(this));m.subscribe("progress",function(n,o){return this.$XComposerPhotoUploader17(o.getFile().uploadID,{upload:o,event:o.getProgressEvent()})}.bind(this));m.subscribe("success",function(n,o){return this.$XComposerPhotoUploader18(o.getFile().uploadID,{upload:o,response:o.getResponse()})}.bind(this));m.subscribe("failure",function(n,o){return this.$XComposerPhotoUploader19(o.getFile().uploadID,{upload:o,response:o.getResponse()},k)}.bind(this));return m};j.prototype.$XComposerPhotoUploader24=function(k,l){if(k.upload)return k.upload.getFile().uploadID;else return l.uploadID};j.prototype.$XComposerPhotoUploader23=function(k,l){(function m(){return c("regeneratorRuntime").async(function n(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return c("regeneratorRuntime").awrap(this.$XComposerPhotoUploader25(k,l));case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},null,this)}).bind(this)().done()};j.prototype.$XComposerPhotoUploader25=function k(l,m){__p&&__p();var n,o;return c("regeneratorRuntime").async(function p(q){__p&&__p();while(1)switch(q.prev=q.next){case 0:n=l.getFile();q.next=3;return c("regeneratorRuntime").awrap(this.$XComposerPhotoUploader26(n));case 3:o=q.sent;if(o&&o.isSpherical())this.$XComposerPhotoUploader14(n,o.isSpherical(),o.getProjectionType());else this.$XComposerPhotoUploader14(n,false,"");m(l);case 6:case"end":return q.stop()}},null,this)};j.prototype.$XComposerPhotoUploader22=function(k,l){(function m(){return c("regeneratorRuntime").async(function n(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return c("regeneratorRuntime").awrap(this.$XComposerPhotoUploader27(k,l));case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},null,this)}).bind(this)().done()};j.prototype.$XComposerPhotoUploader26=function k(l){__p&&__p();var m,n;return c("regeneratorRuntime").async(function o(p){__p&&__p();while(1)switch(p.prev=p.next){case 0:m=c("performanceNow")();p.prev=1;p.next=4;return c("regeneratorRuntime").awrap(c("SphericalImage").createFromBlob(l));case 4:n=p.sent;this.$XComposerPhotoUploader13(l,c("performanceNow")()-m,n);return p.abrupt("return",n);case 9:p.prev=9;p.t0=p["catch"](1);this.$XComposerPhotoUploader12(l,c("performanceNow")()-m);return p.abrupt("return",null);case 14:case"end":return p.stop()}},null,this,[[1,9]])};j.prototype.$XComposerPhotoUploader28=function(k){return this.$XComposerPhotoUploader29(this.$XComposerPhotoUploader5.resizeBlob.bind(this.$XComposerPhotoUploader5),k)};j.prototype.$XComposerPhotoUploader30=function(k){return this.$XComposerPhotoUploader29(this.$XComposerPhotoUploader5.resize360Blob.bind(this.$XComposerPhotoUploader5),k,c("SphericalPhotoConfig").upload_size_limit)};j.prototype.$XComposerPhotoUploader29=function(k,l,m){__p&&__p();var n=c("curry")(this.$XComposerPhotoUploader11,l.uploadID),o=function(){return this.$XComposerPhotoUploader8(l)}.bind(this);return new(c("Promise"))(function(p,q){o();k(l,function(r,s,t,u,v){if(r)q(r);else if(t)p(null);else p({blob:s,originalWidth:u,originalHeight:v})},n,m)})};j.prototype.$XComposerPhotoUploader27=function k(l,m){__p&&__p();var n,o,p,q,r,s,t,u,v,w;return c("regeneratorRuntime").async(function x(y){__p&&__p();while(1)switch(y.prev=y.next){case 0:n=l.getFile();if(!(!n||!c("PhotosMimeType").isJpeg(n.type))){y.next=5;break}this.$XComposerPhotoUploader14(n,false,"");m(l);return y.abrupt("return");case 5:o=c("performanceNow")();p=void 0,q=void 0;y.prev=7;r=null;y.next=11;return c("regeneratorRuntime").awrap(this.$XComposerPhotoUploader26(n));case 11:r=y.sent;if(!(r&&r.isSpherical())){y.next=23;break}this.$XComposerPhotoUploader14(n,true,r.getProjectionType());s=r.getSize();t=c("SphericalPhotoConfig").upload_size_limit;u=r.getProjectionType();if(!h(u,s,t)){y.next=21;break}y.next=20;return c("regeneratorRuntime").awrap(this.$XComposerPhotoUploader30(n));case 20:p=y.sent;case 21:y.next=27;break;case 23:this.$XComposerPhotoUploader14(n,false,"");y.next=26;return c("regeneratorRuntime").awrap(this.$XComposerPhotoUploader28(n));case 26:p=y.sent;case 27:if(p){q=p.blob;q.uploadID=n.uploadID;q.name=n.name;l.setFile(q);l.getAdditionalData().set("js_resized",true).set("original_width",p.originalWidth).set("original_height",p.originalHeight)}v=q===null;l.getFile().filename=n.name;this.$XComposerPhotoUploader9(n,q||n,v,c("performanceNow")()-o);y.next=38;break;case 33:y.prev=33;y.t0=y["catch"](7);w=c("performanceNow")()-o;this.$XComposerPhotoUploader10(n,q||n,y.t0,w);case 38:m(l);case 39:case"end":return y.stop()}},null,this,[[7,33]])};j.prototype.$XComposerPhotoUploader21=function(k){return!!k.files&&c("AsyncUploadRequest").isSupported()};f.exports=j}),null);
__d("ReactComposerLocationAttachmentActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({LOCATION_ATTACHMENT_ENABLED:null,FETCH_LOCATION_ATTACHMENT:null,SET_MINUTIAE_ACTION_CONTEXT:null,SET_LOCATION_MARKUP:null},"ReactComposerLocationAttachmentActionType")}),null);
__d("XReactComposerLocationAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/location/attachment/",{composer_id:{type:"String",required:true},location_id:{type:"String",required:true},target_id:{type:"String",required:true}})}),null);
__d("ReactComposerLocationAttachmentStore",["AsyncRequest","ReactComposerAttachmentStore","ReactComposerAttachmentActionType","ReactComposerAttachmentType","ReactComposerLocationAttachmentActionType","ReactComposerStoreBase","XReactComposerLocationAttachmentController"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k=void 0;i.constructor.call(this,function(){return{isEnabled:false,isFetching:false,markup:null,pendingRequest:null,minutiaeTaggedPlace:null,isTimeline:false,sourceAttachment:null}},function(l){__p&&__p();switch(l.type){case c("ReactComposerLocationAttachmentActionType").LOCATION_ATTACHMENT_ENABLED:k&&k.$ReactComposerLocationAttachmentStore1(l);break;case c("ReactComposerLocationAttachmentActionType").FETCH_LOCATION_ATTACHMENT:k&&k.$ReactComposerLocationAttachmentStore2(l);break;case c("ReactComposerLocationAttachmentActionType").SET_MINUTIAE_ACTION_CONTEXT:k&&k.$ReactComposerLocationAttachmentStore3(l);break;case c("ReactComposerLocationAttachmentActionType").SET_LOCATION_MARKUP:k&&k.$ReactComposerLocationAttachmentStore4(l);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:k&&k.$ReactComposerLocationAttachmentStore5(l);break}});k=this}j.prototype.isEnabled=function(k){"use strict";return this.getComposerData(k).isEnabled};j.prototype.getMarkup=function(k){"use strict";return this.getComposerData(k).markup};j.prototype.getMinutiaeTaggedPlace=function(k){"use strict";return this.getComposerData(k).minutiaeTaggedPlace};j.prototype.getIsTimeline=function(k){"use strict";return this.getComposerData(k).isTimeline};j.prototype.isFetching=function(k){"use strict";return this.getComposerData(k).isFetching};j.prototype.$ReactComposerLocationAttachmentStore1=function(k){"use strict";var l=this.validateAction(k,["composerID","enabled"]),m=l[0],n=l[1],o=this.getComposerData(m);o.isEnabled=n};j.prototype.$ReactComposerLocationAttachmentStore2=function(k){"use strict";__p&&__p();var l=this.validateAction(k,["composerID","locationID","targetID"]),m=l[0],n=l[1],o=l[2];if(!this.isEnabled(m))return;var p=this.getComposerData(m);p.isFetching=true;var q=c("XReactComposerLocationAttachmentController").getURIBuilder().setString("composer_id",m).setString("location_id",n).setString("target_id",o).getURI();p.pendingRequest=new(c("AsyncRequest"))(q).setFinallyHandler(function(){p.isFetching=false;p.pendingRequest=null;this.emitChange(m)}.bind(this));p.pendingRequest.send();this.emitChange(m)};j.prototype.$ReactComposerLocationAttachmentStore3=function(k){"use strict";var l=this.validateAction(k,["composerID","objectID","isTimeline"]),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);p.minutiaeTaggedPlace=n;p.isTimeline=o;this.emitChange(m)};j.prototype.$ReactComposerLocationAttachmentStore4=function(k){"use strict";var l=this.validateAction(k,["composerID","markup"]),m=l[0],n=l[1],o=this.getComposerData(m);o.markup=n;o.sourceAttachment=c("ReactComposerAttachmentStore").getSelectedAttachmentID(m);this.emitChange(m)};j.prototype.$ReactComposerLocationAttachmentStore5=function(k){"use strict";var l=this.validateAction(k,["composerID","id"]),m=l[0],n=l[1],o=this.getComposerData(m);if(n===c("ReactComposerAttachmentType").STATUS||k.proxiedAttachmentID===o.sourceAttachment||o.sourceAttachment===null)return;o.markup=null;o.isFetching=false;o.pendingRequest&&o.pendingRequest.abandon();this.emitChange(m)};f.exports=new j()}),null);
__d("ReactComposerLocationAttachmentActions",["ReactComposerDispatcher","ReactComposerLocationAttachmentActionType","ReactComposerLocationAttachmentStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerLocationAttachmentStore");h.prototype.enabled=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLocationAttachmentActionType").LOCATION_ATTACHMENT_ENABLED,enabled:j})};h.prototype.fetchLocationAttachment=function(i,j,k){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLocationAttachmentActionType").FETCH_LOCATION_ATTACHMENT,locationID:j,targetID:k})};h.prototype.setMinutiaeActionContext=function(i,j,k){"use strict";var l={composerID:i,type:c("ReactComposerLocationAttachmentActionType").SET_MINUTIAE_ACTION_CONTEXT,objectID:j,isTimeline:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.setMarkup=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLocationAttachmentActionType").SET_LOCATION_MARKUP,markup:j})};function h(){"use strict"}f.exports=new h()}),null);
__d("ReactComposerMinutiaeAttachmentActions",["ReactComposerDispatcher","ReactComposerMinutiaeAttachmentActionType","ReactComposerMinutiaeAttachmentStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerMinutiaeAttachmentStore");h.prototype.fetchMinutiaeAttachment=function(i,j,k,l,m,n){"use strict";var o={composerID:i,type:c("ReactComposerMinutiaeAttachmentActionType").FETCH_ATTACHMENT,actionID:j,objectID:k,targetID:l,actorID:m,isTimeline:n};c("ReactComposerDispatcher").dispatch(o)};h.prototype.setExplicitLocation=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerMinutiaeAttachmentActionType").SET_EXPLICIT_LOCATION,explicitLocation:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setMarkup=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerMinutiaeAttachmentActionType").SET_MARKUP,markup:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setHideAttachment=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerMinutiaeAttachmentActionType").SET_HIDE_OBJECT_ATTACHMENT,hideAttachment:j};c("ReactComposerDispatcher").dispatch(k)};function h(){"use strict"}f.exports=new h()}),null);
__d("ReactComposerTaggerButtons.react",["cx","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_47gt"},this.props.children)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("ShareDialogTagSummary.react",["cx","Arbiter","AsyncRequest","immutable","Parent","React","emptyFunction","ifRequired","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes,l=true;i=babelHelpers.inherits(m,c("React").PureComponent);j=i&&i.prototype;function m(){__p&&__p();var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={socialText:null},this.$ShareDialogTagSummary1=undefined,this.$ShareDialogTagSummary2=undefined,this.$ShareDialogTagSummary4=function(s){this.setState({socialText:s.getPayload().rendered})}.bind(this),this.$ShareDialogTagSummary5=function(s){__p&&__p();var t=s.target;if(c("Parent").byClass(t,"withToken"))this.props.withTokenClick();else if(c("Parent").byClass(t,"placeToken"))this.props.placeTokenClick();else if(c("Parent").byClass(t,"og_composer_object")){var u=this.props.taggerData;if(!u.get("action")&&!u.get("object")){if(u.get("politicalRepresentativeInfo").politicalRepresentative)this.props.politicalRepresentativeClick();else if(u.get("tagEventData").eventID)this.props.tagEventClick()}else this.props.ogObjectClick()}else if(!c("Parent").byClass(t,"ogPickerIcon"))if(c("Parent").byClass(t,"localAlertToken"))this.props.localAlertTokenClick();else this.props.onTagSummaryClick()}.bind(this),o}m.prototype.UNSAFE_componentWillMount=function(){"use strict";this.$ShareDialogTagSummary1=c("Arbiter").subscribe("composer/ogIconPickerOpened",function(event,n){l=false});this.$ShareDialogTagSummary3(this.props)};m.prototype.componentWillUnmount=function(){"use strict";if(this.$ShareDialogTagSummary2)this.$ShareDialogTagSummary2.abort()};m.prototype.UNSAFE_componentWillReceiveProps=function(n){"use strict";if(!this.props.taggerData.equals(n.taggerData))this.$ShareDialogTagSummary3(n)};m.prototype.render=function(){"use strict";var n=c("joinClasses")(this.props.className,"_4zq4");return c("React").createElement("div",{className:n,onMouseDown:this.$ShareDialogTagSummary5,dangerouslySetInnerHTML:this.state.socialText})};m.prototype.$ShareDialogTagSummary3=function(n){"use strict";__p&&__p();if(this.$ShareDialogTagSummary2)this.$ShareDialogTagSummary2.abort();var o=n.taggerData,p=o.get("people"),q=o.get("place"),r=o.get("action"),s=o.get("actionIconID"),t=o.get("object"),u=o.get("products"),v=o.get("sponsors"),w=o.get("politicalRepresentativeInfo"),x=o.get("issues"),y=o.get("tagEventData"),z=o.get("localAlert").expirationTime,A=p.filter(function(F){return!this.props.peopleToExclude.has(F.getUniqueID())}.bind(this));if(!(A&&A.length>0)&&!q&&!(r&&t)&&!(u&&u.length>0)&&!(v&&v.sponsors.length>0)&&!w.politicalRepresentative&&!(x&&x.length>0)&&!(y&&y.eventID)&&!(z&&z>0)){if(this.state.socialText)this.setState({socialText:null});return}var B={};if(A)B.people=A.map(function(F){return F.getUniqueID()});if(q){B.place=q.getTitle();B.placeID=q.getUniqueID()}if(u)B.productIDs=u.map(function(F){return F.getUniqueID()});if(v){var C=c("ifRequired")("BrandedContentSponsorRelationship",function(F){return v.sponsorRelationship===F.PRESENTED_BY},function(){return false});if(!C)B.sponsorIDs=v.sponsors.map(function(F){return F.getUniqueID()})}if(x)B.issueIDs=x.map(function(F){return F.getUniqueID()});if(r&&t){B.actionID=r.getUniqueID();var D=t.getUniqueID(),E=t.getTitle();if(!D||D===E)B.objectStr=E;else B.objectID=D}else if(w.politicalRepresentative)c("ifRequired")("ContactYourRepresentativeConsts",function(F){B.actionID=F.composer_action_id;B.objectID=w.politicalRepresentative.getUniqueID()});else if(y&&y.eventID)c("ifRequired")("TagEventSproutConsts",function(F){B.actionID=F.composer_action_id;B.objectID=y.eventID});if(s)B.actionIconID=s;if(z)B.localAlert=z;B.iconPickerOpened=l!==true;this.$ShareDialogTagSummary2=new(c("AsyncRequest"))();this.$ShareDialogTagSummary2&&this.$ShareDialogTagSummary2.setURI("/ajax/metacomposer/social_text.php").setData(B).setHandler(this.$ShareDialogTagSummary4).send()};m.propTypes={ogObjectClick:k.func.isRequired,onTagSummaryClick:k.func.isRequired,peopleToExclude:k.instanceOf(c("immutable").Set).isRequired,placeTokenClick:k.func.isRequired,politicalRepresentativeClick:k.func.isRequired,tagEventClick:k.func.isRequired,taggerData:k.instanceOf(c("immutable").Map).isRequired,withTokenClick:k.func.isRequired,localAlertTokenClick:k.func.isRequired};m.defaultProps={peopleToExclude:c("immutable").Set(),ogObjectClick:c("emptyFunction"),onTagSummaryClick:c("emptyFunction"),placeTokenClick:c("emptyFunction"),politicalRepresentativeClick:c("emptyFunction"),tagEventClick:c("emptyFunction"),withTokenClick:c("emptyFunction"),localAlertTokenClick:c("emptyFunction")};f.exports=m}),null);
__d("ReactComposerTaggerSummaryContainer.react",["cx","Arbiter","immutable","React","ReactComposerContextTypes","ReactComposerLoggingName","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","ReactDOM","ShareDialogTagSummary.react","containsNode"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("React").createClass({displayName:"ReactComposerTaggerSummaryContainer",_ogSubscription:undefined,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerTaggerStore"))],statics:{calculateState:function j(k,l){var m=c("ReactComposerTaggerStore").getTaggersData(k),n=m[c("ReactComposerTaggerType").PEOPLE],o=m[c("ReactComposerTaggerType").LOCATION],p=m[c("ReactComposerTaggerType").ACTIVITY],q=o?o.place:null,r=m[c("ReactComposerTaggerType").PRODUCT],s=m[c("ReactComposerTaggerType").SPONSOR],t=m[c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE],u=m[c("ReactComposerTaggerType").ISSUE_TAG],v=m[c("ReactComposerTaggerType").TAG_EVENT],w=m[c("ReactComposerTaggerType").LOCAL_ALERTS];return{people:n,place:q,activity:p,products:r,sponsors:s,politicalRepresentativeInfo:t,issues:u,tagEventData:v,localAlert:w}}},UNSAFE_componentWillMount:function j(){this._ogSubscription=c("Arbiter").subscribe("composer/ogCustomIconSelected",function(event,k){if(!c("containsNode")(c("ReactDOM").findDOMNode(this.refs.taggerSummary),k.triggerElement))return;var l=c("ReactComposerTaggerStore").getTaggerData(this.context.composerID,c("ReactComposerTaggerType").ACTIVITY)||{};l.actionIconID=k.icon_id;l.actionIconURI=k.iconURI;c("ReactComposerTaggerActions").setTaggerDataWithoutLogging(this.context.composerID,c("ReactComposerTaggerType").ACTIVITY,l)}.bind(this))},componentWillUnmount:function j(){if(this._ogSubscription){this._ogSubscription.unsubscribe&&this._ogSubscription.unsubscribe();this._ogSubscription=null}},render:function j(){return c("React").createElement("div",{className:"_vww","data-testid":"tagger-summary"},c("React").createElement(c("ShareDialogTagSummary.react"),{ogObjectClick:this._ogObjectClick,onTagSummaryClick:this._onTagSummaryClick,peopleToExclude:c("immutable").Set([this.context.actorID]),placeTokenClick:this._placeTokenClick,politicalRepresentativeClick:this._onPoliticalRepresentativeClick,tagEventClick:this._onTagEventClick,localAlertTokenClick:this._localAlertTokenClick,ref:"taggerSummary",taggerData:c("immutable").Map({action:this.state.activity.action,actionIconID:this.state.activity.actionIconID,object:this.state.activity.object,people:this.state.people,place:this.state.place,products:this.state.products,sponsors:this.state.sponsors,politicalRepresentativeInfo:this.state.politicalRepresentativeInfo,issues:this.state.issues,localAlert:this.state.localAlert,tagEventData:this.state.tagEventData}),withTokenClick:this._withTokenClick}))},_withTokenClick:function j(){c("ReactComposerTaggerActions").selectTagger(this.context.composerID,c("ReactComposerLoggingName").TAGGER_SUMMARY_PEOPLE,c("ReactComposerTaggerType").PEOPLE)},_placeTokenClick:function j(){c("ReactComposerTaggerActions").selectTagger(this.context.composerID,c("ReactComposerLoggingName").TAGGER_SUMMARY_LOCATION,c("ReactComposerTaggerType").LOCATION)},_ogObjectClick:function j(){c("ReactComposerTaggerActions").selectTagger(this.context.composerID,c("ReactComposerLoggingName").TAGGER_SUMMARY_MINUTIAE,c("ReactComposerTaggerType").ACTIVITY)},_onTagSummaryClick:function j(){c("ReactComposerTaggerActions").deselectCurrentTagger(this.context.composerID,c("ReactComposerLoggingName").TAGGER_SUMMARY_ROW)},_onPoliticalRepresentativeClick:function j(){c("ReactComposerTaggerActions").selectTagger(this.context.composerID,c("ReactComposerLoggingName").TAGGER_SUMMARY_CONTACT_YOUR_REPRESENTATIVE,c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE)},_onTagEventClick:function j(){c("ReactComposerTaggerActions").selectTagger(this.context.composerID,c("ReactComposerLoggingName").TAGGER_SUMMARY_TAG_EVENT,c("ReactComposerTaggerType").TAG_EVENT)},_localAlertTokenClick:function j(){c("ReactComposerTaggerActions").selectTagger(this.context.composerID,c("ReactComposerLoggingName").LOCAL_ALERTS_SPROUT,c("ReactComposerTaggerType").LOCAL_ALERTS)}});f.exports=i}),null);
__d("ReactComposerTaggers.react",["cx","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_1idc"},this.props.children)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("DummySearchSource",["AbstractSearchSource"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AbstractSearchSource"));i=h&&h.prototype;j.prototype.searchImpl=function(k,l,m){"use strict";l([],k)};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("ReactComposerActionTaggerItem.react",["cx","ImageBlock.react","React","TypeaheadViewItem","joinClasses"],(function a(b,c,d,e,f,g,h){var i=c("React").PropTypes,j=c("React").createClass({displayName:"ReactComposerActionTaggerItem",mixins:[c("TypeaheadViewItem").Mixin],propTypes:babelHelpers["extends"]({customIcon:i.object},c("TypeaheadViewItem").propTypes),render:function k(){var l=this.props.entry,m=l.getAuxiliaryData(),n=c("React").createElement("span",{dangerouslySetInnerHTML:m.icon||this.props.customIcon}),o="_599m _5mne"+(this.props.highlighted?" _599n":"")+" _18d1"+(this.props.highlighted?" _18d2":"");o=c("joinClasses")(o,this.props.className);return c("React").createElement("li",{"aria-selected":this.props.highlighted,className:o,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role},c("React").createElement(c("ImageBlock.react"),{spacing:"medium"},n,c("React").createElement("div",{className:"_599p"},l.getTitle())),c("React").createElement("i",{className:"_18d3"}))}});f.exports=j}),null);
__d("ReactComposerActionTaggerView.react",["React","ReactComposerActionTaggerItem.react","ReactComposerTaggerViewMixin"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"ReactComposerActionTaggerView",mixins:[c("ReactComposerTaggerViewMixin")],getItemImpl:function i(){return c("ReactComposerActionTaggerItem.react")}});f.exports=h}),null);
__d("ReactComposerActionTaggerPresenter",["ReactComposerActionTaggerView.react"],(function a(b,c,d,e,f,g){f.exports={ViewRenderer:c("ReactComposerActionTaggerView.react"),useLayer:true,maxEntries:20}}),null);
__d("WebAsyncSearchSourceWithMetrics",["AbstractAsyncSearchSource","AbstractSearchSource","AsyncRequest","TypeaheadMetricReporter","WebAsyncSearchSourceUtils","uuid"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AbstractSearchSource"));i=h&&h.prototype;function j(k,l){"use strict";i.constructor.call(this);this.$WebAsyncSearchSourceWithMetrics1=new(c("AbstractAsyncSearchSource"))(k,this.$WebAsyncSearchSourceWithMetrics4.bind(this),c("WebAsyncSearchSourceUtils").normalizeResponse);this.$WebAsyncSearchSourceWithMetrics2=new(c("TypeaheadMetricReporter"))(l);this.$WebAsyncSearchSourceWithMetrics3=new Map();this.$WebAsyncSearchSourceWithMetrics2.addListener&&this.$WebAsyncSearchSourceWithMetrics2.addListener("reset",function(m){this.$WebAsyncSearchSourceWithMetrics1.setRequestData({sid:m.sid})}.bind(this))}j.prototype.bootstrapImpl=function(k){"use strict";this.$WebAsyncSearchSourceWithMetrics2.reportBootstrapBegin();this.$WebAsyncSearchSourceWithMetrics1.bootstrap(function(){this.$WebAsyncSearchSourceWithMetrics1.getBootstrappedEntries(function(l){this.$WebAsyncSearchSourceWithMetrics2.reportBootstrapComplete(l.map(function(m){return m.getType()}));k()}.bind(this))}.bind(this))};j.prototype.searchImpl=function(k,l,m){"use strict";this.$WebAsyncSearchSourceWithMetrics2.reportQueryBegin(k);if(m)this.$WebAsyncSearchSourceWithMetrics2.reportStrategyName(m.strategyName);var n=Date.now();this.$WebAsyncSearchSourceWithMetrics1.search(k,function(o,k,p){this.$WebAsyncSearchSourceWithMetrics2.reportQueryComplete(Date.now()-n,0);l(o,k,p)}.bind(this),m)};j.prototype.getBootstrappedEntries=function(k){"use strict";return this.$WebAsyncSearchSourceWithMetrics1.getBootstrappedEntries(k)};j.prototype.getAllEntriesMap=function(){"use strict";return this.$WebAsyncSearchSourceWithMetrics1.getAllEntriesMap()};j.prototype.getTypeaheadSessionID=function(){"use strict";return this.$WebAsyncSearchSourceWithMetrics2.getSID()};j.prototype.setRequestData=function(k){"use strict";this.$WebAsyncSearchSourceWithMetrics1.setRequestData(k)};j.prototype.sessionStart=function(){"use strict";this.$WebAsyncSearchSourceWithMetrics2.sessionStart()};j.prototype.sessionEnd=function(){"use strict";this.$WebAsyncSearchSourceWithMetrics2.sessionEnd()};j.prototype.reportResults=function(k){"use strict";this.$WebAsyncSearchSourceWithMetrics2.reportResults(k)};j.prototype.reportSelect=function(k,l,m,n,o,p){"use strict";this.$WebAsyncSearchSourceWithMetrics2.reportSelect(k,l,m,n,o,p)};j.prototype.reportRequestID=function(k){"use strict";this.$WebAsyncSearchSourceWithMetrics2.reportRequestID(this.$WebAsyncSearchSourceWithMetrics5(k))};j.prototype.$WebAsyncSearchSourceWithMetrics5=function(k){"use strict";var l=k;while(l.length>0){if(this.$WebAsyncSearchSourceWithMetrics3.has(l))return this.$WebAsyncSearchSourceWithMetrics3.get(l);l=l.slice(0,-1)}return this.$WebAsyncSearchSourceWithMetrics3.get("")};j.prototype.$WebAsyncSearchSourceWithMetrics4=function(k,l,m,n){"use strict";var o=k.value||"",p=c("uuid")();new(c("AsyncRequest"))(l.uri).setData(babelHelpers["extends"]({request_id:p},k,l.data)).setMethod("GET").setReadOnly(true).setAllowCrossPageTransition(true).setInitialHandler(function(){this.$WebAsyncSearchSourceWithMetrics3.set(o,p)}.bind(this)).setHandler(m).setErrorHandler(n).send()};f.exports=j}),null);
__d("ReactComposerActionTaggerComponent.react",["cx","fbt","BasicTypeaheadLoggerJSConstants","DummySearchSource","React","ReactComposerActionTaggerPresenter","ReactComposerTaggerViewStyles","WebAsyncSearchSourceWithMetrics","XUITypeahead.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("BasicTypeaheadLoggerJSConstants").Fields,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(o){"use strict";__p&&__p();k.constructor.call(this,o);this.$ReactComposerActionTaggerComponent1=function(p,event){var q={};q[l.SELECTED_ORIGINAL_ID]=p.getAuxiliaryData().original_id;q[l.PLACE_ID]=this.props.placeID;this.props.taggerSource.reportSelect(p.getUniqueID(),p.getType(),p.getOrder(),!!event&&event.button>=0,this.state.query,q);this.props.taggerSource.sessionEnd();this.setState({query:p.getTitle()});this.props.onSelect&&this.props.onSelect(p)}.bind(this);this.$ReactComposerActionTaggerComponent2=function(){this.setState({query:""});this.props.onSelect&&this.props.onSelect(null)}.bind(this);this.$ReactComposerActionTaggerComponent3=function(event){this.setState({query:event.target.value})}.bind(this);this.$ReactComposerActionTaggerComponent4=function(){this.props.taggerSource.sessionEnd()}.bind(this);this.$ReactComposerActionTaggerComponent5=function(){this.props.taggerSource.sessionStart()}.bind(this);this.$ReactComposerActionTaggerComponent6=function(p,q){this.props.taggerSource.reportRequestID(this.state.query);this.props.taggerSource.reportResults(p.map(function(r){return r.getUniqueID()}))}.bind(this);this.$ReactComposerActionTaggerComponent7=function(){this.props.taggerSource.reportRequestID(this.state.query)}.bind(this);o.taggerSource.sessionStart();this.state={query:""}}n.prototype.componentWillUnmount=function(){"use strict";this.props.taggerSource.sessionEnd()};n.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_3uco _5esl"},c("React").createElement(c("XUITypeahead.react"),{presenter:this.$ReactComposerActionTaggerComponent8(),focusedOnInit:this.props.autoFocus,showEntriesOnFocus:true,placeholder:i._("Choose a feeling or activity..."),className:"_5esx _3ucr",queryString:this.state.query,searchSource:this.props.taggerSource,highlightOnSelect:true,onSelectAttempt:this.$ReactComposerActionTaggerComponent1,onClear:this.$ReactComposerActionTaggerComponent2,onChange:this.$ReactComposerActionTaggerComponent3,onBlur:this.$ReactComposerActionTaggerComponent4,onFocus:this.$ReactComposerActionTaggerComponent5,onEntriesFound:this.$ReactComposerActionTaggerComponent6,onNoEntriesFound:this.$ReactComposerActionTaggerComponent7,tallInput:true,autoHighlight:true}))};n.prototype.$ReactComposerActionTaggerComponent8=function(){"use strict";var o={taggerViewStyle:this.props.taggerViewStyle};return Object.assign({},c("ReactComposerActionTaggerPresenter"),{layerPosition:this.props.layerPosition||undefined,extraRendererProps:o})};n.propTypes={autoFocus:m.bool,onSelect:m.func,placeID:m.string,taggerSource:m.instanceOf(c("WebAsyncSearchSourceWithMetrics")).isRequired,taggerViewStyle:m.shape(c("ReactComposerTaggerViewStyles").Shape)};n.defaultProps={autoFocus:true,onSelect:c("emptyFunction"),taggerSource:new(c("DummySearchSource"))(),taggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT};f.exports=n}),null);
__d("ReactComposerActivityTaggerButton.react",["cx","fbt","React","ReactComposerLoggingName","ReactComposerTaggerButtonMixin","ReactComposerTaggerType"],(function a(b,c,d,e,f,g,h,i){var j=c("React").createClass({displayName:"ReactComposerActivityTaggerButton",mixins:[c("ReactComposerTaggerButtonMixin")],statics:{taggerID:c("ReactComposerTaggerType").ACTIVITY,loggingName:c("ReactComposerLoggingName").MINUTIAE_TAGGER},getTitle:function k(){return i._("Add what you're doing or how you're feeling")},getTooltip:function k(){return i._("Add what you're doing or how you're feeling")},getClassName:function k(){return"_3tdo"}});f.exports=j}),null);
__d("ReactComposerObjectTaggerItem.react",["cx","BackgroundImage.react","Badge.react","ImageBlock.react","Locale","React","TypeaheadViewItem","UnicodeBidi","joinClasses"],(function a(b,c,d,e,f,g,h){var i=c("React").createClass({displayName:"ReactComposerObjectTaggerItem",mixins:[c("TypeaheadViewItem").Mixin],propTypes:c("TypeaheadViewItem").propTypes,render:function j(){var k=this.props.entry,l=k.getSubtitle()?c("React").createElement("div",{className:"_599q"},k.getSubtitle()):null,m=k.getPhoto()?c("React").createElement(c("BackgroundImage.react"),{width:32,height:32,backgroundSize:"cover",src:k.getPhoto()}):c("React").createElement("span",null),n=k.getAuxiliaryData(),o=n&&n.verified?c("React").createElement(c("Badge.react"),null):null,p=n&&n.icon?c("React").createElement("span",{className:"_mbq",dangerouslySetInnerHTML:n.icon}):null,q="_599m"+(!l?" _5mne":"")+(this.props.highlighted?" _599n":"");q=c("joinClasses")(q,this.props.className);var r=c("UnicodeBidi").isDirectionRTL(k.getTitle()),s=c("Locale").isRTL(),t=r&&!s?"rtl":!r&&s?"ltr":null;return c("React").createElement("li",{"aria-selected":this.props.highlighted,className:q,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role},c("React").createElement(c("ImageBlock.react"),{spacing:"medium"},m,c("React").createElement("div",null,c("React").createElement("div",{className:"_599p",dir:t},k.getTitle(),o),l),p))}});f.exports=i}),null);
__d("ReactComposerObjectTaggerView.react",["React","ReactComposerActionTaggerItem.react","ReactComposerObjectTaggerItem.react","ReactComposerTaggerViewMixin"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"ReactComposerObjectTaggerView",mixins:[c("ReactComposerTaggerViewMixin")],getItemImpl:function i(){return c("ReactComposerObjectTaggerItem.react")},getRegexItemImpl:function i(){return c("ReactComposerActionTaggerItem.react")}});f.exports=h}),null);
__d("ReactComposerObjectTaggerPresenter",["ReactComposerObjectTaggerView.react"],(function a(b,c,d,e,f,g){f.exports={ViewRenderer:c("ReactComposerObjectTaggerView.react"),useLayer:true,maxEntries:120}}),null);
__d("RegexMatchSearchSource",["AbstractSearchSource","SearchableEntry"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AbstractSearchSource"));i=h&&h.prototype;function j(k,l,m){"use strict";i.constructor.call(this);this.$RegexMatchSearchSource2=new RegExp(k);this.$RegexMatchSearchSource3=l||"";this.$RegexMatchSearchSource1=m||{}}j.prototype.searchImpl=function(k,l,m){"use strict";if(k&&this.$RegexMatchSearchSource2.test(k)){var n=new(c("SearchableEntry"))({uniqueID:k,title:k,type:this.$RegexMatchSearchSource3,auxiliaryData:babelHelpers["extends"]({},this.$RegexMatchSearchSource1,{isRegexEntry:true})});l([n],k);return}l([],k)};f.exports=j}),null);
__d("ReactComposerObjectTaggerComponent.react",["cx","DummySearchSource","Grid.react","ReactComposerObjectTaggerPresenter","ReactComposerTaggerViewStyles","React","RegexMatchSearchSource","BasicTypeaheadLoggerJSConstants","WebAsyncPlusRegexSearchSource","WebAsyncSearchSourceWithMetrics","XUITypeahead.react","emptyFunction"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("Grid.react").GridItem,l=c("BasicTypeaheadLoggerJSConstants").Fields,m=c("React").PropTypes;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;function n(o){"use strict";__p&&__p();j.constructor.call(this,o);this.$ReactComposerObjectTaggerComponent1=function(u,event){var v={};v[l.SELECTED_ORIGINAL_ID]=u.getAuxiliaryData().original_id;v[l.PLACE_ID]=this.props.placeID;this.props.taggerSource.reportSelect(u.getUniqueID(),u.getType(),u.getOrder(),!!event&&event.button>=0,this.state.query,v);this.props.taggerSource.sessionEnd();this.setState({query:u.getTitle()});this.props.onSelect(u)}.bind(this);this.$ReactComposerObjectTaggerComponent2=function(event){if(this.props.object&&this.props.object.getTitle()===event.target.value)this.props.onSelect(null);if(event.target.value==="")this.props.onEmptyBackspace()}.bind(this);this.$ReactComposerObjectTaggerComponent3=function(){this.setState({query:""});this.props.onClear()}.bind(this);this.$ReactComposerObjectTaggerComponent4=function(event){this.setState({query:event.target.value})}.bind(this);this.$ReactComposerObjectTaggerComponent5=function(){this.props.onPrefixClick()}.bind(this);this.$ReactComposerObjectTaggerComponent6=function(){this.props.taggerSource.sessionEnd()}.bind(this);this.$ReactComposerObjectTaggerComponent7=function(){setTimeout(function(){this.props.taggerSource.sessionStart()}.bind(this),0)}.bind(this);this.$ReactComposerObjectTaggerComponent8=function(u,v){this.props.taggerSource.reportRequestID(this.state.query);this.props.taggerSource.reportResults(u.map(function(w){return w.getUniqueID()}))}.bind(this);this.$ReactComposerObjectTaggerComponent9=function(){this.props.taggerSource.reportRequestID(this.state.query)}.bind(this);var p=o.taggerSource,q=o.action.getUniqueID(),r=o.actionTypeIDsWithNoFreeForm,s=!r[q];if(s){var t=new(c("RegexMatchSearchSource"))(".+");p=new(c("WebAsyncPlusRegexSearchSource"))({asyncSource:p,regexSource:t,appendRegexEntries:true})}setTimeout(function(){o.taggerSource.sessionStart()},0);this.state={query:o.object?o.object.getTitle():"",searchSource:p}}n.prototype.componentWillUnmount=function(){"use strict";this.props.taggerSource.sessionEnd()};n.prototype.focusInput=function(){"use strict";var o=this.refs.objectTypeahead;if(o)o.focusInput&&o.focusInput()};n.prototype.render=function(){"use strict";var o=this.props.action.getAuxiliaryData(),p=o?o.prompt:"";return c("React").createElement(c("Grid.react"),{cols:2,className:"_5esl"},c("React").createElement(k,{className:"_5esm _4zdy",key:"prefix",role:"presentation",onClick:this.$ReactComposerObjectTaggerComponent5},this.props.action.getTitle()),c("React").createElement(k,{className:"_5esw",key:"suffix"},c("React").createElement(c("XUITypeahead.react"),{ref:"objectTypeahead",presenter:this.$ReactComposerObjectTaggerComponent10(),clearable:true,focusedOnInit:this.props.autoFocus,autoHighlight:true,showEntriesOnFocus:true,placeholder:p,selectedEntry:this.props.object,className:"_5esx _4zdz",queryString:this.state.query,searchSource:this.state.searchSource,highlightOnSelect:true,onSelectAttempt:this.$ReactComposerObjectTaggerComponent1,onBackspace:this.$ReactComposerObjectTaggerComponent2,onClear:this.$ReactComposerObjectTaggerComponent3,onChange:this.$ReactComposerObjectTaggerComponent4,onBlur:this.$ReactComposerObjectTaggerComponent6,onEntriesFound:this.$ReactComposerObjectTaggerComponent8,onNoEntriesFound:this.$ReactComposerObjectTaggerComponent9,onFocus:this.$ReactComposerObjectTaggerComponent7,tallInput:false})))};n.prototype.$ReactComposerObjectTaggerComponent10=function(){"use strict";var o={};o.taggerViewStyle=this.props.taggerViewStyle;o.customIcon=this.props.action.getAuxiliaryData().icon;return Object.assign({},c("ReactComposerObjectTaggerPresenter"),{layerPosition:this.props.layerPosition||undefined,extraRendererProps:o})};n.propTypes={action:m.object.isRequired,actionTypeIDsWithNoFreeForm:m.object.isRequired,autoFocus:m.bool,object:m.object,onClear:m.func.isRequired,onEmptyBackspace:m.func.isRequired,onPrefixClick:m.func.isRequired,onSelect:m.func.isRequired,placeID:m.string,taggerSource:m.instanceOf(c("WebAsyncSearchSourceWithMetrics")).isRequired,taggerViewStyle:m.shape(c("ReactComposerTaggerViewStyles").Shape)};n.defaultProps={actionTypeIDsWithNoFreeForm:{},autoFocus:true,onClear:c("emptyFunction"),onEmptyBackspace:c("emptyFunction"),onPrefixClick:c("emptyFunction"),onSelect:c("emptyFunction"),taggerSource:new(c("DummySearchSource"))(),taggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT};f.exports=n}),null);
__d("ReactComposerObjectTaggerContainer.react",["React","ReactComposerObjectTaggerComponent.react","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerTaggerViewStyles","emptyFunction"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerObjectTaggerContainer",mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerTaggerStore"))],propTypes:{action:h.object.isRequired,autoFocus:h.bool,onClear:h.func.isRequired,onEmptyBackspace:h.func.isRequired,onPrefixClick:h.func.isRequired,onSelect:h.func.isRequired,object:h.object,taggerViewStyle:h.shape(c("ReactComposerTaggerViewStyles").Shape)},getDefaultProps:function j(){return{autoFocus:true,onClear:c("emptyFunction"),onEmptyBackspace:c("emptyFunction"),onPrefixClick:c("emptyFunction"),onSelect:c("emptyFunction"),taggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT}},statics:{calculateState:function j(k,l){var m=c("ReactComposerTaggerStore").getTaggerSource(k,c("ReactComposerTaggerType").OG);return{taggerSource:m}}},render:function j(){return c("React").createElement(c("ReactComposerObjectTaggerComponent.react"),babelHelpers["extends"]({ref:"objectTagger"},this.props,{taggerSource:this.state.taggerSource}))},focusInput:function j(){var k=this.refs.objectTagger;k&&k.focusInput()}});f.exports=i}),null);
__d("ReactComposerActivityTaggerComponent.react",["DummySearchSource","React","ReactComposerActionTaggerComponent.react","ReactComposerObjectTaggerContainer.react","ReactComposerTaggerViewStyles","WebAsyncSearchSourceWithMetrics","emptyFunction"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(){__p&&__p();var l,m;"use strict";for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={action:this.props.taggerData.action,object:this.props.taggerData.object},this.$ReactComposerActivityTaggerComponent3=function(q){this.props.onSelect&&this.props.onSelect(this.getTaggerData(q,null));this.setState({action:q})}.bind(this),this.$ReactComposerActivityTaggerComponent2=function(q){this.props.onSelect&&this.props.onSelect(this.getTaggerData(this.state.action,q));this.setState({object:q})}.bind(this),this.$ReactComposerActivityTaggerComponent1=function(){this.props.onSelect&&this.props.onSelect(this.getTaggerData(null,null));this.setState({action:null,object:null})}.bind(this),m}k.prototype.componentDidUpdate=function(){"use strict";if(this.state.action&&!this.state.object){var l=this.refs.objectTagger;l&&l.focusInput()}};k.prototype.componentWillUnmount=function(){"use strict";if(this.state.action&&!this.state.object)this.$ReactComposerActivityTaggerComponent1()};k.prototype.render=function(){"use strict";if(this.state.action)return c("React").createElement(c("ReactComposerObjectTaggerContainer.react"),{ref:"objectTagger",action:this.state.action,actionTypeIDsWithNoFreeForm:this.props.actionTypeIDsWithNoFreeForm,autoFocus:this.props.autoFocus,layerPosition:this.props.layerPosition,object:this.state.object,onClear:this.$ReactComposerActivityTaggerComponent1,onEmptyBackspace:this.$ReactComposerActivityTaggerComponent1,onPrefixClick:this.$ReactComposerActivityTaggerComponent1,onSelect:this.$ReactComposerActivityTaggerComponent2,placeID:this.props.placeID,taggerViewStyle:this.props.objectTaggerViewStyle});return c("React").createElement(c("ReactComposerActionTaggerComponent.react"),{autoFocus:this.props.autoFocus,layerPosition:this.props.layerPosition,onSelect:this.$ReactComposerActivityTaggerComponent3,placeID:this.props.placeID,taggerSource:this.props.taggerSource,taggerViewStyle:this.props.actionTaggerViewStyle})};k.prototype.getTaggerData=function(l,m){"use strict";var n=this.props.taggerData;n.action=l;n.object=m;return n};k.propTypes={actionTypeIDsWithNoFreeForm:j.object.isRequired,actorID:j.string.isRequired,autoFocus:j.bool,placeID:j.string,taggerData:j.object.isRequired,taggerSource:j.instanceOf(c("WebAsyncSearchSourceWithMetrics")).isRequired,onSelect:j.func.isRequired,actionTaggerViewStyle:j.shape(c("ReactComposerTaggerViewStyles").Shape),objectTaggerViewStyle:j.shape(c("ReactComposerTaggerViewStyles").Shape)};k.defaultProps={actionTypeIDsWithNoFreeForm:{},autoFocus:true,taggerData:{},taggerSource:new(c("DummySearchSource"))(),onSelect:c("emptyFunction"),actionTaggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT,objectTaggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT};f.exports=k}),null);
__d("ReactComposerTypeaheadSearchSourceType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ACTIVITY:"ACTIVITY",LOCATION:"LOCATION"})}),null);
__d("ReactComposerActivityTaggerContainer.react",["Arbiter","BasicTypeaheadLoggerJSConstants","MinutiaeVerbs","React","ReactComposerActivityTaggerComponent.react","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerEvents","ReactComposerLocationAttachmentActions","ReactComposerLoggingName","ReactComposerMinutiaeAttachmentActions","ReactComposerTaggerActions","ReactComposerTaggerContainerMixin","ReactComposerTaggerType","ReactComposerTaggerViewStyles","ReactComposerTypeaheadSearchSourceConfig","ReactComposerTypeaheadSearchSourceType","WebAsyncSearchSourceWithMetrics","getObjectValues"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerActivityTaggerContainer",_actionTypeSearchSources:new Map(),_objectSearchSources:new Map(),_searchSourceConfig:null,mixins:[c("ReactComposerTaggerContainerMixin")()],statics:{taggerID:c("ReactComposerTaggerType").ACTIVITY,loggingName:c("ReactComposerLoggingName").MINUTIAE_TAGGER,taggerComponent:c("ReactComposerActivityTaggerComponent.react"),enableHideOnEscape:true,webDriverTestID:"activity-tagger-component"},propTypes:{actionTypeIDsToPrefetch:h.array.isRequired,actionTypeIDsWithNoFreeForm:h.object.isRequired,isPersonalTimeline:h.bool,rankVerbs:h.bool,placeID:h.string,typeaheadLoggerEventName:h.oneOf(c("getObjectValues")(c("BasicTypeaheadLoggerJSConstants").EventNames)).isRequired,actionTaggerViewStyle:h.shape(c("ReactComposerTaggerViewStyles").Shape),objectTaggerViewStyle:h.shape(c("ReactComposerTaggerViewStyles").Shape)},getDefaultProps:function j(){return{actionTypeIDsToPrefetch:[],actionTypeIDsWithNoFreeForm:{},isPersonalTimeline:false,placeID:null,rankVerbs:false,actionTaggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT,objectTaggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT}},getInitialState:function j(){return{hasDoneInitialObjectPrefetch:false}},UNSAFE_componentWillMount:function j(){this._searchSourceConfig=c("ReactComposerTypeaheadSearchSourceConfig")[c("ReactComposerTypeaheadSearchSourceType").ACTIVITY];this._updateActionTypeSearchSource(this.props.placeID);this.state.taggerData&&this.__onTaggerDataChanged(this.state.taggerData)},UNSAFE_componentWillReceiveProps:function j(k){if(k.placeID!==this.props.placeID){this._updateActionTypeSearchSource(k.placeID);this._prefetchObjectSearchSources(k.placeID)}},UNSAFE_componentWillUpdate:function j(k,l){__p&&__p();if(!this.state.isSelected&&l.isSelected){var m=this._actionTypeSearchSources.get(this.props.placeID).getTypeaheadSessionID();this._createAndBootstrapActionTypeSearchSource(this.props.placeID,{sid:m});var n=this.state.hasDoneInitialObjectPrefetch||l.hasDoneInitialObjectPrefetch;if(!n)this._prefetchObjectSearchSources(this.props.placeID);var o=l.taggerData;if(o.action)this._updateObjectSearchSource(o.action.getUniqueID())}},_suppressUpdateLogging:function j(k){return k.action&&!k.object},__onTaggerDataChanged:function j(k){__p&&__p();if(k.action){this._updateObjectSearchSource(k.action.getUniqueID());if(!k.object){var l=this._objectSearchSources.get(k.action.getUniqueID()).getTypeaheadSessionID();this._createAndBootstrapObjectSearchSource(k.action.getUniqueID(),this.props.placeID,{sid:l})}}if(k.action&&k.object){c("ReactComposerTaggerActions").deselectCurrentTagger(this.context.composerID,this.constructor.loggingName);var m=this._shouldFetchMinutiaeAttachment(k.action,k.object);if(k.shouldRemoveDefaultAttachment)m=false;if(m){if(k.action.getUniqueID()==c("MinutiaeVerbs").COMPOSER_TRAVELS.toString())c("ReactComposerLocationAttachmentActions").setMinutiaeActionContext(this.context.composerID,k.object.getUniqueID(),!!this.props.isPersonalTimeline);else this._clearMinutiaeLocation();c("ReactComposerMinutiaeAttachmentActions").fetchMinutiaeAttachment(this.context.composerID,k.action.getUniqueID(),k.object.getUniqueID(),this.context.targetID,this.context.actorID,!!this.props.isPersonalTimeline);setTimeout(function(){c("Arbiter").inform(c("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)}.bind(this),0)}}else{c("ReactComposerMinutiaeAttachmentActions").setMarkup(this.context.composerID,null);this._clearMinutiaeLocation()}},_clearMinutiaeLocation:function j(){c("ReactComposerLocationAttachmentActions").setMinutiaeActionContext(this.context.composerID,null,!!this.props.isPersonalTimeline)},_shouldFetchMinutiaeAttachment:function j(k,l){var m=c("ReactComposerAttachmentStore").getIsAttachmentSelected(this.context.composerID,c("ReactComposerAttachmentType").STATUS);if(!m)return false;if(l.getAuxiliaryData().isRegexEntry)return false;return true},_updateActionTypeSearchSource:function j(k){var l=null;if(this._actionTypeSearchSources.has(k))l=this._actionTypeSearchSources.get(k);else{l=this._createAndBootstrapActionTypeSearchSource(k,{is_prefetching:true});this._actionTypeSearchSources.set(k,l)}c("ReactComposerTaggerActions").setTaggerSource(this.context.composerID,c("ReactComposerTaggerType").ACTIVITY,l)},_createAndBootstrapActionTypeSearchSource:function j(k,l){var m="/ajax/metacomposer/attachment/og/typeahead/bootstrap/action_type_loader",n={place_id:k,rank_verbs:this.props.rankVerbs,viewer:this.props.actorID},o={getAllForEmptyQuery:true,bootstrapRequests:[{uri:m,data:Object.assign({},n)}],queryRequests:[],auxiliaryFields:this._searchSourceConfig.action&&this._searchSourceConfig.action.auxiliaryFields};if(this.props.rankVerbs)o.queryRequests=[{uri:m,data:Object.assign({},n)}];var p={event_name:this.props.typeaheadLoggerEventName,minutiae_composer_version:c("BasicTypeaheadLoggerJSConstants").MinutiaeComposerVersions.REACT,at_id:c("MinutiaeVerbs").COMPOSER_SELECTS_VERB},q=new(c("WebAsyncSearchSourceWithMetrics"))(o,p),r=q.getTypeaheadSessionID();q.setRequestData(l);q.bootstrap();q.setRequestData({sid:r});return q},_prefetchObjectSearchSources:function j(k){var l=this.props.actionTypeIDsToPrefetch,m=new Map();l.forEach(function(n){var o=this._createAndBootstrapObjectSearchSource(n,k,{is_prefetching:true});m.set(n,o)}.bind(this));this._objectSearchSources=m;this.setState({hasDoneInitialObjectPrefetch:true})},_updateObjectSearchSource:function j(k){var l=null;if(this._objectSearchSources.has(k))l=this._objectSearchSources.get(k);else{l=this._createAndBootstrapObjectSearchSource(k,this.props.placeID,{is_prefetching:false});this._objectSearchSources.set(k,l)}c("ReactComposerTaggerActions").setTaggerSource(this.context.composerID,c("ReactComposerTaggerType").OG,l)},_createAndBootstrapObjectSearchSource:function j(k,l,m){var n="/ajax/metacomposer/attachment/og/typeahead/query/object_loader",o={at_id:k,place_id:l,viewer:this.props.actorID},p={getAllForEmptyQuery:true,bootstrapRequests:[{uri:n,data:Object.assign({},o,{is_bootstrap:true})}],queryRequests:[{uri:n,data:Object.assign({},o,{is_bootstrap:false})}],auxiliaryFields:this._searchSourceConfig.object&&this._searchSourceConfig.object.auxiliaryFields},q={event_name:this.props.typeaheadLoggerEventName,minutiae_composer_version:c("BasicTypeaheadLoggerJSConstants").MinutiaeComposerVersions.REACT,at_id:k},r=new(c("WebAsyncSearchSourceWithMetrics"))(p,q),s=r.getTypeaheadSessionID();r.setRequestData(m);r.bootstrap();r.setRequestData({sid:s});return r}});f.exports=i}),null);
__d("ReactComposerLocationSearchSource",["ReactComposerTypeaheadSearchSourceConfig","ReactComposerTypeaheadSearchSourceType","SearchableEntry","WebAsyncSearchSourceWithMetrics"],(function a(b,c,d,e,f,g){function h(i,j,k){var l=c("ReactComposerTypeaheadSearchSourceConfig")[c("ReactComposerTypeaheadSearchSourceType").LOCATION],m=Object.assign({},l,j),n=Object.assign({},l,i);l={bootstrapRequests:[{uri:"/ajax/places/typeahead",data:n}],getAllForEmptyQuery:true,queryRequests:[{uri:"/ajax/places/typeahead",data:m}],packageFn:function o(m){return m?new(c("SearchableEntry"))(m):null}};return new(c("WebAsyncSearchSourceWithMetrics"))(l,k)}f.exports=h}),null);
__d("ReactComposerLocationTaggerButton.react",["cx","fbt","React","ReactComposerLoggingName","ReactComposerTaggerButtonMixin","ReactComposerTaggerType"],(function a(b,c,d,e,f,g,h,i){var j=c("React").createClass({displayName:"ReactComposerLocationTaggerButton",mixins:[c("ReactComposerTaggerButtonMixin")],statics:{taggerID:c("ReactComposerTaggerType").LOCATION,loggingName:c("ReactComposerLoggingName").LOCATION_TAGGER},getTitle:function k(){return i._("Tag a location")},getTooltip:function k(){return i._("Check In")},getClassName:function k(){return"_3gqo"}});f.exports=j}),null);
__d("ReactComposerLocationTypeaheadComponent.react",["fbt","React","WebAsyncSearchSourceWithMetrics","XUITypeahead.react","emptyFunction"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){"use strict";__p&&__p();j.constructor.call(this,m);this.$ReactComposerLocationTypeaheadComponent9=function(){return Object.assign({},this.props.taggerData)}.bind(this);this.$ReactComposerLocationTypeaheadComponent8=function(o,event){this.props.taggerSource.reportSelect(o.getUniqueID(),o.getType(),o.getOrder(),!!event&&event.button>=0,this.state.query);this.props.taggerSource.sessionEnd();var p=this.$ReactComposerLocationTypeaheadComponent9();p.place=o;this.setState({query:o.getTitle()});this.props.onSelect&&this.props.onSelect(p)}.bind(this);this.$ReactComposerLocationTypeaheadComponent3=function(event){this.setState({query:event.target.value})}.bind(this);this.$ReactComposerLocationTypeaheadComponent1=function(event){if(this.state.query===event.target.value)this.$ReactComposerLocationTypeaheadComponent10()}.bind(this);this.$ReactComposerLocationTypeaheadComponent4=function(){this.$ReactComposerLocationTypeaheadComponent10();this.setState({query:""})}.bind(this);this.$ReactComposerLocationTypeaheadComponent2=function(){this.props.taggerSource.sessionEnd()}.bind(this);this.$ReactComposerLocationTypeaheadComponent6=function(){this.props.taggerSource.sessionStart()}.bind(this);this.$ReactComposerLocationTypeaheadComponent5=function(o,p){this.props.taggerSource.reportRequestID(this.state.query);this.props.taggerSource.reportResults(o.map(function(q){return q.getUniqueID()}))}.bind(this);this.$ReactComposerLocationTypeaheadComponent7=function(){this.props.taggerSource.reportRequestID(this.state.query)}.bind(this);m.taggerSource.sessionStart();var n={};if(m.defaultLocation)n.query=m.defaultLocation;else n.query=m.taggerData.place?m.taggerData.place.getTitle():"";this.state=n}l.prototype.componentWillUnmount=function(){"use strict";this.props.taggerSource.sessionEnd()};l.prototype.render=function(){"use strict";return c("React").createElement(c("XUITypeahead.react"),{className:this.props.className,clearable:true,focusedOnInit:this.props.autoFocus,highlightOnSelect:true,initialEntry:this.props.taggerData.place,onBackspace:this.$ReactComposerLocationTypeaheadComponent1,onBlur:this.$ReactComposerLocationTypeaheadComponent2,onChange:this.$ReactComposerLocationTypeaheadComponent3,onClear:this.$ReactComposerLocationTypeaheadComponent4,onEntriesFound:this.$ReactComposerLocationTypeaheadComponent5,onFocus:this.$ReactComposerLocationTypeaheadComponent6,onNoEntriesFound:this.$ReactComposerLocationTypeaheadComponent7,onSelectAttempt:this.$ReactComposerLocationTypeaheadComponent8,placeholder:this.props.placeholder,presenter:this.props.presenter,queryString:this.state.query,searchSource:this.props.taggerSource,selectedEntry:this.props.taggerData.place,showEntriesOnFocus:true,tallInput:false})};l.prototype.$ReactComposerLocationTypeaheadComponent10=function(){"use strict";var m=this.$ReactComposerLocationTypeaheadComponent9();m.place=null;if(!this.props.implicitLocationEnabled)m.implicitLocation=null;this.props.onSelect&&this.props.onSelect(m)};l.propTypes={autoFocus:k.bool,defaultLocation:k.string,implicitLocationEnabled:k.bool,onSelect:k.func,placeholder:k.string,presenter:k.object,taggerData:k.object.isRequired,taggerSource:k.instanceOf(c("WebAsyncSearchSourceWithMetrics")).isRequired};l.defaultProps={autoFocus:true,implicitLocationEnabled:false,onSelect:c("emptyFunction"),placeholder:h._("Where are you?"),taggerData:{}};f.exports=l}),null);
__d("ReactComposerLocationTaggerComponent.react",["cx","fbt","Grid.react","ReactComposerLocationTypeaheadComponent.react","ReactComposerTaggerPresenter","ReactComposerTaggerViewStyles","React","WebAsyncSearchSourceWithMetrics"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("Grid.react").GridItem,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;n.prototype.render=function(){"use strict";return c("React").createElement(c("Grid.react"),{cols:2,className:"_5esl"},c("React").createElement(l,{key:"prefix",className:"_5esm"},i._("At")),c("React").createElement(l,{key:"tagger",className:"_5esw"},c("React").createElement(c("ReactComposerLocationTypeaheadComponent.react"),babelHelpers["extends"]({},this.props,{className:"_5esx _1wqz",presenter:this.$ReactComposerLocationTaggerComponent1()}))))};n.prototype.$ReactComposerLocationTaggerComponent1=function(){"use strict";var o={taggerViewStyle:this.props.taggerViewStyle};return Object.assign({},c("ReactComposerTaggerPresenter"),{layerPosition:this.props.layerPosition||undefined,extraRendererProps:o,maxEntries:15})};function n(){"use strict";j.apply(this,arguments)}n.propTypes={autoFocus:m.bool,implicitLocationEnabled:m.bool,onSelect:m.func,placeholder:m.string,taggerData:m.object.isRequired,taggerSource:m.instanceOf(c("WebAsyncSearchSourceWithMetrics")).isRequired,taggerViewStyle:m.shape(c("ReactComposerTaggerViewStyles").Shape)};n.defaultProps={taggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT};f.exports=n}),null);
__d("PlaceSearchConstants",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SOURCE_INTERN:"intern",SOURCE_W_COMPOSER:"web_composer",SOURCE_W_COMPOSER_MEDIA:"web_composer_media",SOURCE_ALBUM_CREATION:"album_creation",SOURCE_ALBUM_EDIT:"album_edit",SOURCE_PHOTO_EDIT:"photo_edit",SOURCE_ALBUM_ADD_PHOTOS:"album_add_photos",SOURCE_PLAN_EDIT:"plan_edit",SOURCE_GROUP_EDIT:"group_edit",SOURCE_DISSIMILARITY:"dissimilarity",SOURCE_TEST:"test",SOURCE_FQL:"fql",SOURCE_EVENTS:"events_create",SOURCE_PAGES:"pages_create",SOURCE_TOUCH:"touch",SOURCE_M:"m",SOURCE_M_PLAN:"m_plan",SOURCE_M_NO_GPS:"m_no_gps",SOURCE_PROFILE_MAP:"profile_map",SOURCE_WEB_DASH:"web_dashboard",SOURCE_MOBILE_DASH:"mobile_dashboard",SOURCE_UNKNOWN:"unknown",SOURCE_PHOTO_EDIT_EXIF:"photo_edit_exif",SOURCE_TIMELINE_LOCATION_EDIT:"timeline_location_edit",SOURCE_NETEGO_TAGGING:"netego_tagging",SOURCE_PPS_NETEGO:"netego_pps",SOURCE_PPS_SNOWLIFT:"snowlift_pps",SOURCE_PROXIMITY_GUESSER:"proximity_guesser",SOURCE_SEARCH_RESULTS_PAGE:"detailedsearch",SOURCE_PLACES_EDITOR:"places_editor",SOURCE_MAP_COMPOSER:"map_composer",SOURCE_W_MARKETPLACE_SEARCH:"web_marketplace_search",SOURCE_NEARBY:"nearby",SOURCE_SEARCH_MAP:"searchmap",SOURCE_TIMELINE_COMPOSER:"timeline_composer",SOURCE_M_EDIT_PROFILE:"m_edit_profile",SOURCE_M_EDIT_PAGE_INFO:"m_edit_page_info",SOURCE_PYML_NEARBY:"pyml_nearby",SOURCE_MOBILE_PLACE_COMPOSER:"mobile_place_composer",SOURCE_NEARBY_CHAT_ROOM:"nearby_chat_room",SOURCE_GRAPHQL:"graphql",SOURCE_CURRENT_PLACE:"current_place",SOURCE_AURA_PUSH_NOTIF:"aura_push_notif",SOURCE_SUGGESTIFIER:"suggestifier",SOURCE_PLACE_ADDRESS_LOCATED_IN:"place_address_located_in",SOURCE_IG_MEDIA_TAGGING:"instagram.media_tagging.place_search",SOURCE_MOBILE_STATUS:"mobile_status",SOURCE_MOBILE_CHECKIN:"mobile_checkin",SOURCE_SUGGESTED_CHECKIN_PROMPT:"suggested_checkin_prompt",SOURCE_MOBILE_PHOTO:"mobile_photo",SOURCE_CAMERA_MEDIA_EFFECT_UPLOAD:"camera_media_effect_upload",SOURCE_GEO_ADMIN_AREA_MATCHER:"geo_admin_area_matcher",SOURCE_INSTANT_WORKFLOWS:"instant_workflows",SOURCE_JOB_SEARCH:"job_search",SOURCE_INSPIRATIONS:"inspirations",SOURCE_IG_PLACE_TAGGING:"instagram.place_tagging",SOURCE_PAGES_MATCHER:"pages_matcher",SOURCE_HEALTH_BLOOD_DONATION_HOSPITAL:"blood_donation",PREDICTIONS_APPID:106712229428223})}),null);
__d("ReactComposerLocationTaggerContainer.react",["BasicTypeaheadLoggerJSConstants","MinutiaeVerbs","PlaceSearchConstants","React","ReactComposerLocationAttachmentActions","ReactComposerLocationAttachmentStore","ReactComposerLocationSearchSource","ReactComposerLocationTaggerComponent.react","ReactComposerLoggingName","ReactComposerMinutiaeAttachmentActions","ReactComposerTaggerActions","ReactComposerTaggerContainerMixin","ReactComposerTaggerType","ReactComposerTaggerViewStyles","areEqual","emptyFunction","getObjectValues"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("BasicTypeaheadLoggerJSConstants").EventNames,i=c("React").PropTypes,j=c("React").createClass({displayName:"ReactComposerLocationTaggerContainer",_taggerSourceInitialized:false,mixins:[c("ReactComposerTaggerContainerMixin")()],propTypes:{hideGeoHubs:i.bool,implicitLocationEnabled:i.bool,mediaLocation:i.shape({latitude:i.number.isRequired,longitude:i.number.isRequired}),onSelect:i.func.isRequired,taggerConfig:i.object,taggerViewStyle:i.shape(c("ReactComposerTaggerViewStyles").Shape),typeaheadLoggerEventName:i.oneOf(c("getObjectValues")(h)).isRequired,typeaheadSearchSource:i.oneOf(c("getObjectValues")(c("PlaceSearchConstants"))).isRequired},getDefaultProps:function k(){return{hideGeoHubs:false,onSelect:c("emptyFunction"),taggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT}},UNSAFE_componentWillMount:function k(){if(!this._taggerSourceInitialized){this._setNewSearchSource(this.props);this._taggerSourceInitialized=true;this.state.taggerData&&this.__onTaggerDataChanged(this.state.taggerData)}},UNSAFE_componentWillReceiveProps:function k(l){if(!c("areEqual")(l.mediaLocation,this.props.mediaLocation))this._setNewSearchSource(l)},statics:{taggerID:c("ReactComposerTaggerType").LOCATION,loggingName:c("ReactComposerLoggingName").LOCATION_TAGGER,taggerComponent:c("ReactComposerLocationTaggerComponent.react"),enableHideOnEscape:true},__onTaggerDataChanged:function k(l){__p&&__p();var m=l.place&&l.place.getAuxiliaryData();if(m)l.implicitLocation={cityid:m.cityID,citypageid:m.cityPageID,citystring:m.cityName};var n=c("ReactComposerLocationAttachmentStore").getMinutiaeTaggedPlace(this.context.composerID),o=c("ReactComposerLocationAttachmentStore").getIsTimeline(this.context.composerID),p=function p(q,r,s,t){c("ReactComposerMinutiaeAttachmentActions").setExplicitLocation(q,s);if(n)c("ReactComposerMinutiaeAttachmentActions").fetchMinutiaeAttachment(q,c("MinutiaeVerbs").COMPOSER_TRAVELS.toString(),n,r,t,o)};if(l.place){p(this.context.composerID,this.context.targetID,l.place.getUniqueID(),this.context.actorID);c("ReactComposerTaggerActions").deselectCurrentTagger(this.context.composerID,this.constructor.loggingName);c("ReactComposerLocationAttachmentActions").fetchLocationAttachment(this.context.composerID,l.place.getUniqueID(),this.context.targetID)}else{p(this.context.composerID,this.context.targetID,null,this.context.actorID);c("ReactComposerLocationAttachmentActions").setMarkup(this.context.composerID,null)}},_setNewSearchSource:function k(l){var m={latitude:(l.mediaLocation||{}).latitude,longitude:(l.mediaLocation||{}).longitude},n={hide_geo:l.hideGeoHubs,latitude:(l.mediaLocation||{}).latitude,longitude:(l.mediaLocation||{}).longitude},o={event_name:l.typeaheadLoggerEventName,event_specific_data:{context:"places_typeahead:"+l.typeaheadSearchSource,source:l.typeaheadSearchSource,ref:"ReactComposerLocationTypeaheadComponent.react"}},p=c("ReactComposerLocationSearchSource")(m,n,o);c("ReactComposerTaggerActions").setTaggerSource(this.context.composerID,c("ReactComposerTaggerType").LOCATION,p)}});f.exports=j}),null);
__d("ReactComposerPeopleTaggerButton.react",["cx","fbt","React","ReactComposerLoggingName","ReactComposerTaggerButtonMixin","ReactComposerTaggerType","CurrentUser"],(function a(b,c,d,e,f,g,h,i){var j=c("React").PropTypes,k=c("React").createClass({displayName:"ReactComposerPeopleTaggerButton",mixins:[c("ReactComposerTaggerButtonMixin")],propTypes:{isMultiCompanyGroup:j.bool},statics:{taggerID:c("ReactComposerTaggerType").PEOPLE,loggingName:c("ReactComposerLoggingName").PEOPLE_TAGGER},getTitle:function l(){if(c("CurrentUser").isWorkUser()&&!this.props.isMultiCompanyGroup)return i._("Tag coworkers");return i._("Tag people")},getTooltip:function l(){if(c("CurrentUser").isWorkUser()&&!this.props.isMultiCompanyGroup)return i._("Tag coworkers in your post");return i._("Tag people in your post")},getClassName:function l(){return"_51y3"}});f.exports=k}),null);
__d("ReactComposerPeopleTaggerTokenizerToken.react",["cx","React","SearchableEntry","TokenizerToken.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.$ReactComposerPeopleTaggerTokenizerToken1=function(){"use strict";return c("React").createElement("span",{className:"_jsa"})};l.prototype.render=function(){"use strict";var m=this.props.entry&&this.props.entry.getAuxiliaryData().isFacebox,n=(m?"_jsb":"")+" _jsc";return c("React").createElement(c("TokenizerToken.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,n),glyph:this.$ReactComposerPeopleTaggerTokenizerToken1()}))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={label:k.string.isRequired,entry:k.instanceOf(c("SearchableEntry")).isRequired,onRemove:k.func,highlighted:k.bool};f.exports=l}),null);
__d("ReactComposerPeopleTaggerComponent.react",["cx","fbt","Grid.react","ReactComposerPeopleTaggerTokenizerToken.react","ReactComposerTaggerPresenter","ReactComposerTaggerViewStyles","TaggingLimits","React","XUITokenizer.react","emptyFunction","CurrentUser"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("Grid.react").GridItem,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){__p&&__p();var o,p;"use strict";for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$ReactComposerPeopleTaggerComponent1=function(t){var u=this.props.taggerData,v=t.getUniqueID(),w=u.some(function(t){return t.getUniqueID()===v});if(w)return;else u.push(t);this.props.onSelect&&this.props.onSelect(u)}.bind(this),this.$ReactComposerPeopleTaggerComponent2=function(t){var u=this.props.taggerData,v=u.indexOf(t);if(v==-1)return;u.splice(v,1);this.props.onPeopleTagRemove&&this.props.onPeopleTagRemove(t);this.props.onSelect&&this.props.onSelect(u)}.bind(this),p}n.prototype.render=function(){"use strict";var o={};if(this.props.actorID)o[this.props.actorID]=true;return c("React").createElement(c("Grid.react"),{cols:2,className:"_5esl"},c("React").createElement(l,{key:"label",className:"_5esm"},i._("With")),c("React").createElement(l,{key:"tokenizer",className:"_5esw"},c("React").createElement(c("XUITokenizer.react"),babelHelpers["extends"]({presenter:this.$ReactComposerPeopleTaggerComponent3(),focusedOnInit:this.props.autoFocus,excludedEntries:o,entries:this.props.taggerData,className:"_5esx _2fzs",placeholder:this.props.placeholder,searchSource:this.props.taggerSource,onAddEntryAttempt:this.$ReactComposerPeopleTaggerComponent1,onRemoveEntryAttempt:this.$ReactComposerPeopleTaggerComponent2,limit:c("TaggingLimits").MAX_WITH_TAGS},this.props))))};n.prototype.$ReactComposerPeopleTaggerComponent3=function(){"use strict";var o=this.props.taggerConfig&&this.props.taggerConfig.presenter?this.props.taggerConfig.presenter:c("ReactComposerTaggerPresenter"),p={};p.taggerViewStyle=this.props.taggerViewStyle;p.viewProps=this.props.taggerConfig&&this.props.taggerConfig.typeaheadViewProps;return Object.assign({},o,{layerPosition:this.props.layerPosition||undefined,extraRendererProps:p,TokenRenderer:c("ReactComposerPeopleTaggerTokenizerToken.react")})};n.propTypes={actorID:m.string,autoFocus:m.bool,placeholder:m.string,taggerConfig:m.object,taggerData:m.array.isRequired,taggerSource:m.object.isRequired,onPeopleTagRemove:m.func,onSelect:m.func,taggerViewStyle:m.shape(c("ReactComposerTaggerViewStyles").Shape)};n.defaultProps=function(){var o=i._("Who are you with?");if(c("CurrentUser").isWorkUser())o=i._("Who do you want to tag?");return{autoFocus:true,onSelect:c("emptyFunction"),placeholder:o,taggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT,taggerData:[]}}();f.exports=n}),null);
__d("ReactComposerPeopleTaggerContainer.react",["React","ReactComposerLoggingName","ReactComposerPeopleTaggerComponent.react","ReactComposerPhotoActions","ReactComposerTaggerActions","ReactComposerTaggerContainerStateMixin","ReactComposerTaggerHideOnEscapeKeyPress.react","ReactComposerTaggerType","ReactComposerTaggerViewStyles"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerPeopleTaggerContainer",mixins:[c("ReactComposerTaggerContainerStateMixin")()],propTypes:{actorID:h.string,taggerConfig:h.object,taggerViewStyle:h.shape(c("ReactComposerTaggerViewStyles").Shape)},getDefaultProps:function j(){return{taggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT}},statics:{taggerID:c("ReactComposerTaggerType").PEOPLE},render:function j(){if(!this.state.isSelected)return c("React").createElement("noscript",null);return c("React").createElement("div",{"data-testid":"people-tagger-component"},c("React").createElement(c("ReactComposerTaggerHideOnEscapeKeyPress.react"),{shouldHideOnEscape:this.state.isSelected},c("React").createElement(c("ReactComposerPeopleTaggerComponent.react"),babelHelpers["extends"]({},this.props,{autoFocus:this.state.autoFocus,onPeopleTagRemove:this._onPeopleTagRemove,onSelect:this._onTaggerDataChanged,taggerData:this.state.taggerData,taggerSource:this.state.taggerSource}))))},_onTaggerDataChanged:function j(k){c("ReactComposerTaggerActions").setTaggerData(this.context.composerID,c("ReactComposerLoggingName").PEOPLE_TAGGER,c("ReactComposerTaggerType").PEOPLE,k);this.props.onSelect&&this.props.onSelect(k)},_onPeopleTagRemove:function j(k){c("ReactComposerPhotoActions").untagSubjectFromAllPhotos(this.context.composerID,k.getUniqueID())}});f.exports=i}),null);
__d("CanvasToBlobImpl",["BlobFactory"],(function a(b,c,d,e,f,g){function h(i,j){var k=atob(i.substr(i.indexOf(",")+1)),l=new Uint8Array(k.length);for(var m=0;m<k.length;m++)l[m]=k.charCodeAt(m);return c("BlobFactory").getBlob([l],{type:j})}f.exports={getBlob:h}}),null);
__d("XVideoPermalinkController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/{vanity}/videos/{?set_token}/{video_id}/{?story_token}/",{photo_id:{type:"Int"},set_token:{type:"String"},type:{type:"Enum",defaultValue:3,enumType:0},link_share:{type:"String"},subject:{type:"Int"},object_id:{type:"Int"},opaque_cursor:{type:"String"},legacy_user_id:{type:"Int"},legacy_photo_id:{type:"Int"},video_id:{type:"Int"},comment_id:{type:"Int"},notif_t:{type:"String"},is_notification_preview:{type:"Bool",defaultValue:false},force_theater:{type:"Bool",defaultValue:false},story_token:{type:"String"},vanity:{type:"String"},reply_comment_id:{type:"Int"}})}),null);
__d("VideoPermalinkText.react",["cx","React","XUITextInput.react","XVideoPermalinkController"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.$VideoPermalinkText1=function(){"use strict";return c("XVideoPermalinkController").getURIBuilder().setInt("video_id",this.props.videoID).setString("vanity",this.props.targetID).getURI().getQualifiedURI().toString()};k.prototype.render=function(){"use strict";return c("React").createElement(c("XUITextInput.react"),{className:"_9_1",value:this.$VideoPermalinkText1(),size:85,height:"tall",ref:"permalink_field",onFocus:function(){return this.refs.permalink_field.getTextFieldDOM().select()}.bind(this)})};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("PublishingToolsSource",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADS_CANVAS_LANDING_PAGE:"ads_canvas_landing_page",COPYRIGHT_MATCH_PERMALINK:"copyright_match_permalink",DRAFTS_POSTS_TIMELINE_PAGELET:"draft_timeline_pagelet",EXPIRING_POSTS_TIMELINE_PAGELET:"expiring_timeline_pagelet",IA_URL_GROWTH_QP:"ia_url_growth_qp",NOTIFICATION:"notif",OPTIMISTIC_VIDEO_POST:"optimistic_video_post",PAGES_MANAGER_BAR:"pages_manager_bar",PAYMENT_SETTINGS_HEADER:"payment_settings_header",SCHEDULED_POSTS_TIMELINE_PAGELET:"scheduled_timeline_pagelet",UNKNOWN:"unknown",VIDEO_ASSET_INSIGHTS_PERMALINK:"video_asset_insights_permalink",VIDEO_EDIT_PERMALINK:"video_edit_permalink",VIDEO_INSIGHTS:"video_insights",VIDEO_LIBRARY_MEGAPHONE:"video_library_megaphone",VIDEO_UPLOAD_CONFIRMATION_DIALOG:"video_upload_confirmation_dialog",VIDEO_UPLOAD_NOTIF:"video_upload_notif",VIDEOS_HUB:"videos_hub",VIDEOS_YOU_CAN_USE_TIMELINE_PAGELET:"crossposted_timeline_pagelet",LEAD_GEN_DOWNLOAD_DIALOG_FORMS_LIB:"lead_gen_download_dialog_forms_lib",LEAD_GEN_DOWNLOAD_DIALOG_NAM:"lead_gen_download_dialog_nam",LEAD_GEN_DOWNLOAD_DIALOG_NAM_LINK:"lead_gen_download_dialog_nam_link",LEAD_GEN_DOWNLOAD_DIALOG_PE:"lead_gen_download_dialog_pe",LEAD_GEN_DOWNLOAD_DIALOG_PE_LINK:"lead_gen_download_dialog_pe_link",LEAD_GEN_DOWNLOAD_DIALOG_OTHER:"lead_gen_download_dialog_other",LEAD_GEN_FORM_LIBRARY_NOTICE:"lead_gen_form_library_notice",LEAD_GEN_INLINE_FORM_SELECTOR:"lead_gen_inline_form_selector",LEAD_GEN_DOWNLOAD_DIALOG_CONNECT_CRM:"lead_gen_download_dialog_connect_crm",LEAD_GEN_ORGANIC:"lead_gen_organic",WWW_CHATBAR:"www_chatbar",PAGE_EVENTS_TAB:"page_events_tab",PAGES_QR_CODE_DOWNLOAD_AYMT:"pages_qr_code_download_aymt"})}),null);
__d("VideoLibrarySource",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({VIDEO_UPLOAD_CONFIRMATION_DIALOG:"video_upload_confirmation_dialog",OPTIMISTIC_VIDEO_POST:"optimistic_video_post",VIDEO_INSIGHTS:"video_insights",VIDEOS_HUB:"videos_hub"})}),null);
__d("XVideoEditDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/edit/dialog/",{video_id:{type:"Int"},source:{type:"Enum",enumType:1},story_dom_id:{type:"String"},timeline_identifier:{type:"String"},post_id:{type:"String"},video_asset_id:{type:"Int"},__asyncDialog:{type:"Int"}})}),null);
__d("VideoUploadProcessingDialog.react",["fbt","ActorURI","PublishingToolsSource","React","VideoEditSource","VideoLibraryButton.react","VideoLibrarySource","VideoPermalinkText.react","XUIDialog.react","XUIDialogTitle.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogCloseButton.react","XUIDialogButton.react","XVideoEditController","XVideoEditDialogController"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){__p&&__p();var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={dialogShown:true},this.$VideoUploadProcessingDialog1=function(r){this.setState({dialogShown:r});if(!r&&this.props.onClose)this.props.onClose()}.bind(this),this.$VideoUploadProcessingDialog2=function(){this.setState({dialogShown:false})}.bind(this),this.$VideoUploadProcessingDialog4=function(){return this.props.isSecretVideo?h._("Processing Secret Video"):h._("Processing Video")}.bind(this),n}l.prototype.UNSAFE_componentWillReceiveProps=function(m){"use strict";if(m.show)this.setState({dialogShown:true})};l.prototype.$VideoUploadProcessingDialog3=function(){"use strict";if(this.props.isReferenceVideo)return h._("Your reference file is now processing. We will send you a notification when it's ready and monitored.");else if(this.props.isSecretVideo)return c("React").createElement("div",null,h._("Your secret video is now processing. We will notify you when it is it ready to view at the following location:"),c("React").createElement(c("VideoPermalinkText.react"),{targetID:String(this.context&&this.context.targetID||this.props.pageID),videoID:this.props.videoID}));else return h._("Your video is now processing. We will send you a notification when it's ready to view.")};l.prototype.render=function(){"use strict";__p&&__p();var m,n=h._("Edit Video"),o;if(this.props.isReferenceVideo)o=null;else if(this.props.shouldShowNewEditDialog&&this.props.pageID){m=c("XVideoEditDialogController").getURIBuilder().setInt("video_id",this.props.videoID).setEnum("source",c("VideoEditSource").PROCESSING_DIALOG).getURI();m=c("ActorURI").create(m,this.props.pageID);o=c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",label:n,href:m,onClick:this.$VideoUploadProcessingDialog2,rel:"dialog"})}else{m=c("XVideoEditController").getURIBuilder().setInt("v",this.props.videoID).setEnum("source",c("VideoEditSource").PROCESSING_DIALOG).getURI();o=c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",label:n,href:m,onClick:this.$VideoUploadProcessingDialog2,target:"_blank"})}var p=null;if(this.props.shouldShowVideoLibrary)p=c("React").createElement(c("VideoLibraryButton.react"),{pageID:this.props.pageID,size:"medium",source:c("VideoLibrarySource").VIDEO_UPLOAD_CONFIRMATION_DIALOG,refSource:c("PublishingToolsSource").VIDEO_UPLOAD_CONFIRMATION_DIALOG});return c("React").createElement(c("XUIDialog.react"),{shown:this.state.dialogShown,width:400,onToggle:this.$VideoUploadProcessingDialog1,key:"dialog"},c("React").createElement(c("XUIDialogTitle.react"),null,this.$VideoUploadProcessingDialog4()),c("React").createElement(c("XUIDialogBody.react"),null,this.$VideoUploadProcessingDialog3()),c("React").createElement(c("XUIDialogFooter.react"),{leftContent:p},c("React").createElement(c("XUIDialogCloseButton.react"),null),o))};l.propTypes={onClose:k.func,shouldShowNewEditDialog:k.bool,isReferenceVideo:k.bool,shouldShowVideoLibrary:k.bool};f.exports=l}),null);
__d("CommerceProductTaggerType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NONE:"none",SHOP_PAGE:"shop_page",NON_SHOP_PAGE:"non_shop_page",INFLUENCER_PAGE:"influencer_page"})}),null);
__d("CommerceSelfServeNUXType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADD_SHIPPING_OPTIONS_PUX:"add_shipping_options_pux",ADMIN_PAYMENTS_NAV_ITEM_NUX:"admin_payments_nav_item_nux",COLLECTION_SHARE_UPSELL:"collection_share_upsell",COMMERCE_INTRO_LANDING_NUX:"commerce_intro_landing_nux",COMPOSER_PRODUCT_PHOTO_TAGGER_BUTTON:"composer_product_photo_tagger_button",COMPOSER_PRODUCT_TAGGER_BUTTON:"composer_product_tagger_button",DISCOUNT_CODES_UPSELL:"discount_codes_upsell",FIRST_ORDER_BANNER:"first_order_banner",FIRST_ORDER_MODAL:"first_order_modal",INVOICE_PAYMENTS_CONFIRM_PUX:"invoice_payments_confirm_pux",INVOICE_PAYMENTS_CREATION_PUX:"invoice_payments_creation_pux",INVOICE_PAYMENTS_INVOICE_CREATION_BUTTON:"invoice_payments_invoice_creation_button",INVOICE_PAYMENTS_PAGE_LANDING_UPSELL:"invoice_payments_page_landing_upsell",PHOTO_VIEWER_PRODUCT_TAGGER_BUTTON:"photo_viewer_product_tagger_button",PRODUCT_ATTACHMENT_COMPOSER:"product_attachment_composer_nux",SHOP_NOW_CTA:"shop_now_cta",SHOP_TAB_IN_PUBLISHING_TOOLS:"shop_tab_pt_self_serve_nux",SHOP_TAB_ON_PAGE:"shop_tab_page_self_serve_nux",VIDEO_COMPOSER_PRODUCT_TAGGER_BUTTON:"video_composer_product_tagger_button",VIDEO_EDITOR_PRODUCT_TAGGER_BUTTON:"video_editor_product_tagger_button",VIDEO_COMPOSER_MESSENGER_PROMPT_BUTTON:"video_composer_messenger_prompt_button",PHOTO_COMPOSER_MESSENGER_PROMPT_BUTTON:"photo_composer_messenger_prompt_button",PRODUCT_TAG_PAGE_LANDING_UPSELL:"product_tag_page_landing_upsell"})}),null);
__d("ModalPhotoEditorTabName",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CUSTOM_ACCESSIBILITY_CAPTION:"custom_accessibility_caption",CROP:"crop",FILTERS:"filters",FRAMES:"frames",PRODUCT_TAG:"product_tag",STICKERS:"stickers",TAG:"tag",TEXT:"text"})}),null);
__d("PUWErrorCodes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BAD_JPEG:9901,WORKER_TERMINATED:9902,UNKNOWN_RESIZE_ERROR:9903,WORKER_ABORT:9904})}),null);
__d("Emscripten",[],(function a(b,c,d,e,f,g){f.exports={isSupported:function h(){return typeof Int32Array!=="undefined"&&typeof Float64Array!=="undefined"&&!!new Int32Array(1).subarray&&!!new Int32Array(1).set}}}),null);
__d("PooledWebWorker",["WebWorker"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebWorker"));i=h&&h.prototype;function j(k,l,m){"use strict";i.constructor.call(this,m);this.$PooledWebWorker1=l;this.$PooledWebWorker2=k}j.prototype.getIndex=function(){"use strict";return this.$PooledWebWorker1};j.prototype.getPool=function(){"use strict";return this.$PooledWebWorker2};f.exports=j}),null);
__d("WebWorkerPool",["PooledWebWorker","emptyFunction"],(function a(b,c,d,e,f,g){__p&&__p();h.isSupported=function(){"use strict";return c("PooledWebWorker").isSupported()};function h(i,j){"use strict";this.$WebWorkerPool1=[];for(var k=0;k<j;k++)this.$WebWorkerPool1.push(new(c("PooledWebWorker"))(this,k,i).setErrorHandler(this.$WebWorkerPool2).setMessageHandler(this.$WebWorkerPool3).execute());this.$WebWorkerPool4=0}h.prototype.setMessageHandler=function(i){"use strict";this.$WebWorkerPool5=i||c("emptyFunction");return this};h.prototype.setAllowCrossPageTransition=function(i){"use strict";this.$WebWorkerPool1.forEach(function(j){return j.setAllowCrossPageTransition(i)});return this};h.prototype.setErrorHandler=function(i){"use strict";this.$WebWorkerPool6=i||c("emptyFunction");return this};h.prototype.postMessage=function(){"use strict";var i=this.getWorker();for(var j=arguments.length,k=Array(j),l=0;l<j;l++)k[l]=arguments[l];i.postMessage.apply(i,k);return i};h.prototype.$WebWorkerPool3=function(){"use strict";for(var i=arguments.length,j=Array(i),k=0;k<i;k++)j[k]=arguments[k];j.unshift(this);this.getPool().$WebWorkerPool5.apply(this.getPool(),j)};h.prototype.$WebWorkerPool2=function(){"use strict";for(var i=arguments.length,j=Array(i),k=0;k<i;k++)j[k]=arguments[k];j.unshift(this);return this.getPool().$WebWorkerPool6.apply(this.getPool(),j)};h.prototype.getWorker=function(){"use strict";var i=this.$WebWorkerPool1[this.$WebWorkerPool4];this.$WebWorkerPool4=(this.$WebWorkerPool4+1)%this.$WebWorkerPool1.length;return i};f.exports=h}),null);
__d("JpegResizer",["Emscripten","JpegResizerConfig","JpegResizeWorkerResource","PUWErrorCodes","WebWorker","WebWorkerPool"],(function a(b,c,d,e,f,g){__p&&__p();var h=null;i.isSupported=function(){"use strict";return c("WebWorkerPool").isSupported()&&c("Emscripten").isSupported()&&!c("JpegResizerConfig").isGKBlacklisted};i.getSingleton=function(j){"use strict";if(!h)h=new i(j||i.DEFAULT_POOL_SIZE).setAllowCrossPageTransition(true);return h};i.prepareResource=function(j){"use strict";c("WebWorker").prepareResource(c("JpegResizeWorkerResource"),j)};function i(j){"use strict";j=j||i.DEFAULT_POOL_SIZE;c("WebWorker").prepareResource(c("JpegResizeWorkerResource"));this.$JpegResizer1=new(c("WebWorkerPool"))(c("JpegResizeWorkerResource"),j).setErrorHandler(this.$JpegResizer2.bind(this)).setMessageHandler(this.$JpegResizer3.bind(this));this.$JpegResizer4={};this.$JpegResizer5=i.DEFAULT_RESIZE_HEIGHT;this.$JpegResizer6=i.DEFAULT_RESIZE_WIDTH;this.$JpegResizer7=0;this.$JpegResizer8=85}i.prototype.setHighQuality=function(j){"use strict";if(j){this.$JpegResizer5=i.DEFAULT_RESIZE_HEIGHT;this.$JpegResizer6=i.DEFAULT_RESIZE_WIDTH}else{this.$JpegResizer5=i.LOW_QUALITY_RESIZE_HEIGHT;this.$JpegResizer6=i.LOW_QUALITY_RESIZE_WIDTH}return this};i.prototype.setEncodeQuality=function(j){"use strict";this.$JpegResizer8=j;return this};i.prototype.setUndershoot=function(j){"use strict";this.$JpegResizer7=j;return this};i.prototype.setAllowCrossPageTransition=function(j){"use strict";this.$JpegResizer1.setAllowCrossPageTransition(j);return this};i.prototype.resizeBlob=function(j,k,l){"use strict";return this.$JpegResizer9(j,this.$JpegResizer6,this.$JpegResizer5,k,l)};i.prototype.resize360Blob=function(j,k,l,m){"use strict";var n=this.$JpegResizer6*3,o=this.$JpegResizer5*3;if(m){n=m;o=m}return this.$JpegResizer9(j,n,o,k,l)};i.prototype.$JpegResizer9=function(j,k,l,m,n){"use strict";__p&&__p();var o=this.$JpegResizer1.getWorker();if(o.isCurrentState("terminated")){var p=new Error("Worker terminated");p.code=c("PUWErrorCodes").WORKER_TERMINATED;m(p);return this}var q=o.postMessage({blob:j,height:l,width:k,quality:this.$JpegResizer8,undershoot:this.$JpegResizer7}).getIndex();this.$JpegResizer10(q).unshift({done:m,progress:n});return this};i.prototype.$JpegResizer10=function(j){"use strict";if(!Object.prototype.hasOwnProperty.call(this.$JpegResizer4,j))this.$JpegResizer4[j]=[];return this.$JpegResizer4[j]};i.prototype.$JpegResizer2=function(j,k){"use strict";j.terminate();var l=this.$JpegResizer10(j.getIndex());this.$JpegResizer11(k);l.forEach(function(m){return m.done(k)});l.length=0};i.prototype.$JpegResizer3=function(j,k){"use strict";if(k.error)this.$JpegResizer11(k.error);if(k.done)this.$JpegResizer10(j.getIndex()).pop().done(k.error,k.blob,k.skipped,k.originalWidth,k.originalHeight);else{var l=this.$JpegResizer10(j.getIndex()),m=l[l.length-1].progress;if(m)m({written:k.written,total:k.total})}};i.prototype.$JpegResizer11=function(j){"use strict";var k=j.message;if(k&&k.indexOf("Not a JPEG file")!==-1)j.code=c("PUWErrorCodes").BAD_JPEG;else if(k&&k.indexOf("abort()")!==-1)j.code=c("PUWErrorCodes").WORKER_ABORT;else j.code=c("PUWErrorCodes").UNKNOWN_RESIZE_ERROR};i.DEFAULT_POOL_SIZE=3;i.DEFAULT_RESIZE_HEIGHT=2048;i.DEFAULT_RESIZE_WIDTH=2048;i.LOW_QUALITY_RESIZE_HEIGHT=960;i.LOW_QUALITY_RESIZE_WIDTH=960;f.exports=i}),null);
__d("requiredIfPropIsTruthy",["sprintf"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){return function(k,l,m){if(!k[i])return null;if(k[l]===undefined)return new Error(c("sprintf")("Must supply %s to %s if property %s is truthy.",l,m,i));for(var n=arguments.length,o=Array(n>3?n-3:0),p=3;p<n;p++)o[p-3]=arguments[p];return j.apply(undefined,[k,l,m].concat(o))}}f.exports=h}),null);
__d("XCommerceSelfServeMerchantNUXSeenController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/commerce/self-serve/merchant/mark-nux-seen/",{page_id:{type:"Int",required:true},nux_type:{type:"Enum",required:true,enumType:1},event:{type:"Enum",defaultValue:"Actn_NuxSeen",enumType:1}})}),null);